(window.webpackJsonp=window.webpackJsonp||[]).push([[45,4],{2167:function(t,e,n){var r=[{emitter:n(35),event:"follow",getInstance:function(t,e){var n=e.target;return t.options.userId===n},handler:function(t){var e,n=t.state,r=t.origin;n&&this.shouldAddFromActions?this.add({id:r},{at:0}):!n&&(e=this.get(r))&&this.remove(e)}}];t.exports=n(172).extend(n(196).withOptions({events:r}),{model:n(33),defaults:{limit:7,type:"followers"},shouldAddFromActions:!0,baseUrl:function(){return this.getEndpointUrl("userFollowers",{id:this.options.userId})}})},2169:function(t,e,n){var r=[{emitter:n(35),event:"follow",getInstance:function(t,e){var n=e.origin;return t.options.userId===n},handler:function(t){var e=t.state,n=t.target;e&&this.add({id:n},{at:0})}}],o=t.exports=n(172).extend(n(196).withOptions({events:r}),{model:n(33),defaults:{limit:3,type:"followings"},baseUrl:function(){return this.getEndpointUrl("userFollowings",{id:this.options.userId})}});n(738).applyTo(o,{fields:["username","full_name"]})},2175:function(t,e,n){t.exports=n(172).extend({model:n(50),defaults:{type:"playlists"},baseUrl:function(){return this.getEndpointUrl("userPlaylistsWithoutAlbums",{id:this.options.userId})}})},2177:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOCIgaGVpZ2h0PSI1IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogIDxwYXRoIGQ9Ik0xIC4wMjNsLTEgMSAzLjk1NSAzLjk1NUw3Ljk3OC45NTVsLTEtMS0zLjAyMyAzLjAyM0wxIC4wMjN6IiBmaWxsPSIjMDAwIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz4KPC9zdmc+Cg=="},2179:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAACnBAMAAADd8MzuAAAAJ1BMVEUAAADt7e3v7+/u7u7u7u7v7+/V1dXu7u7v7+/v7+/u7u7u7u7t7e1+coy7AAAADXRSTlMAK4/V8v8GlP29LPOQA9OSagAAAOlJREFUeAHt3CVCBQEUBdCLdxIR3QEkIgvAXRuVRMatswESGVkC68It/jQPOfeP20mjf+Yl6R2dbzgTA0myfTzfeJZ2k+7L+YIsb6VnviQ76auBLzJSA89krAaezX0NvJqXbhrOiwkGg8FgMBgMBoP/E9zV+gpgMBgMBr9MmPq3MBgMBoPB3wb+Hvzd+1MwGAwGf+uDwWDwN/IlLcCfmQKDweDKIxcYDHbvBAaDwWB/hjQAg8FgMLjgfS4wGAwGg30LAwaDwWAwGFxW16euktFDDTyT6xp4v6w+V1lFsroabMnVeNPu7UDyBMXh8J9inpNdAAAAAElFTkSuQmCC"},2180:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeAAAAFOCAMAAABpHD45AAAARVBMVEUAAADV1dXt7e3u7u7v7+/v7+/u7u7v7+/t7e3q6uru7u7u7u7b29vt7e3u7u7t7e3u7u7u7u7u7u7u7u7u7u7u7u7u7u7XoTEbAAAAF3RSTlMABkaVv9ny/0cYlvEHgfSCx8gt4y6X8/DMJysAAAMSSURBVHgB7d0FjiNJFEXRFwaF0824//0N96Q626RoKC7hjNBf52zh6hX+kFvutRu5ZowftoeRO/c9p9bOoYbNGMvTwC9bO4Q6ervMjwJPfUkt7L8t94HftznV8LL9nmSVZNK3onlMN4Ff9pJ9mXcvk5a8OqYmdv9klamlKMaUZN/L4lNWraUsvrbsemHssu6Fsc6mF8Ym214Y23zuhfG59Tx1CNfsec9VKE1ggREYgREYgREYgQVGYARGYARGYAQWGIERGIERGIERGIEFRmAERmAERmAEFhiBERiBERiBEVhgBEZgBEZgBEZgBBYYgREYgRGY/2tT41MKfO6EBQuMwAiMwAiMwAiMwAIjMAIjMAIjMAILjMAIjMAIjMAILDAC42WD9xEWjMAIjMAILDACIzACIzACI7DACIzACIzACIzAAiMwAiMwAiMwAnMFgREYgdl4O2jBCIzA+B7se6cFIzACC4zACIzACIzACCwwAiMwAiMwAiMwAguMmyyX1RaMwAiMwAgsMAIjMAIjMAIjsMAIjMAIjMBUvOjoJW48bhwsGIERGIERWGAERmAERmAERmCBERiBERiBKXHRcbjCS4+DBSMwAiMwAguMwAiMwAiMwAiMwAIjMAX+H8zBghEYgREYgRFYYARGYARGYARGYIERGIERGIERmIKBERiBBcZdtKtmC8aCLc+CERiBBUZgBEZgBEZgBEZggREYgREYgREYgQVGYARGYARGYAT2soGDBSMwAiMwAvNfAiMwAiMwAiMwAiOwwAiMwAiMwAiMwAIjMAIjMAIjMAKz8arIghEYgREYgREYgQVGYARGYARGYAQWGIERGIERGIERGIEFRmAERmAERmAEFhiBERiBERiBqRsYgfncC+Nztr0wttn0wthk3QtjnV0vjF3ai14WL9pq7FMWY6wy9xRFH1llaSmKsWSVXPYpiWnkZ+D528sUxMvD/CtwllawMC/HkqTlp2n3NbUwHZbcB87L9TikDvoYc35q98FbO6cGNmMsudFyr/VTa+/+CdfszV9jbA8jd74DN4TtIRHCQ7AAAAAASUVORK5CYII="},2189:function(t,e,n){t.exports=n.p+"assets/images/at-icon-d02289ec.svg"},2192:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAACnBAMAAADd8MzuAAAAJ1BMVEUAAAD////z8/Pz8/Px8fHv7+/v7+/w8PDv7+/v7+/v7+/w8PDv7++6cvnQAAAADHRSTlMABissj5CUvdXy8/2UePAFAAAA6ElEQVR42u3coW2CURQF4IOp+gWKCepqcXXojoBo9+gCbRiAERBVYCsQTWjoHYoFEKQJ/4XkOwt87uS+J06Sx48aOetFksy+a/T8vSWT92rIYZqHaslrnnrgXV564J+seuDffPXAx1RVZeRUVYHBYDAYDAaDwWAwGAwGg8GXZ6iq/X/g4fK/sj0YDL5NuK1AwGBwO3y2YsBg8F3BKhMMdtCDwZ6pYJ+oYDAYDAaDweArHPRgMLgfVplgMBgMBoPBYDAYDAaDweC7gtt2fdqWjJZd203PPfC2b5+rbZGsbYMtmX+O7W4WyQmkQ82SS+JpNQAAAABJRU5ErkJggg=="},2193:function(t,e,n){t.exports=n.p+"assets/images/likes-3bcb162f.png"},2194:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAACxCAMAAADNj8BpAAAANlBMVEX////////+/v75+fn09PT7+/vv7+/29vbx8fH9/f3z8/P4+Pj8/Pz6+vrw8PD19fXy8vL39/eXzOw5AAAAAXRSTlMAQObYZgAAAc1JREFUeAHs2UmOwyAQheG8Yh7t3P+yvWlZtlF3WGSRPOq/wScVohAP/7YeX5GCFwMrWMEKVrCC/SelYAUrWMEK/m6wNVWkmm0RsE34LW0rLB4Fpww/+IlLhR28C65lcrDDrcoN7oJ7kRq8YWijBgcMPanBBUOGGvzEUFntDAdqcMTQ/nm79BvBPuGWeG5wwS1DDs64ZbnBw0yLZwcXXDL04IhLOz3YN5xynh+cccqu8LfkhscwOXjDUVgC3HEUKcFDMlzC5OC0GlgOcF8B3A2OWmcHx+AEp8SFyAvuoWIMNURKcG6CPxKX+cAG/9bYwAYvalzgjJdZKnDFyxIT2GIiSwR2mKjygHdMlWnABVMZGrBgKmEBW0xmScAGkzUScMJkQgJugrncT3t3UAMADMQwjD/r0ogql0Heu8mOSwULDkywYMGCfcUTLFiwYMGCzczMzMzMzMzMzMzMzMw8lwoWLFiwYMGCnQ8LFixYsGDOA+eB88B54DxwHjgPnAfOA+eB88B54DxwHjgPnAfOA+eB88B54Dw8B3MeOA+cB84D54HzwHngPHAeOA+cB84D54HzwHngPHAeOA+cB8elggULFixYMOdBsGDBggUHNyKYasrzIS75AAAAAElFTkSuQmCC"},2195:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAACnCAMAAAAYACHvAAAATlBMVEUAAADq6uru7u7v7+/s7Ozs7Ozu7u7u7u7u7u7v7+/u7u7w8PDx8fHy8vLz8/P09PT19fX29vb5+fn6+vr7+/v8/Pz9/f3+/v7////v7+9UBIUXAAAAC3RSTlMAJT0+Q0SawNju8xxX58QAAAJ0SURBVHgB7dzXcqswGEVhudHSIEEQvf+Dnr5zJj1h/os9aK0rd/tzxRKQ/nRpuqHsuqFrzkkd2lJF7eGv99SXSuqPv72HGrwSH1JKbamoNqVzqapzauoCN6mrC9wl/f4+7r2/zCGVusAFMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAHvM8CAAQMGDHianh0rm7oeszf4mfCZeCwbG1d3sLzPxetm8c3qDZb3lfhuq3i0B8sbJZ7NwfK+Et9uBI/mYHnDxFfeYHkDxaszWN4YsT/4uTfom2vxAn/slVgtOed5nh/U/VMPap7nnJfFFPyxV+INrf5geWPEiz9Y3hixP1jeGLE/WN4YsT9Y3hixP1jeOHG2BssbI/YHyxsj9gfLGyh+Bs5GYHnjxb5geYPFtmB5o8WzK3j916Ke/c/5ny7nBg5oCXmogH3BuTw1AwYMGDBgwIABAwYMGDBgwIAB+w/EAw4Cx499+oHjR7cNwPkxXiyvPzhMLK8/OEY87WUgfor3eoMljvIagAPE8pqCl/h1gfzBkWJ5/cExYnn9wTFief3BMWJ5ncFr/FrX3uBlyXn+1Wfrv+flY7G8ruAN3a0fi+V1BK9lS7cfiuX1B8eI5TUDq6tosbyu4LHEiuW1Bc9FhXxzyWsIVmOkWF5n8HoTsgX8JK8xWOIxZHvwSV5jsMrj9TbxM+E0sR8PwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIB3EOChLvCQulJVXWrqAjfpXBf4nFJbk7dNKR36erz9If3q1FfjPaU/Hdo6vO0hqUvTDfvGDl1z+UP9CdD0wN3vOowrAAAAAElFTkSuQmCC"},2196:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAACyAgMAAAABq6pmAAAACVBMVEX////v7+////+9ZSd4AAAAAXRSTlMAQObYZgAAAJFJREFUeF7t2bEJgDAQBVDdzBFsYuEI7uMIFmZKOxGEKFiEi+/47auUXMLv0m3G7u3Ex3Cfnqc6nrdPGH6XK85tY3hZ523a6+Pyvz20hpf1J3jK+cR5f9xVQXHpU4XG9U8S2K6C02fsylxO0KdRk69YWERERBQCsB4jDNZjwHoMPYYeQ4+hx4DtKliPocfQY8AHTV0CS6v3S5oAAAAASUVORK5CYII="},2197:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAMAAADnYz6mAAAAQlBMVEUAAAD09PTz8/P19fX19fXr6+vt7e319fX19fXx8fH09PT19fX19fX09PT09PS/v7/09PTMzMz19fX09PTz8/P19fXpFaatAAAAFXRSTlMAd1Uzxg0Ox8U4WvT4jKYEpwXEjhaS10p/AAABSklEQVR4XuzPuQ2AMAAEsKNNIh6h7L8qS9CcZG/gXOOoNp6cu9ydtcut7HoKP1BQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFCYu9zMu8t91c+7DQIxAMBQEx+fFDQI9l+VjvoUCSn2AtZ7whwnuiwfXuO/TU7mquBxZZPMC3BZECccGwkwL8C8APMCzAswL8C8APMCzAswL8C8APMCzAswL8C8APMCzAswL8C8APMCzAswL8C8APMCzAswL8C8APMCzAswL8C8APMCXBAUCMeNUOYFmBdgXoB5AeYFmBdgXoB5AeYFmBdgXoB5AeYF+BPECfewAPMCzAswL8C8APMC3hsLvt9F8VIcwPHcAAAAAElFTkSuQmCC"},2198:function(t,e,n){t.exports=n.p+"assets/images/history-ccb53270.png"},2199:function(t,e,n){t.exports=n.p+"assets/images/stations-96e82b90.svg"},2200:function(t,e,n){t.exports=n.p+"assets/images/likes@2x-0ea46c8c.png"},2201:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeAAAAFOCAMAAABpHD45AAAARVBMVEUAAAD////////09PT09PT09PTw8PDx8fHv7+/v7+/w8PDw8PDw8PDw8PDw8PDw8PDw8PDv7+/v7+/v7+/v7+/v7+/v7+9u/7I5AAAAFnRSTlMABgcYLS5GR4GClZaXv8fI2ePx8vP0thwu4AAAAyNJREFUeF7s1FsOwyAQQ1HDtCWBTgIkdP9LrSpFfa6glq3zxe/VgNfCJXvdbtpf26rnFPA7K10BWPRi+FychgIwGXPE22xRADar4blTUwA+7Yxjpr6U2nHDUf8zqTXisUkBWM0AYEMBWA0DUBSA1xUIXQF49YCkAMwSsgIwy3AFYOaoCsCsYlcAZju+X+7s3FENwFAIALGpeP6lTgACDpKeBPpJ4LucpidgwAIswAIswAIMGDBgARZgARZgARZgwIABC7AAC7AACzBgwIAFWIAFWIAFWIABC7AAC3AfYAEWYAEWYAEWYMACLMAC3AVYgAVYgAVYgAUYMGDAAizAAizAAgwYMGABFmABFmABFmDAAizAAizAAizAgAEDFmABNu5TwAL8DgUYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAVYgJsAC7AAC3ATYAEWYAFuAizAAizAZYAFWAvvKwADFmABXhtgARbgtQEWYAFuAgwYsAALcBNgwIBl4S/AAtwEWIAFWICbAAuwAAtwGmABFuB3KMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGLMAXAyzAAizAAizAgAEDFmABFmABFmABBizAAizAfYAFWIAFWIAFWIABC7AAC7AAC7AAjwALsAALsAALsACPAAuwAAuwAAuwAAP2EBwwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQuwAAuwAAvwDLAAC7AAC7AAC/AMsAALsAALsAALMGABFmAB7gMswAIswAIswAIMWIAF+EiABViABViABViAAQuwAAtwH2ABFmABFmABFmDAAizAAizAAizAM8ACLMACLMACLMCAAQMWYAEWYAEWYMCAAQuwAAuwAAuw/nbqBYVhEAqi6OhrMdG8VEW7/6X2QwktWUGHOTu4DMxpz3EnJgOVOU8qnDlPHJk5TzISc54khM5bJz0AG2+eFAA2WetkGp5W1jxZ8BJvnHWyR7xZY6yTZvi4Ei4s7YKD0b207IYvcZ1McTKXiF9WOkuc9GI4Cyl7Hf9dJqN6TgGHBwkV6ceOnbSuAAAAAElFTkSuQmCC"},2202:function(t,e,n){t.exports=n.p+"assets/images/following@2x-65b4cc6f.png"},2203:function(t,e,n){t.exports=n.p+"assets/images/reposts@2x-34af13e5.png"},2204:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeAAAAFkAgMAAACFmwDIAAAACVBMVEX////v7+////+9ZSd4AAAAAXRSTlMAQObYZgAAAPlJREFUeF7t3T0Kg0AUhVGb7C+NjfuzuasMgammCrzHMEnOV4nNKf1Bucf5SUd/YDC4EBgMBj/OlhbBYHDyMzAYDAb3txucrIfBYDAYDAZfud/eOPgfGFy/vX2uhsFg8HTwNTAYDL6SzPA4OeCuwGBwodpFohoYDPZgDgaDweDN3tCDwWAwGAwegTf4ShEMBoP9GQIGNwcGg8FgMFiSJEmSJEmSJEmSbA2AwWAwuCewPQkw2NYAGAwG25NoDwwGg8FgsHUFsK0BMNieBBgMticBBoNtDYDBYFsDYDAYbE8CDAaDwWCwPQlbA2Aw2J4EGGxPAgwGg8Fg8AuOzq2C1GollwAAAABJRU5ErkJggg=="},2205:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYQAAAGGCAMAAABMqwbqAAAAb1BMVEUAAADy8vL19fX09PT09PT19fXy8vLy8vLz8/P19fX19fX09PT09PT09PT09PT19fX19fX19fX09PT19fX19fXMzMz09PT19fW/v7+/v7/z8/P09PT19fX19fX09PT09PTy8vL19fXx8fHx8fHz8/PuwIOcAAAAJXRSTlMAE5XV7pYUABXk/+YXnqDi4/3UfnwFtbIEAFKRqszxkFBmOABY5HC7oAAAAvNJREFUeAHsw9sJACAMA8CkDxBB999Wu0V+cnAwPYIDpvKCzNVdKWM1cbaY3Qj89ugYtcowigLg/f4cEB4KRmwUK+P+tyUWbuFhccFeeeQQmNnClHHNrQ4JEpAgAQkSkCABCRKQIAEJEpAgAQkSkCABCRKQIAEJEpAgAQkSkCABCRKQIAEJEpAgAQkSkCABCRKQIAEJEpAgAQkSkCABCRKQIAEJEpAgAQlIkMDfBCQgQQISJCBBAhIkIEECEiQgQQISJCBBAhIkIEECEiQgQQISJCBBAhIkIEECEiQgQQISJCBBAhIkIEECEiQgQQISJCBBAhIkIEECEiQgQQISJCABCRKQIAEJEpAgAQkSkCABCRKQIAEJEpAgAQkSkCABCRKQIAEJEpAgAQkSkCABCRKQIAEJEpAgAQkSkCABCRKQIAEJEpAgAQkSkCABCRKQIAEJSJCABAlIkIAECUiQgAQJSJCABAlIkIAECUiQgAQJSJCABAlIkIAECUiQgAQJSJCABAlIkIAECUiQgAQJSJCABAlIkIAECUiQgAQJSJCABAnPN8qe5+lG2afr41B2Xdf7oepDzpc558yDnN/z6j7f5y17Oj/nvJsH+vrr9Q9y5q3Lt3mgu4P/kWlzMHEgwcEmOJDgYOJAgoNNcCDBwcSBBAeb4ECCg4kDCQ42wYEEBxMHEhxsggMJDiYOJDjYBAcSHEwcSHCwCQ4kOJg4kOBgExxIcDBxIMHBJjiQ4GDiQIKDTXAgwcHEgQQHm+BAgoOJAwkONsGBBAcTBxIcbIIDCQ4mDiQ42AQHEhxMHEhwsAkOJDiYOOiLg7446IuDvjjoi4O+OOiLg7446IuDvjjoi4O+OOiLg7446IuDvjjoi4O+OOiLg7446IuDvjjoi4O+OOiLg7446IuDvjjoi4O+OOiLg7446IuDvjjoi4O+OOiLg7446IuDvjjoi4O+OOiLg7446IuDvjjoi4O+OOiLg7446Ms46Ht5pB/fX/4dm1DFH8k5QrzsjBo3AAAAAElFTkSuQmCC"},2206:function(t,e,n){t.exports=n.p+"assets/images/history@2x-6eaa4edd.png"},2223:function(t,e,n){var r=n(2235).locale(n(13).LinguaLib.getD3LocaleData());n(2235).time.format=r.timeFormat,n(2235).format=r.numberFormat,t.exports=n(2235)},2224:function(t,e,n){var r=t.exports=n(146).extend({initialize:function(t){n(0).defaults(this,t,{maxDate:n(2223).time.day.utc.floor(new Date)})},toJSON:function(){return{from:this.from,to:this.to}},offset:function(t){var e=(Math.round((+this.to-this.from)/n(30).MS_IN_DAY)+1)*t;return new r({from:n(2223).time.day.utc.offset(this.from,e),to:n(2223).time.day.utc.offset(this.to,e)})},prev:function(){return this.offset(-1)},next:function(){return this.offset(1)},hasPrev:function(){return this.prev().from>this.minDate},hasNext:function(){return this.next().to<=this.maxDate},getResolution:function(){var t,e=(t=this.to,(t=new Date(t)).setUTCHours(23),t);return n(0).find(["hour","day","month","year"],(function(t){var r=n(2223).time[t].utc.offset(this.from,35);return e<=r}),this)},equals:function(t){return+this.from==+t.from&&+this.to==+t.to},format:function(t){return t=t||this.getResolution(),n(2237).$formatStatRange(this.from,this.to,t)}});function o(t,e,o,i){return function(){var a=n(2223).time[e].utc,l=a(new Date),s=n(2223).time.day.utc(new Date),u=a.offset(l,-(t-1)),c=a.offset(s,0);return new r({from:u,to:c,key:o,title:i})}}function i(t,e){r[e]=t,r.all.push(t)}r.find=function(t){var e=n(0).find(r.all,(function(e){return e().equals(t)}));return e&&e()},r.findByKey=function(t){var e=n(0).find(r.all,(function(e){return e().key===t}));return e&&e()},r.all=[],r.addAllTimeRange=function(t,e){void 0===e&&(e=n(1).Lingua.t("All time"));var o=n(2223).time.day.utc(new Date(new Date(t)-n(30).MS_IN_DAY)),a=n(2223).time.day.utc.floor(new Date),l=o+"_"+a,s=function(){return new r({from:o,to:a,title:e,key:l})};return i(s,l),{makeRange:s,key:l}},r.removeTimeRange=function(t,e){delete r[e],r.all=n(0).without(r.all,t)},i(o(1,"day","today",n(1).Lingua.t("Today"))),i(o(7,"day","last7Days",n(1).Lingua.t("Last 7 days"))),i(o(30,"day","last30Days",n(1).Lingua.t("Last 30 days"))),i(o(12,"month","last12Months",n(1).Lingua.t("Last 12 months")))},2235:function(t,e,n){(function(e){var r={};"d3"in e&&(r.d3=e.d3),t.exports=n(2516),"d3"in r?e.d3=r.d3:delete e.d3}).call(this,n(133))},2237:function(t,e,n){var r=n(2223).time.format.utc("%b");t.exports={$formatStatRange:function(t,e,n){var l,s,u="",c="";return"day"!==n&&"hour"!==n||(s=e,(l=t).getUTCDate()===s.getUTCDate()&&i(l,s)||(u+=t.getUTCDate()),c+=e.getUTCDate()),"year"!==n&&(i(t,e)||(u=o(u," ",r(t))),c=o(c," ",r(e))),a(t,e)||(u=o(u,", ",t.getUTCFullYear())),u&&(u+=" - "),u+(c=o(c,", ",e.getUTCFullYear()))},getMetricTitle:function(t,e,r,o){return function(t,e,r,o){var i=n(13).LinguaLib.getNativeLocaleData().dates.monthsShort[o.getMonth()],l=n(13).LinguaLib.getNativeLocaleData().dates.monthsDayShort&&n(13).LinguaLib.getNativeLocaleData().dates.monthsDayShort[o.getMonth()]||i;return{plays:{year:n(1).Lingua.tp("Play in [[year]]","Plays in [[year]]",e,{year:o.getFullYear()}),month:n(1).Lingua.tp("Play in [[month]]","Plays in [[month]]",e,{month:i}),monthYear:n(1).Lingua.tp("Play in [[month]] [[year]]","Plays in [[month]] [[year]]",e,{month:i,year:o.getFullYear()}),monthDay:n(1).Lingua.tp("Play on [[month]] [[day]]","Plays on [[month]] [[day]]",e,{month:l,day:o.getDate()}),monthDayTime:n(1).Lingua.tp("Play on [[month]] [[day]] at [[time]]","Plays on [[month]] [[day]] at [[time]]",e,{month:l,day:o.getDate(),time:n(13).LinguaLib.dateTimeHelper.formatTime(o)}),date:n(1).Lingua.tp("Play on [[month]] [[day]] [[year]]","Plays on [[month]] [[day]] [[year]]",e,{month:l,day:o.getDate(),year:o.getFullYear()}),dateTime:n(1).Lingua.tp("Play on [[month]] [[day]] [[year]] at [[time]]","Plays on [[month]] [[day]] [[year]] at [[time]]",e,{month:l,day:o.getDate(),year:o.getFullYear(),time:n(13).LinguaLib.dateTimeHelper.formatTime(o)})},likes:{year:n(1).Lingua.tp("Like in [[year]]","Likes in [[year]]",e,{year:o.getFullYear()}),month:n(1).Lingua.tp("Like in [[month]]","Likes in [[month]]",e,{month:i}),monthYear:n(1).Lingua.tp("Like in [[month]] [[year]]","Likes in [[month]] [[year]]",e,{month:i,year:o.getFullYear()}),monthDay:n(1).Lingua.tp("Like on [[month]] [[day]]","Likes on [[month]] [[day]]",e,{month:l,day:o.getDate()}),monthDayTime:n(1).Lingua.tp("Like on [[month]] [[day]] at [[time]]","Likes on [[month]] [[day]] at [[time]]",e,{month:l,day:o.getDate(),time:n(13).LinguaLib.dateTimeHelper.formatTime(o)}),date:n(1).Lingua.tp("Like on [[month]] [[day]] [[year]]","Likes on [[month]] [[day]] [[year]]",e,{month:l,day:o.getDate(),year:o.getFullYear()}),dateTime:n(1).Lingua.tp("Like on [[month]] [[day]] [[year]] at [[time]]","Likes on [[month]] [[day]] [[year]] at [[time]]",e,{month:l,day:o.getDate(),year:o.getFullYear(),time:n(13).LinguaLib.dateTimeHelper.formatTime(o)})},comments:{year:n(1).Lingua.tp("Comment in [[year]]","Comments in [[year]]",e,{year:o.getFullYear()}),month:n(1).Lingua.tp("Comment in [[month]]","Comments in [[month]]",e,{month:i}),monthYear:n(1).Lingua.tp("Comment in [[month]] [[year]]","Comments in [[month]] [[year]]",e,{month:i,year:o.getFullYear()}),monthDay:n(1).Lingua.tp("Comment on [[month]] [[day]]","Comments on [[month]] [[day]]",e,{month:l,day:o.getDate()}),monthDayTime:n(1).Lingua.tp("Comment on [[month]] [[day]] at [[time]]","Comments on [[month]] [[day]] at [[time]]",e,{month:l,day:o.getDate(),time:n(13).LinguaLib.dateTimeHelper.formatTime(o)}),date:n(1).Lingua.tp("Comment on [[month]] [[day]] [[year]]","Comments on [[month]] [[day]] [[year]]",e,{month:l,day:o.getDate(),year:o.getFullYear()}),dateTime:n(1).Lingua.tp("Comment on [[month]] [[day]] [[year]] at [[time]]","Comments on [[month]] [[day]] [[year]] at [[time]]",e,{month:l,day:o.getDate(),year:o.getFullYear(),time:n(13).LinguaLib.dateTimeHelper.formatTime(o)})},reposts:{year:n(1).Lingua.tp("Repost in [[year]]","Reposts in [[year]]",e,{year:o.getFullYear()}),month:n(1).Lingua.tp("Repost in [[month]]","Reposts in [[month]]",e,{month:i}),monthYear:n(1).Lingua.tp("Repost in [[month]] [[year]]","Reposts in [[month]] [[year]]",e,{month:i,year:o.getFullYear()}),monthDay:n(1).Lingua.tp("Repost on [[month]] [[day]]","Reposts on [[month]] [[day]]",e,{month:l,day:o.getDate()}),monthDayTime:n(1).Lingua.tp("Repost on [[month]] [[day]] at [[time]]","Reposts on [[month]] [[day]] at [[time]]",e,{month:l,day:o.getDate(),time:n(13).LinguaLib.dateTimeHelper.formatTime(o)}),date:n(1).Lingua.tp("Repost on [[month]] [[day]] [[year]]","Reposts on [[month]] [[day]] [[year]]",e,{month:l,day:o.getDate(),year:o.getFullYear()}),dateTime:n(1).Lingua.tp("Repost on [[month]] [[day]] [[year]] at [[time]]","Reposts on [[month]] [[day]] [[year]] at [[time]]",e,{month:l,day:o.getDate(),year:o.getFullYear(),time:n(13).LinguaLib.dateTimeHelper.formatTime(o)})},downloads:{year:n(1).Lingua.tp("Download in [[year]]","Downloads in [[year]]",e,{year:o.getFullYear()}),month:n(1).Lingua.tp("Download in [[month]]","Downloads in [[month]]",e,{month:i}),monthYear:n(1).Lingua.tp("Download in [[month]] [[year]]","Downloads in [[month]] [[year]]",e,{month:i,year:o.getFullYear()}),monthDay:n(1).Lingua.tp("Download on [[month]] [[day]]","Downloads on [[month]] [[day]]",e,{month:l,day:o.getDate()}),monthDayTime:n(1).Lingua.tp("Download on [[month]] [[day]] at [[time]]","Downloads on [[month]] [[day]] at [[time]]",e,{month:l,day:o.getDate(),time:n(13).LinguaLib.dateTimeHelper.formatTime(o)}),date:n(1).Lingua.tp("Download on [[month]] [[day]] [[year]]","Downloads on [[month]] [[day]] [[year]]",e,{month:l,day:o.getDate(),year:o.getFullYear()}),dateTime:n(1).Lingua.tp("Download on [[month]] [[day]] [[year]] at [[time]]","Downloads on [[month]] [[day]] [[year]] at [[time]]",e,{month:l,day:o.getDate(),year:o.getFullYear(),time:n(13).LinguaLib.dateTimeHelper.formatTime(o)})}}[t][function(t,e){if("year"===t)return"year";if("month"===t&&a(e,new Date))return"month";if("month"===t)return"monthYear";if(a(e,new Date))return"hour"===t?"monthDayTime":"monthDay";if("hour"===t)return"dateTime";return"date"}(r,o)]}(t,e,r,o)}};function o(t,e,n){return t&&(t+=e),t+=n}function i(t,e){return t.getUTCMonth()===e.getUTCMonth()&&a(t,e)}function a(t,e){return t.getUTCFullYear()===e.getUTCFullYear()}},2239:function(t,e,n){var r=n(21).extend({submodelMap:{subject:null},createSubmodel:function(t,e){var r=this.get(e),o=r&&(r.urn||r.self&&r.self.urn);if(o){var i=n(23).getAsAttributes(o),a=i.id,l=function(t){switch(t){case"user":return n(33);case"sound":return n(17);case"playlist":return n(50)}}(i.resource_type);l&&this.addSubmodel(new l(n(0).assign({id:a},n(0).omit(r,"self")),{parse:!0}))}}},{hashFn:function(){return null}});t.exports=n(40).extend({model:r,defaults:{metric:null,by:null,from:null,to:null,user:null,track:null},baseUrl:function(){var t=this.options,e=t.user,n=t.track,r=t.metric,o=t.by,i=t.to,a=t.from,l={user_urn:e,track_urn:n,metric:r,by:o},s={from:Number(a),to:Number(i)};return this.getEndpointUrl(n?"topListsTrackStats":"topListsUserStats",l,s)},parse:function(t){return this.next_href=null,this.totalCount=t.total_count,t.counts},getTotalCount:function(){return this.totalCount},setLimit:function(t){var e=t!==this.options.limit;n(40).prototype.setLimit.call(this,t),e&&t>this.length&&this.lastFetchTime&&(this.lastFetchTime=null)}},{hashFn:function(t,e){var n=e.metric,r=e.by,o=e.from,i=e.to,a=e.user,l=e.track;return[n,r,Number(o),Number(i),a,l].filter(Boolean).join("_")}})},2250:function(t,e,n){t.exports=new(n(16))({applyTo:function(t,e){var o=void 0===e?{}:e,i=o.clickObject,a=void 0===i?r:i,l=o.clickName,s=void 0===l?"click::ext_url":l;function u(t){n(12).trackV1Click({click_category:"navigation",click_object:a.call(this),click_name:s,click_target:t.target.href})}this.merge(t,{events:{'click a[href^="http://"]':u,'click a[href^="https://"]':u}})}});function r(){return this.model.getUrn()}},2259:function(t,e,n){t.exports=n(6).extend({template:n(2312),css:[n(2313),n(760)],className:"profileUploadFooter paging-eof sc-border-light-top",events:{"click .profileUploadFooter__cta":function(t){n(12).trackUploadFunnel({chapter:"upload-button-end-of-list",event:t})}}})},2263:function(t,e,n){t.exports=n(47).extend({defaults:{width:650,warnBeforeClosing:!0,stayOpenOnNavigate:!0,Subview:n(756),confirmCloseMessage:n(1).Lingua.t("Your message has not been sent.\n\nAre you sure you want to leave this page?")},events:{'click a[href^="/"]':"onLinksClick"},setup:function(){n(47).prototype.setup.apply(this,arguments),this.listenTo(n(10),"new-message:sent",this.close)},canBeClosed:function(){var t=this.getContentView();return n(12).trackV0Click(["messages","overlay-clicked"]),!(!t||!t.form||t.form.get("body").trim())||n(47).prototype.canBeClosed.call(this)},onLinksClick:function(t){t.preventDefault(),t.stopPropagation()}})},2272:function(t,e,n){var r=["system"];t.exports=n(6).extend(n(37).withOptions("muteButton"),n(70),{className:"blockButton",defaults:{responsive:!1,showUserName:!1,showIcon:!1},buttonLabels:{default:function(){return this.options.showUserName?n(1).Lingua.t("Block [[username]]",{username:this.user.get("username")}):n(1).Lingua.t("Block")},selected:{text:function(){return this.options.showUserName?n(1).Lingua.t("Blocked [[username]]",{username:this.user.get("username")}):n(1).Lingua.t("Blocked")},title:function(){return this.options.showUserName?n(1).Lingua.t("Unblock [[username]]",{username:this.user.get("username")}):n(1).Lingua.t("Unblock")}}},ModelClass:n(393),modal:null,setup:function(t){var e=t.resource_id,o=t.showUserName,i=t.showIcon;this.$el.toggleClass("sc-button-block",i),this.user=this.addDataSource(new(n(33))({id:e}),{requiredAttributes:o?["username"]:[]}),this.observedAttributes=[e],r.indexOf(e)>-1&&this.$el.hide()},isButtonSelected:function(){return!!this.model.get(this.options.resource_id)},onClick:function(t){t.preventDefault(),this.isButtonSelected()?n(35).block(this.options.resource_id,!1,!1,!1,{context:this.getContextData()}):o.call(this)}});function o(){this.modal||(this.modal=new(n(47))({togglerEl:this.el,width:520,Subview:n(524),subviewArgs:{resource_id:this.options.resource_id}})),this.modal.open()}},2276:function(t,e,n){var r=n(8),o=n(2361);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});t.exports=a},2282:function(t,e,n){t.exports=n(111).extend({className:"sc-button-delete",ModelClass:n(222),defaults:{icon_only:!0,ContentViewClass:n(2283),overlayType:"dialog",overlayOptions:{relativeElementAnchor:"center bottom",anchor:"right top",offset:"18 7",width:"220px"}},buttonLabels:{default:n(1).Lingua.t("Delete this comment")}})},2283:function(t,e,n){t.exports=n(6).extend(n(227),{template:n(2284),css:n(2285),className:"deleteCommentForm",ModelClass:n(222),requiredAttributes:["user"],onSubmit:function(t){var e=t.is_spam,r=t.is_user_spam,o=e&&e.checked,i=r&&r.checked,a=this.model.get("user");o?this.model.reportAsSpam():n(35).destroy(this.model),i&&n(35).block(a.id,!0,!0,!0).then((function(){return n(10).trigger("user:blocked",{report:!0,userData:a})}))},getTemplateData:function(t){t.isMine=n(4).get("me").owns(this.model),t.isSpamLabel=n(1).Lingua.t("Also report comment as spam.")}})},2284:function(t,e,n){var r=n(11);t.exports=(r.default||r).template({1:function(t,e,r,o,i){var a=null!=e?e:t.nullContext||{},l=t.hooks.helperMissing,s=t.escapeExpression,u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"  "+s((n(5)||e&&u(e,"$view")||l).call(a,n(144),{name:"$view",hash:{className:"deleteCommentForm__spam sc-text-light sc-text-secondary",label:(n(3)||e&&u(e,"$t")||l).call(a,"Also report comment as spam.",{name:"$t",hash:{},data:i,loc:{start:{line:6,column:10},end:{line:6,column:45}}}),name:"is_spam"},data:i,loc:{start:{line:4,column:2},end:{line:8,column:4}}}))+"\n  "+s((n(5)||e&&u(e,"$view")||l).call(a,n(144),{name:"$view",hash:{className:"deleteCommentForm__spam sc-text-light sc-text-secondary",label:(n(3)||e&&u(e,"$t")||l).call(a,"Also block and report user as spam.",{name:"$t",hash:{},data:i,loc:{start:{line:11,column:10},end:{line:11,column:52}}}),name:"is_user_spam"},data:i,loc:{start:{line:9,column:2},end:{line:13,column:4}}}))+"\n"},compiler:[8,">= 4.3.0"],main:function(t,e,r,o,i){var a,l=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u=t.escapeExpression,c=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return u((n(3)||e&&c(e,"$t")||s).call(l,"Do you really want to remove this comment?",{name:"$t",hash:{},data:i,loc:{start:{line:1,column:0},end:{line:1,column:51}}}))+"<br>\n\n"+(null!=(a=c(r,"unless").call(l,null!=e?c(e,"isMine"):e,{name:"unless",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i,loc:{start:{line:3,column:0},end:{line:14,column:11}}}))?a:"")+'\n<div class="deleteCommentForm__actions">\n  <button type="reset"  class="sc-button sc-button-small">'+u((n(3)||e&&c(e,"$t")||s).call(l,"Cancel",{name:"$t",hash:{},data:i,loc:{start:{line:17,column:58},end:{line:17,column:73}}}))+'</button>\n  <button type="submit" class="sc-button sc-button-small">'+u((n(3)||e&&c(e,"$t")||s).call(l,"Yes",{name:"$t",hash:{},data:i,loc:{start:{line:18,column:58},end:{line:18,column:70}}}))+"</button>\n</div>\n"},useData:!0})},2285:function(t,e,n){var r=n(8),o=n(2286);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});t.exports=a},2286:function(t,e,n){(e=n(9)(!1)).push([t.i,".deleteCommentContent__form{margin:7px 0 11px}.deleteCommentForm__actions{margin-top:5px;text-align:right}.deleteCommentForm__spam{margin-top:5px}",""]),t.exports=e},2312:function(t,e,n){var r=n(11);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,r,o,i){var a=null!=e?e:t.nullContext||{},l=t.hooks.helperMissing,s=t.escapeExpression,u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div class="sc-font-light medium profileUploadFooter__text">'+s((n(3)||e&&u(e,"$t")||l).call(a,"More uploads means more listeners.",{name:"$t",hash:{},data:i,loc:{start:{line:1,column:60},end:{line:1,column:105}}}))+'</div>\n<a href="'+s((n(20)||e&&u(e,"$route")||l).call(a,"upload",{name:"$route",hash:{},data:i,loc:{start:{line:2,column:9},end:{line:2,column:28}}}))+'" class="sc-button sc-button-cta sc-button-primary sc-button-medium sc-font-light profileUploadFooter__cta">\n   '+s((n(3)||e&&u(e,"$t")||l).call(a,"Upload more",{name:"$t",hash:{},data:i,loc:{start:{line:3,column:3},end:{line:3,column:24}}}))+"\n</a>\n"},useData:!0})},2313:function(t,e,n){var r=n(8),o=n(2314);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});t.exports=a},2314:function(t,e,n){(e=n(9)(!1)).push([t.i,".profileUploadFooter{position:relative;margin:10px 0 0;border-radius:2px;background-color:#fff;text-align:center;padding-bottom:45px}.profileUploadFooter__text{padding:15px 0}",""]),t.exports=e},2315:function(t,e,n){(function(e){t.exports=n(172).extend(n(311),n(312),{defaults:{type:"spotlight"},model:n(509),baseUrl:function(){return this.getEndpointUrl("userSpotlight",{id:this.options.userId})},add:function(){return n(172).prototype.add.apply(this,arguments),this.length>5&&this.remove(this.models.slice(5)),this},parse:function(t){return t.collection.slice(0,5).map((function(t){var e="playlist"===t.kind;return{type:e?"playlist_spotlight":"track_spotlight",created_at:t.display_date,track:e?null:t,playlist:e?t:null}}))},getMaxItemCount:function(){return 5},getCurrentOrder:function(){return this.map((function(t){return(t.get("playlist")||t.get("track")).id}))},getCurrentUrns:function(){return this.map((function(t){return t.audible.getUrn()}))},reorder:function(t){this.sort({silent:!0,comparator:function(e){return t.indexOf(e.audible.id)}})},resetOrder:function(){return this.fetch({reset:!0})},saveOrder:function(){return this.save()},save:function(){var t=this.getCurrentUrns();return e.ajax(n(0).result(this,"baseUrl"),{type:"PUT",data:JSON.stringify({spotlight:t}),dataType:"json",contentType:"application/json"})}})}).call(this,n(15))},2319:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3IiBoZWlnaHQ9IjEyIiB2aWV3Qm94PSIwIDAgNyAxMiI+CiAgICA8cGF0aCBmaWxsPSIjRkZGIiBkPSJNMy43NzIgMTEuMlY5Ljk3NmMuNzkyLS4xMDQgMS4zODYtLjM2NiAxLjc4Mi0uNzg2LjM5Ni0uNDIuNTk0LS45NzQuNTk0LTEuNjYyIDAtLjM3Ni0uMDYtLjY5NC0uMTgtLjk1NHMtLjI5Ni0uNDgyLS41MjgtLjY2NmMtLjIzMi0uMTg0LS41MTQtLjM0Mi0uODQ2LS40NzQtLjMzMi0uMTMyLS43MS0uMjYyLTEuMTM0LS4zOS0uNzM2LS4yMjQtMS4yMjItLjQyMi0xLjQ1OC0uNTk0cy0uMzU0LS40MDItLjM1NC0uNjljMC0uMjguMTEyLS41MS4zMzYtLjY5LjIyNC0uMTguNTc2LS4yNyAxLjA1Ni0uMjcuNDMyIDAgLjc5NC4wNzQgMS4wODYuMjIyLjI5Mi4xNDguNTg2LjM1Ljg4Mi42MDZsLjg3Ni0uODg4Yy0uMjk2LS4yOTYtLjYxOC0uNTM4LS45NjYtLjcyNi0uMzQ4LS4xODgtLjczLS4zMTQtMS4xNDYtLjM3OFYuNGgtMS4yNnYxLjIzNmMtLjYwOC4wOTYtMS4xMTguMzM2LTEuNTMuNzItLjQxMi4zODQtLjYxOC44ODgtLjYxOCAxLjUxMiAwIC4zNi4wNTQuNjY2LjE2Mi45MTguMTA4LjI1Mi4yNy40NjYuNDg2LjY0Mi4yMTYuMTc2LjQ4OC4zMzIuODE2LjQ2OC4zMjguMTM2LjcxNi4yNjggMS4xNjQuMzk2LjY5Ni4yMDggMS4xODIuNDA2IDEuNDU4LjU5NC4yNzYuMTg4LjQxNC40NDYuNDE0Ljc3NCAwIC4zNjgtLjEzOC42NS0uNDE0Ljg0Ni0uMjc2LjE5Ni0uNzE0LjI5NC0xLjMxNC4yOTQtLjM5MiAwLS43NjgtLjA4LTEuMTI4LS4yNC0uMzYtLjE2LS42OTItLjQwNC0uOTk2LS43MzJsLS45Ni44MTZjLjI3Mi4zNTIuNjI2LjY0NiAxLjA2Mi44ODIuNDM2LjIzNi45MDIuMzg2IDEuMzk4LjQ1VjExLjJoMS4yNnoiLz4KPC9zdmc+Cg=="},2322:function(t,e,n){t.exports=n(21).extend({baseUrl:function(){return this.getEndpointUrl("verificationStatus")}},{hashFn:function(){return 1}})},2334:function(t,e,n){t.exports=n(116).extend(n(289),{className:"soundList",itemClassName:"soundList__item",css:[n(2164),n(2158)],emptyTemplate:n(2160),defaults:{showEndView:!0,showUploadFooter:!1},events:{"click .emptyNetworkPage__button > a":function(){n(12).trackUploadFunnel({chapter:"upload_button_user_profile"})}},Subview:n(376),setup:function(t){var e=t.resource_id;this.collection=new(n(503))(null,{userId:e,keepBlocked:!1}),this.user=this.addDataSource(new(n(33))({id:e}),{requiredAttributes:["username"]}),t.showUploadFooter&&(this.EndOfListView=n(2259))},getTemplateData:function(t){return this.user.isMe()?(t.message=n(1).Lingua.t("Seems a little quiet over here"),t.linkUrl=t.buttonUrl=n(22).getRoute("upload"),t.linkText=n(1).Lingua.t("Upload a track to share it with your followers."),t.buttonText=n(1).Lingua.t("Upload now")):(t.message=n(1).Lingua.t("Nothing to hear here"),t.subheaderMessage=n(1).Lingua.t("Follow [[username]] for updates on sounds they share in the future.",{username:this.user.get("username")})),t.emptyPageClass="emptyTracks",t}})},2354:function(t,e,n){t.exports=n(6).extend(n(70),{defaults:{size:"medium",show_icon:!0},tagName:"a",buttonLabels:{default:{text:n(1).Lingua.t("Message"),title:n(1).Lingua.t("Send a message")}},attributes:{href:""},states:{icon:"sc-button-message"},ModelClass:n(33),modal:null,setup:function(t){this.toggleState("icon",t.show_icon)},onClick:function(t){t.preventDefault(),this.modal||(this.modal=new(n(2263))({togglerEl:this.el,subviewArgs:{resource_id:this.model?this.model.id:null}})),n(10).trigger("messages:write-new"),n(12).trackV0Click(["messages","write-new-clicked"]),this.modal.open()}})},2355:function(t,e,n){t.exports=n(6).extend(n(70),{className:"reportButton",defaults:{responsive:!1,showUserName:!1,showIcon:!1},buttonLabels:{default:function(){return this.options.showUserName?n(1).Lingua.t("Report [[username]]",{username:this.model.get("username")}):n(1).Lingua.t("Report")}},ModelClass:n(33),modal:null,setup:function(t){var e=t.showIcon;this.$el.toggleClass("sc-button-block",e)},onClick:function(t){t.preventDefault(),r.call(this)}});function r(){this.modal||(this.modal=new(n(47))({togglerEl:this.el,width:520,Subview:n(402),subviewArgs:{resource_id:this.options.resource_id}})),this.modal.open()}},2360:function(t,e,n){t.exports=new(n(16))({applyTo:function(t){t.css?(Array.isArray(t.css)||(t.css=[t.css]),t.css.push(n(2276))):t.css=n(2276),t.className&&!/\bupsellBanner\b/.test(t.className)&&(t.className+=" upsellBanner")}})},2361:function(t,e,n){var r=n(9),o=n(34),i=n(2362);e=r(!1);var a=o(i);e.push([t.i,".upsellBanner{display:none;position:relative;padding:23px 30px}.upsellBanner.expanded{display:block}.upsellBanner__title{font-size:18px;color:#fff;padding:0 0 4px}.upsellBanner__copy{padding-bottom:4px}.upsellBanner__close{position:absolute;top:10px;right:10px;width:15px;height:15px;border:0;padding:0;display:block;background:url("+a+") 50% no-repeat;cursor:pointer}@media (max-width:1079px){.upsellBanner{background-image:none}}",""]),t.exports=e},2362:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAQAAACR313BAAABC0lEQVR4AV3KMWsUURQF4O/e6RVCIgFB2EyyxYI2g4ZAkBQGrayEgZVg438SO2EhaBlQjH9AUTIIgihYCEKqFcEFW5/rvkq/4t4D5wTV6Egf+y76Wd44NgNiBNtxEpNAKCjKaXnonFyVr3OSUgr15514b5PUxNPcSAGqEHIjHoeMaXaJe/ZVN92vg7ulz+gDLOw6wKHr5tTBUcZegFc+6zxwzUcvQYgurQHhuYV1373QqKxlzFVuu+CXdQcq/MjyDrjlqg8e+eKGPZUhPQEuGZwKJz4Zqcy0zc7ZuIzLVmmXt6at1d85a5toxZV8a9P/5r93fc3g2zIM/jX8LYltVfQx1bns3FCeOQb+ANlbSmVcuz2DAAAAAElFTkSuQmCC"},2380:function(t,e,n){t.exports=new(n(16))({merge:{defaults:{userId:null}},after:{setup:function(){var t=this.ModelClass===n(33)&&(this.options.resource_id||this.options._id)||this.options.userId;this._userWebProfiles=new(n(508))(null,{userId:t}),this.addDataSource(this._userWebProfiles),this.listenTo(this,"update:collection",this.rerender)}},getDirectSupportProfile:function(){return n(4).get("features").has("v2_direct_support_link")&&this._userWebProfiles.getDirectSupportProfile()}})},2381:function(t,e,n){t.exports=n(6).extend({tagName:"article",className:"directSupport",template:n(2382),css:n(2383),ModelClass:n(33),requiredAttributes:["username"],defaults:{profile:null},events:{"click .directSupport__button":function(){n(12).trackV1Click({click_name:"covid_support_link::click",click_object:this.model.getUrn(),click_category:"engagement"})}},getTemplateData:function(){var t=this.options.profile;return{profileUrl:n(112).formatUserGeneratedLink(t.get("url")),username:this.model.get("username")}}})},2382:function(t,e,n){var r=n(11);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,r,o,i){var a,l=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u=t.escapeExpression,c=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div class="directSupport__box">\n  <p class="directSupport__copy sc-font-light">\n    '+u((n(3)||e&&c(e,"$t")||s).call(l,"The COVID-19 virus has impacted the creative community around the world. Show support for your favorite creators. [[[linkBegin]]]Learn more[[[linkEnd]]]",{name:"$t",hash:{linkEnd:"</a>",linkBegin:'<a href="https://help.soundcloud.com/hc/articles/360045363454" target="_blank">'},data:i,loc:{start:{line:3,column:4},end:{line:6,column:6}}}))+'\n  </p>\n  <a href="'+u("function"==typeof(a=null!=(a=c(r,"profileUrl")||(null!=e?c(e,"profileUrl"):e))?a:s)?a.call(l,{name:"profileUrl",hash:{},data:i,loc:{start:{line:8,column:11},end:{line:8,column:25}}}):a)+'" target="_blank" class="sc-button sc-button-large directSupport__button">\n    <span class="directSupport__buttonIcon"></span>\n    <span class="directSupport__buttonLabel">\n      '+u((n(3)||e&&c(e,"$t")||s).call(l,"Support [[username]]",{name:"$t",hash:{username:(n(228)||e&&c(e,"$normalize")||s).call(l,null!=e?c(e,"username"):e,{name:"$normalize",hash:{},data:i,loc:{start:{line:11,column:43},end:{line:11,column:64}}})},data:i,loc:{start:{line:11,column:6},end:{line:11,column:66}}}))+"\n    </span>\n  </a>\n</div>\n"},useData:!0})},2383:function(t,e,n){var r=n(8),o=n(2384);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});t.exports=a},2384:function(t,e,n){var r=n(9),o=n(34),i=n(2385),a=n(2386),l=n(2319);e=r(!1);var s=o(i),u=o(a),c=o(l);e.push([t.i,".directSupport{margin-bottom:30px}.directSupport__box{border-radius:3px;background-color:#2b70b6;background-image:url("+s+");background-position:0 0;background-size:100% auto;padding:15px}@media (-webkit-min-device-pixel-ratio:2),(min-resolution:2dppx),(min-resolution:192dpi){.directSupport__box{background-image:url("+u+')}}.directSupport__copy{margin-bottom:12px;color:#fff}.directSupport__copy a{color:#fff;text-decoration:underline}.directSupport__button{display:block;overflow:hidden;text-overflow:ellipsis}.directSupport__button,.directSupport__button:focus,.directSupport__button:hover,.directSupport__button:visited{background-color:#38d;border-color:#38d;color:#fff}.directSupport__buttonIcon{position:relative;display:inline-block;width:18px;height:18px;margin-right:2px;margin-bottom:-3px;overflow:hidden}.directSupport__buttonIcon:before{content:"";display:inline-block;width:18px;height:18px;background-color:rgba(0,0,0,.175);border-radius:50%;background-image:url('+c+");background-repeat:no-repeat;background-position:50%}",""]),t.exports=e},2385:function(t,e,n){t.exports=n.p+"assets/images/direct-support-bg-ad2384d0.jpg"},2386:function(t,e,n){t.exports=n.p+"assets/images/direct-support-bg@2x-05c2898f.jpg"},2516:function(t,e,n){var r,o;!function(){var i={version:"3.5.6"},a=[].slice,l=function(t){return a.call(t)},s=this.document;function u(t){return t&&(t.ownerDocument||t.document||t).documentElement}function c(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}if(s)try{l(s.documentElement.childNodes)[0].nodeType}catch(t){l=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),s)try{s.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var f=this.Element.prototype,h=f.setAttribute,p=f.setAttributeNS,d=this.CSSStyleDeclaration.prototype,g=d.setProperty;f.setAttribute=function(t,e){h.call(this,t,e+"")},f.setAttributeNS=function(t,e,n){p.call(this,t,e,n+"")},d.setProperty=function(t,e,n){g.call(this,t,e+"",n)}}function m(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function v(t){return null===t?NaN:+t}function y(t){return!isNaN(t)}function _(t){return{left:function(e,n,r,o){for(arguments.length<3&&(r=0),arguments.length<4&&(o=e.length);r<o;){var i=r+o>>>1;t(e[i],n)<0?r=i+1:o=i}return r},right:function(e,n,r,o){for(arguments.length<3&&(r=0),arguments.length<4&&(o=e.length);r<o;){var i=r+o>>>1;t(e[i],n)>0?o=i:r=i+1}return r}}}i.ascending=m,i.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},i.min=function(t,e){var n,r,o=-1,i=t.length;if(1===arguments.length){for(;++o<i;)if(null!=(r=t[o])&&r>=r){n=r;break}for(;++o<i;)null!=(r=t[o])&&n>r&&(n=r)}else{for(;++o<i;)if(null!=(r=e.call(t,t[o],o))&&r>=r){n=r;break}for(;++o<i;)null!=(r=e.call(t,t[o],o))&&n>r&&(n=r)}return n},i.max=function(t,e){var n,r,o=-1,i=t.length;if(1===arguments.length){for(;++o<i;)if(null!=(r=t[o])&&r>=r){n=r;break}for(;++o<i;)null!=(r=t[o])&&r>n&&(n=r)}else{for(;++o<i;)if(null!=(r=e.call(t,t[o],o))&&r>=r){n=r;break}for(;++o<i;)null!=(r=e.call(t,t[o],o))&&r>n&&(n=r)}return n},i.extent=function(t,e){var n,r,o,i=-1,a=t.length;if(1===arguments.length){for(;++i<a;)if(null!=(r=t[i])&&r>=r){n=o=r;break}for(;++i<a;)null!=(r=t[i])&&(n>r&&(n=r),o<r&&(o=r))}else{for(;++i<a;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=o=r;break}for(;++i<a;)null!=(r=e.call(t,t[i],i))&&(n>r&&(n=r),o<r&&(o=r))}return[n,o]},i.sum=function(t,e){var n,r=0,o=t.length,i=-1;if(1===arguments.length)for(;++i<o;)y(n=+t[i])&&(r+=n);else for(;++i<o;)y(n=+e.call(t,t[i],i))&&(r+=n);return r},i.mean=function(t,e){var n,r=0,o=t.length,i=-1,a=o;if(1===arguments.length)for(;++i<o;)y(n=v(t[i]))?r+=n:--a;else for(;++i<o;)y(n=v(e.call(t,t[i],i)))?r+=n:--a;if(a)return r/a},i.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),o=+t[r-1],i=n-r;return i?o+i*(t[r]-o):o},i.median=function(t,e){var n,r=[],o=t.length,a=-1;if(1===arguments.length)for(;++a<o;)y(n=v(t[a]))&&r.push(n);else for(;++a<o;)y(n=v(e.call(t,t[a],a)))&&r.push(n);if(r.length)return i.quantile(r.sort(m),.5)},i.variance=function(t,e){var n,r,o=t.length,i=0,a=0,l=-1,s=0;if(1===arguments.length)for(;++l<o;)y(n=v(t[l]))&&(a+=(r=n-i)*(n-(i+=r/++s)));else for(;++l<o;)y(n=v(e.call(t,t[l],l)))&&(a+=(r=n-i)*(n-(i+=r/++s)));if(s>1)return a/(s-1)},i.deviation=function(){var t=i.variance.apply(this,arguments);return t?Math.sqrt(t):t};var x=_(m);function w(t){return t.length}i.bisectLeft=x.left,i.bisect=i.bisectRight=x.right,i.bisector=function(t){return _(1===t.length?function(e,n){return m(t(e),n)}:t)},i.shuffle=function(t,e,n){(i=arguments.length)<3&&(n=t.length,i<2&&(e=0));for(var r,o,i=n-e;i;)o=Math.random()*i--|0,r=t[i+e],t[i+e]=t[o+e],t[o+e]=r;return t},i.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},i.pairs=function(t){for(var e=0,n=t.length-1,r=t[0],o=new Array(n<0?0:n);e<n;)o[e]=[r,r=t[++e]];return o},i.zip=function(){if(!(r=arguments.length))return[];for(var t=-1,e=i.min(arguments,w),n=new Array(e);++t<e;)for(var r,o=-1,a=n[t]=new Array(r);++o<r;)a[o]=arguments[o][t];return n},i.transpose=function(t){return i.zip.apply(i,t)},i.keys=function(t){var e=[];for(var n in t)e.push(n);return e},i.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},i.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},i.merge=function(t){for(var e,n,r,o=t.length,i=-1,a=0;++i<o;)a+=t[i].length;for(n=new Array(a);--o>=0;)for(e=(r=t[o]).length;--e>=0;)n[--a]=r[e];return n};var b=Math.abs;function A(t){for(var e=1;t*e%1;)e*=10;return e}function M(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function k(){this._=Object.create(null)}i.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("infinite range");var r,o=[],i=A(b(n)),a=-1;if(t*=i,e*=i,(n*=i)<0)for(;(r=t+n*++a)>e;)o.push(r/i);else for(;(r=t+n*++a)<e;)o.push(r/i);return o},i.map=function(t,e){var n=new k;if(t instanceof k)t.forEach((function(t,e){n.set(t,e)}));else if(Array.isArray(t)){var r,o=-1,i=t.length;if(1===arguments.length)for(;++o<i;)n.set(o,t[o]);else for(;++o<i;)n.set(e.call(t,r=t[o],o),r)}else for(var a in t)n.set(a,t[a]);return n};function C(t){return"__proto__"==(t+="")||"\0"===t[0]?"\0"+t:t}function S(t){return"\0"===(t+="")[0]?t.slice(1):t}function E(t){return C(t)in this._}function D(t){return(t=C(t))in this._&&delete this._[t]}function L(){var t=[];for(var e in this._)t.push(S(e));return t}function N(){var t=0;for(var e in this._)++t;return t}function P(){for(var t in this._)return!1;return!0}function B(){this._=Object.create(null)}function I(t){return t}function T(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function U(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=O.length;n<r;++n){var o=O[n]+e;if(o in t)return o}}M(k,{has:E,get:function(t){return this._[C(t)]},set:function(t,e){return this._[C(t)]=e},remove:D,keys:L,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:S(e),value:this._[e]});return t},size:N,empty:P,forEach:function(t){for(var e in this._)t.call(this,S(e),this._[e])}}),i.nest=function(){var t,e,n={},r=[],o=[];function a(o,i,l){if(l>=r.length)return e?e.call(n,i):t?i.sort(t):i;for(var s,u,c,f,h=-1,p=i.length,d=r[l++],g=new k;++h<p;)(f=g.get(s=d(u=i[h])))?f.push(u):g.set(s,[u]);return o?(u=o(),c=function(t,e){u.set(t,a(o,e,l))}):(u={},c=function(t,e){u[t]=a(o,e,l)}),g.forEach(c),u}return n.map=function(t,e){return a(e,t,0)},n.entries=function(t){return function t(e,n){if(n>=r.length)return e;var i=[],a=o[n++];return e.forEach((function(e,r){i.push({key:e,values:t(r,n)})})),a?i.sort((function(t,e){return a(t.key,e.key)})):i}(a(i.map,t,0),0)},n.key=function(t){return r.push(t),n},n.sortKeys=function(t){return o[r.length-1]=t,n},n.sortValues=function(e){return t=e,n},n.rollup=function(t){return e=t,n},n},i.set=function(t){var e=new B;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e},M(B,{has:E,add:function(t){return this._[C(t+="")]=!0,t},remove:D,values:L,size:N,empty:P,forEach:function(t){for(var e in this._)t.call(this,S(e))}}),i.behavior={},i.rebind=function(t,e){for(var n,r=1,o=arguments.length;++r<o;)t[n=arguments[r]]=T(t,e,e[n]);return t};var O=["webkit","ms","moz","Moz","o","O"];function z(){}function j(){}function F(t){var e=[],n=new k;function r(){for(var n,r=e,o=-1,i=r.length;++o<i;)(n=r[o].on)&&n.apply(this,arguments);return t}return r.on=function(r,o){var i,a=n.get(r);return arguments.length<2?a&&a.on:(a&&(a.on=null,e=e.slice(0,i=e.indexOf(a)).concat(e.slice(i+1)),n.remove(r)),o&&e.push(n.set(r,{on:o})),t)},r}function R(){i.event.preventDefault()}function $(){for(var t,e=i.event;t=e.sourceEvent;)e=t;return e}function Y(t){for(var e=new j,n=0,r=arguments.length;++n<r;)e[arguments[n]]=F(e);return e.of=function(n,r){return function(o){try{var a=o.sourceEvent=i.event;o.target=t,i.event=o,e[o.type].apply(n,r)}finally{i.event=a}}},e}i.dispatch=function(){for(var t=new j,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=F(t);return t},j.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},i.event=null,i.requote=function(t){return t.replace(H,"\\$&")};var H=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Q={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]};function V(t){return Q(t,X),t}var q=function(t,e){return e.querySelector(t)},G=function(t,e){return e.querySelectorAll(t)},W=function(t,e){var n=t.matches||t[U(t,"matchesSelector")];return(W=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(q=function(t,e){return Sizzle(t,e)[0]||null},G=Sizzle,W=Sizzle.matchesSelector),i.selection=function(){return i.select(s.documentElement)};var X=i.selection.prototype=[];function J(t){return"function"==typeof t?t:function(){return q(t,this)}}function Z(t){return"function"==typeof t?t:function(){return G(t,this)}}X.select=function(t){var e,n,r,o,i=[];t=J(t);for(var a=-1,l=this.length;++a<l;){i.push(e=[]),e.parentNode=(r=this[a]).parentNode;for(var s=-1,u=r.length;++s<u;)(o=r[s])?(e.push(n=t.call(o,o.__data__,s,a)),n&&"__data__"in o&&(n.__data__=o.__data__)):e.push(null)}return V(i)},X.selectAll=function(t){var e,n,r=[];t=Z(t);for(var o=-1,i=this.length;++o<i;)for(var a=this[o],s=-1,u=a.length;++s<u;)(n=a[s])&&(r.push(e=l(t.call(n,n.__data__,s,o))),e.parentNode=n);return V(r)};var K={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function tt(t,e){return t=i.ns.qualify(t),null==e?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"==typeof e?t.local?function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}:function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}:t.local?function(){this.setAttributeNS(t.space,t.local,e)}:function(){this.setAttribute(t,e)}}function et(t){return t.trim().replace(/\s+/g," ")}function nt(t){return new RegExp("(?:^|\\s+)"+i.requote(t)+"(?:\\s+|$)","g")}function rt(t){return(t+"").trim().split(/^|\s+/)}function ot(t,e){var n=(t=rt(t).map(it)).length;return"function"==typeof e?function(){for(var r=-1,o=e.apply(this,arguments);++r<n;)t[r](this,o)}:function(){for(var r=-1;++r<n;)t[r](this,e)}}function it(t){var e=nt(t);return function(n,r){if(o=n.classList)return r?o.add(t):o.remove(t);var o=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(o)||n.setAttribute("class",et(o+" "+t))):n.setAttribute("class",et(o.replace(e," ")))}}function at(t,e,n){return null==e?function(){this.style.removeProperty(t)}:"function"==typeof e?function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}:function(){this.style.setProperty(t,e,n)}}function lt(t,e){return null==e?function(){delete this[t]}:"function"==typeof e?function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}:function(){this[t]=e}}function st(t){return"function"==typeof t?t:(t=i.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){var e=this.ownerDocument,n=this.namespaceURI;return n?e.createElementNS(n,t):e.createElement(t)}}function ut(){var t=this.parentNode;t&&t.removeChild(this)}function ct(t){return{__data__:t}}function ft(t){return function(){return W(this,t)}}function ht(t){return arguments.length||(t=m),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function pt(t,e){for(var n=0,r=t.length;n<r;n++)for(var o,i=t[n],a=0,l=i.length;a<l;a++)(o=i[a])&&e(o,a,n);return t}function dt(t){return Q(t,gt),t}i.ns={prefix:K,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&(n=t.slice(0,e),t=t.slice(e+1)),K.hasOwnProperty(n)?{space:K[n],local:t}:t}},X.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return(t=i.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(tt(e,t[e]));return this}return this.each(tt(t,e))},X.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=rt(t)).length,o=-1;if(e=n.classList){for(;++o<r;)if(!e.contains(t[o]))return!1}else for(e=n.getAttribute("class");++o<r;)if(!nt(t[o]).test(e))return!1;return!0}for(e in t)this.each(ot(e,t[e]));return this}return this.each(ot(t,e))},X.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=""),t)this.each(at(n,t[n],e));return this}if(r<2){var o=this.node();return c(o).getComputedStyle(o,null).getPropertyValue(t)}n=""}return this.each(at(t,e,n))},X.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(lt(e,t[e]));return this}return this.each(lt(t,e))},X.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},X.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},X.append=function(t){return t=st(t),this.select((function(){return this.appendChild(t.apply(this,arguments))}))},X.insert=function(t,e){return t=st(t),e=J(e),this.select((function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)}))},X.remove=function(){return this.each(ut)},X.data=function(t,e){var n,r,o=-1,i=this.length;if(!arguments.length){for(t=new Array(i=(n=this[0]).length);++o<i;)(r=n[o])&&(t[o]=r.__data__);return t}function a(t,n){var r,o,i,a=t.length,c=n.length,f=Math.min(a,c),h=new Array(c),p=new Array(c),d=new Array(a);if(e){var g,m=new k,v=new Array(a);for(r=-1;++r<a;)m.has(g=e.call(o=t[r],o.__data__,r))?d[r]=o:m.set(g,o),v[r]=g;for(r=-1;++r<c;)(o=m.get(g=e.call(n,i=n[r],r)))?!0!==o&&(h[r]=o,o.__data__=i):p[r]=ct(i),m.set(g,!0);for(r=-1;++r<a;)!0!==m.get(v[r])&&(d[r]=t[r])}else{for(r=-1;++r<f;)o=t[r],i=n[r],o?(o.__data__=i,h[r]=o):p[r]=ct(i);for(;r<c;++r)p[r]=ct(n[r]);for(;r<a;++r)d[r]=t[r]}p.update=h,p.parentNode=h.parentNode=d.parentNode=t.parentNode,l.push(p),s.push(h),u.push(d)}var l=dt([]),s=V([]),u=V([]);if("function"==typeof t)for(;++o<i;)a(n=this[o],t.call(n,n.parentNode.__data__,o));else for(;++o<i;)a(n=this[o],t);return s.enter=function(){return l},s.exit=function(){return u},s},X.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},X.filter=function(t){var e,n,r,o=[];"function"!=typeof t&&(t=ft(t));for(var i=0,a=this.length;i<a;i++){o.push(e=[]),e.parentNode=(n=this[i]).parentNode;for(var l=0,s=n.length;l<s;l++)(r=n[l])&&t.call(r,r.__data__,l,i)&&e.push(r)}return V(o)},X.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],o=r.length-1,i=r[o];--o>=0;)(n=r[o])&&(i&&i!==n.nextSibling&&i.parentNode.insertBefore(n,i),i=n);return this},X.sort=function(t){t=ht.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},X.each=function(t){return pt(this,(function(e,n,r){t.call(e,e.__data__,n,r)}))},X.call=function(t){var e=l(arguments);return t.apply(e[0]=this,e),this},X.empty=function(){return!this.node()},X.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,o=n.length;r<o;r++){var i=n[r];if(i)return i}return null},X.size=function(){var t=0;return pt(this,(function(){++t})),t};var gt=[];function mt(t){var e,n;return function(r,o,i){var a,l=t[i].update,s=l.length;for(i!=n&&(n=i,e=0),o>=e&&(e=o+1);!(a=l[e])&&++e<s;);return a}}function vt(t,e,n){var r="__on"+t,o=t.indexOf("."),a=_t;o>0&&(t=t.slice(0,o));var s=yt.get(t);function u(){var e=this[r];e&&(this.removeEventListener(t,e,e.$),delete this[r])}return s&&(t=s,a=xt),o?e?function(){var o=a(e,l(arguments));u.call(this),this.addEventListener(t,this[r]=o,o.$=n),o._=e}:u:e?z:function(){var e,n=new RegExp("^__on([^.]+)"+i.requote(t)+"$");for(var r in this)if(e=r.match(n)){var o=this[r];this.removeEventListener(e[1],o,o.$),delete this[r]}}}i.selection.enter=dt,i.selection.enter.prototype=gt,gt.append=X.append,gt.empty=X.empty,gt.node=X.node,gt.call=X.call,gt.size=X.size,gt.select=function(t){for(var e,n,r,o,i,a=[],l=-1,s=this.length;++l<s;){r=(o=this[l]).update,a.push(e=[]),e.parentNode=o.parentNode;for(var u=-1,c=o.length;++u<c;)(i=o[u])?(e.push(r[u]=n=t.call(o.parentNode,i.__data__,u,l)),n.__data__=i.__data__):e.push(null)}return V(a)},gt.insert=function(t,e){return arguments.length<2&&(e=mt(this)),X.insert.call(this,t,e)},i.select=function(t){var e;return"string"==typeof t?(e=[q(t,s)]).parentNode=s.documentElement:(e=[t]).parentNode=u(t),V([e])},i.selectAll=function(t){var e;return"string"==typeof t?(e=l(G(t,s))).parentNode=s.documentElement:(e=t).parentNode=null,V([e])},X.on=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=!1),t)this.each(vt(n,t[n],e));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(vt(t,e,n))};var yt=i.map({mouseenter:"mouseover",mouseleave:"mouseout"});function _t(t,e){return function(n){var r=i.event;i.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{i.event=r}}}function xt(t,e){var n=_t(t,e);return function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}s&&yt.forEach((function(t){"on"+t in s&&yt.remove(t)}));var wt,bt=0;function At(t){var e=".dragsuppress-"+ ++bt,n="click"+e,r=i.select(c(t)).on("touchmove"+e,R).on("dragstart"+e,R).on("selectstart"+e,R);if(null==wt&&(wt=!("onselectstart"in t)&&U(t.style,"userSelect")),wt){var o=u(t).style,a=o[wt];o[wt]="none"}return function(t){if(r.on(e,null),wt&&(o[wt]=a),t){var i=function(){r.on(n,null)};r.on(n,(function(){R(),i()}),!0),setTimeout(i,0)}}}i.mouse=function(t){return kt(t,$())};var Mt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function kt(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(Mt<0){var o=c(t);if(o.scrollX||o.scrollY){var a=(n=i.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Mt=!(a.f||a.e),n.remove()}}return Mt?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var l=t.getBoundingClientRect();return[e.clientX-l.left-t.clientLeft,e.clientY-l.top-t.clientTop]}function Ct(){return i.event.changedTouches[0].identifier}i.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=$().changedTouches),e)for(var r,o=0,i=e.length;o<i;++o)if((r=e[o]).identifier===n)return kt(t,r)},i.behavior.drag=function(){var t=Y(o,"drag","dragstart","dragend"),e=null,n=a(z,i.mouse,c,"mousemove","mouseup"),r=a(Ct,i.touch,I,"touchmove","touchend");function o(){this.on("mousedown.drag",n).on("touchstart.drag",r)}function a(n,r,o,a,l){return function(){var s,u=this,c=i.event.target,f=u.parentNode,h=t.of(u,arguments),p=0,d=n(),g=".drag"+(null==d?"":"-"+d),m=i.select(o(c)).on(a+g,_).on(l+g,x),v=At(c),y=r(f,d);function _(){var t,e,n=r(f,d);n&&(t=n[0]-y[0],e=n[1]-y[1],p|=t|e,y=n,h({type:"drag",x:n[0]+s[0],y:n[1]+s[1],dx:t,dy:e}))}function x(){r(f,d)&&(m.on(a+g,null).on(l+g,null),v(p&&i.event.target===c),h({type:"dragend"}))}s=e?[(s=e.apply(u,arguments)).x-y[0],s.y-y[1]]:[0,0],h({type:"dragstart"})}}return o.origin=function(t){return arguments.length?(e=t,o):e},i.rebind(o,t,"on")},i.touches=function(t,e){return arguments.length<2&&(e=$().touches),e?l(e).map((function(e){var n=kt(t,e);return n.identifier=e.identifier,n})):[]};var St=1e-6,Et=Math.PI,Dt=2*Et,Lt=Dt-St,Nt=Et/2,Pt=Et/180,Bt=180/Et;function It(t){return t>0?1:t<0?-1:0}function Tt(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function Ut(t){return t>1?0:t<-1?Et:Math.acos(t)}function Ot(t){return t>1?Nt:t<-1?-Nt:Math.asin(t)}function zt(t){return((t=Math.exp(t))+1/t)/2}function jt(t){return(t=Math.sin(t/2))*t}var Ft=Math.SQRT2;i.interpolateZoom=function(t,e){var n=t[0],r=t[1],o=t[2],i=e[0],a=e[1],l=e[2],s=i-n,u=a-r,c=s*s+u*u,f=Math.sqrt(c),h=(l*l-o*o+4*c)/(2*o*2*f),p=(l*l-o*o-4*c)/(2*l*2*f),d=Math.log(Math.sqrt(h*h+1)-h),g=Math.log(Math.sqrt(p*p+1)-p)-d,m=(g||Math.log(l/o))/Ft;function v(t){var e,i=t*m;if(g){var a=zt(d),l=o/(2*f)*(a*(e=Ft*i+d,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(d));return[n+l*s,r+l*u,o*a/zt(Ft*i+d)]}return[n+t*s,r+t*u,o*Math.exp(Ft*i)]}return v.duration=1e3*m,v},i.behavior.zoom=function(){var t,e,n,r,o,a,l,u,f,h={x:0,y:0,k:1},p=[960,500],d=Yt,g=250,m=0,v="mousedown.zoom",y="mousemove.zoom",_="mouseup.zoom",x="touchstart.zoom",w=Y(b,"zoomstart","zoom","zoomend");function b(t){t.on(v,N).on($t+".zoom",B).on("dblclick.zoom",I).on(x,P)}function A(t){return[(t[0]-h.x)/h.k,(t[1]-h.y)/h.k]}function M(t){h.k=Math.max(d[0],Math.min(d[1],t))}function k(t,e){e=function(t){return[t[0]*h.k+h.x,t[1]*h.k+h.y]}(e),h.x+=t[0]-e[0],h.y+=t[1]-e[1]}function C(t,n,r,o){t.__chart__={x:h.x,y:h.y,k:h.k},M(Math.pow(2,o)),k(e=n,r),t=i.select(t),g>0&&(t=t.transition().duration(g)),t.call(b.event)}function S(){l&&l.domain(a.range().map((function(t){return(t-h.x)/h.k})).map(a.invert)),f&&f.domain(u.range().map((function(t){return(t-h.y)/h.k})).map(u.invert))}function E(t){m++||t({type:"zoomstart"})}function D(t){S(),t({type:"zoom",scale:h.k,translate:[h.x,h.y]})}function L(t){--m||(t({type:"zoomend"}),e=null)}function N(){var t=this,e=i.event.target,n=w.of(t,arguments),r=0,o=i.select(c(t)).on(y,s).on(_,u),a=A(i.mouse(t)),l=At(t);function s(){r=1,k(i.mouse(t),a),D(n)}function u(){o.on(y,null).on(_,null),l(r&&i.event.target===e),L(n)}ml.call(t),E(n)}function P(){var t,e=this,n=w.of(e,arguments),r={},a=0,l=".zoom-"+i.event.changedTouches[0].identifier,s="touchmove"+l,u="touchend"+l,c=[],f=i.select(e),p=At(e);function d(){var n=i.touches(e);return t=h.k,n.forEach((function(t){t.identifier in r&&(r[t.identifier]=A(t))})),n}function g(){var t=i.event.target;i.select(t).on(s,m).on(u,y),c.push(t);for(var n=i.event.changedTouches,l=0,f=n.length;l<f;++l)r[n[l].identifier]=null;var p=d(),g=Date.now();if(1===p.length){if(g-o<500){var v=p[0];C(e,v,r[v.identifier],Math.floor(Math.log(h.k)/Math.LN2)+1),R()}o=g}else if(p.length>1){v=p[0];var _=p[1],x=v[0]-_[0],w=v[1]-_[1];a=x*x+w*w}}function m(){var l,s,u,c,f=i.touches(e);ml.call(e);for(var h=0,p=f.length;h<p;++h,c=null)if(u=f[h],c=r[u.identifier]){if(s)break;l=u,s=c}if(c){var d=(d=u[0]-l[0])*d+(d=u[1]-l[1])*d,g=a&&Math.sqrt(d/a);l=[(l[0]+u[0])/2,(l[1]+u[1])/2],s=[(s[0]+c[0])/2,(s[1]+c[1])/2],M(g*t)}o=null,k(l,s),D(n)}function y(){if(i.event.touches.length){for(var t=i.event.changedTouches,e=0,o=t.length;e<o;++e)delete r[t[e].identifier];for(var a in r)return void d()}i.selectAll(c).on(l,null),f.on(v,N).on(x,P),p(),L(n)}g(),E(n),f.on(v,null).on(x,g)}function B(){var o=w.of(this,arguments);r?clearTimeout(r):(ml.call(this),t=A(e=n||i.mouse(this)),E(o)),r=setTimeout((function(){r=null,L(o)}),50),R(),M(Math.pow(2,.002*Rt())*h.k),k(e,t),D(o)}function I(){var t=i.mouse(this),e=Math.log(h.k)/Math.LN2;C(this,t,A(t),i.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}return $t||($t="onwheel"in s?(Rt=function(){return-i.event.deltaY*(i.event.deltaMode?120:1)},"wheel"):"onmousewheel"in s?(Rt=function(){return i.event.wheelDelta},"mousewheel"):(Rt=function(){return-i.event.detail},"MozMousePixelScroll")),b.event=function(t){t.each((function(){var t=w.of(this,arguments),n=h;_l?i.select(this).transition().each("start.zoom",(function(){h=this.__chart__||{x:0,y:0,k:1},E(t)})).tween("zoom:zoom",(function(){var r=p[0],o=p[1],a=e?e[0]:r/2,l=e?e[1]:o/2,s=i.interpolateZoom([(a-h.x)/h.k,(l-h.y)/h.k,r/h.k],[(a-n.x)/n.k,(l-n.y)/n.k,r/n.k]);return function(e){var n=s(e),o=r/n[2];this.__chart__=h={x:a-n[0]*o,y:l-n[1]*o,k:o},D(t)}})).each("interrupt.zoom",(function(){L(t)})).each("end.zoom",(function(){L(t)})):(this.__chart__=h,E(t),D(t),L(t))}))},b.translate=function(t){return arguments.length?(h={x:+t[0],y:+t[1],k:h.k},S(),b):[h.x,h.y]},b.scale=function(t){return arguments.length?(h={x:h.x,y:h.y,k:+t},S(),b):h.k},b.scaleExtent=function(t){return arguments.length?(d=null==t?Yt:[+t[0],+t[1]],b):d},b.center=function(t){return arguments.length?(n=t&&[+t[0],+t[1]],b):n},b.size=function(t){return arguments.length?(p=t&&[+t[0],+t[1]],b):p},b.duration=function(t){return arguments.length?(g=+t,b):g},b.x=function(t){return arguments.length?(l=t,a=t.copy(),h={x:0,y:0,k:1},b):l},b.y=function(t){return arguments.length?(f=t,u=t.copy(),h={x:0,y:0,k:1},b):f},i.rebind(b,w,"on")};var Rt,$t,Yt=[0,1/0];function Ht(){}function Qt(t,e,n){return this instanceof Qt?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof Qt?new Qt(t.h,t.s,t.l):ce(""+t,fe,Qt):new Qt(t,e,n)}i.color=Ht,Ht.prototype.toString=function(){return this.rgb()+""},i.hsl=Qt;var Vt=Qt.prototype=new Ht;function qt(t,e,n){var r,o;function i(t){return Math.round(255*function(t){return t>360?t-=360:t<0&&(t+=360),t<60?r+(o-r)*t/60:t<180?o:t<240?r+(o-r)*(240-t)/60:r}(t))}return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)||e<0?0:e>1?1:e,r=2*(n=n<0?0:n>1?1:n)-(o=n<=.5?n*(1+e):n+e-n*e),new ie(i(t+120),i(t),i(t-120))}function Gt(t,e,n){return this instanceof Gt?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof Gt?new Gt(t.h,t.c,t.l):ee(t instanceof Jt?t.l:(t=he((t=i.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new Gt(t,e,n)}Vt.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new Qt(this.h,this.s,this.l/t)},Vt.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new Qt(this.h,this.s,t*this.l)},Vt.rgb=function(){return qt(this.h,this.s,this.l)},i.hcl=Gt;var Wt=Gt.prototype=new Ht;function Xt(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new Jt(n,Math.cos(t*=Pt)*e,Math.sin(t)*e)}function Jt(t,e,n){return this instanceof Jt?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof Jt?new Jt(t.l,t.a,t.b):t instanceof Gt?Xt(t.h,t.c,t.l):he((t=ie(t)).r,t.g,t.b):new Jt(t,e,n)}Wt.brighter=function(t){return new Gt(this.h,this.c,Math.min(100,this.l+Zt*(arguments.length?t:1)))},Wt.darker=function(t){return new Gt(this.h,this.c,Math.max(0,this.l-Zt*(arguments.length?t:1)))},Wt.rgb=function(){return Xt(this.h,this.c,this.l).rgb()},i.lab=Jt;var Zt=18,Kt=Jt.prototype=new Ht;function te(t,e,n){var r=(t+16)/116,o=r+e/500,i=r-n/200;return new ie(oe(3.2404542*(o=.95047*ne(o))-1.5371385*(r=1*ne(r))-.4985314*(i=1.08883*ne(i))),oe(-.969266*o+1.8760108*r+.041556*i),oe(.0556434*o-.2040259*r+1.0572252*i))}function ee(t,e,n){return t>0?new Gt(Math.atan2(n,e)*Bt,Math.sqrt(e*e+n*n),t):new Gt(NaN,NaN,t)}function ne(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function re(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function oe(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function ie(t,e,n){return this instanceof ie?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof ie?new ie(t.r,t.g,t.b):ce(""+t,ie,qt):new ie(t,e,n)}function ae(t){return new ie(t>>16,t>>8&255,255&t)}function le(t){return ae(t)+""}Kt.brighter=function(t){return new Jt(Math.min(100,this.l+Zt*(arguments.length?t:1)),this.a,this.b)},Kt.darker=function(t){return new Jt(Math.max(0,this.l-Zt*(arguments.length?t:1)),this.a,this.b)},Kt.rgb=function(){return te(this.l,this.a,this.b)},i.rgb=ie;var se=ie.prototype=new Ht;function ue(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function ce(t,e,n){t=t.toLowerCase();var r,o,i,a=0,l=0,s=0;if(r=/([a-z]+)\((.*)\)/.exec(t))switch(o=r[2].split(","),r[1]){case"hsl":return n(parseFloat(o[0]),parseFloat(o[1])/100,parseFloat(o[2])/100);case"rgb":return e(de(o[0]),de(o[1]),de(o[2]))}return(i=ge.get(t))?e(i.r,i.g,i.b):(null==t||"#"!==t.charAt(0)||isNaN(i=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&i)>>4,a|=a>>4,l=240&i,l|=l>>4,s=15&i,s|=s<<4):7===t.length&&(a=(16711680&i)>>16,l=(65280&i)>>8,s=255&i)),e(a,l,s))}function fe(t,e,n){var r,o,i=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),l=a-i,s=(a+i)/2;return l?(o=s<.5?l/(a+i):l/(2-a-i),r=t==a?(e-n)/l+(e<n?6:0):e==a?(n-t)/l+2:(t-e)/l+4,r*=60):(r=NaN,o=s>0&&s<1?0:r),new Qt(r,o,s)}function he(t,e,n){var r=re((.4124564*(t=pe(t))+.3575761*(e=pe(e))+.1804375*(n=pe(n)))/.95047),o=re((.2126729*t+.7151522*e+.072175*n)/1);return Jt(116*o-16,500*(r-o),200*(o-re((.0193339*t+.119192*e+.9503041*n)/1.08883)))}function pe(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function de(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}se.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,o=30;return e||n||r?(e&&e<o&&(e=o),n&&n<o&&(n=o),r&&r<o&&(r=o),new ie(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new ie(o,o,o)},se.darker=function(t){return new ie((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},se.hsl=function(){return fe(this.r,this.g,this.b)},se.toString=function(){return"#"+ue(this.r)+ue(this.g)+ue(this.b)};var ge=i.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function me(t){return"function"==typeof t?t:function(){return t}}function ve(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),ye(e,n,t,r)}}function ye(t,e,n,r){var o={},a=i.dispatch("beforesend","progress","load","error"),s={},u=new XMLHttpRequest,c=null;function f(){var t,e=u.status;if(!e&&function(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}(u)||e>=200&&e<300||304===e){try{t=n.call(o,u)}catch(t){return void a.error.call(o,t)}a.load.call(o,t)}else a.error.call(o,u)}return this.XDomainRequest&&!("withCredentials"in u)&&/^(http(s)?:)?\/\//.test(t)&&(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=f:u.onreadystatechange=function(){u.readyState>3&&f()},u.onprogress=function(t){var e=i.event;i.event=t;try{a.progress.call(o,u)}finally{i.event=e}},o.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",o)},o.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",o):e},o.responseType=function(t){return arguments.length?(c=t,o):c},o.response=function(t){return n=t,o},["get","post"].forEach((function(t){o[t]=function(){return o.send.apply(o,[t].concat(l(arguments)))}})),o.send=function(n,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),u.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),u.setRequestHeader)for(var l in s)u.setRequestHeader(l,s[l]);return null!=e&&u.overrideMimeType&&u.overrideMimeType(e),null!=c&&(u.responseType=c),null!=i&&o.on("error",i).on("load",(function(t){i(null,t)})),a.beforesend.call(o,u),u.send(null==r?null:r),o},o.abort=function(){return u.abort(),o},i.rebind(o,a,"on"),null==r?o:o.get(function(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}(r))}ge.forEach((function(t,e){ge.set(t,ae(e))})),i.functor=me,i.xhr=ve(I),i.dsv=function(t,e){var n=new RegExp('["'+t+"\n]"),r=t.charCodeAt(0);function o(t,n,r){arguments.length<3&&(r=n,n=null);var o=ye(t,e,null==n?i:a(n),r);return o.row=function(t){return arguments.length?o.response(null==(n=t)?i:a(t)):n},o}function i(t){return o.parse(t.responseText)}function a(t){return function(e){return o.parse(e.responseText,t)}}function l(e){return e.map(s).join(t)}function s(t){return n.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}return o.parse=function(t,e){var n;return o.parseRows(t,(function(t,r){if(n)return n(t,r-1);var o=new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+"]"})).join(",")+"}");n=e?function(t,n){return e(o(t),n)}:o}))},o.parseRows=function(t,e){var n,o,i={},a={},l=[],s=t.length,u=0,c=0;function f(){if(u>=s)return a;if(o)return o=!1,i;var e=u;if(34===t.charCodeAt(e)){for(var n=e;n++<s;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}return u=n+2,13===(l=t.charCodeAt(n+1))?(o=!0,10===t.charCodeAt(n+2)&&++u):10===l&&(o=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;u<s;){var l,c=1;if(10===(l=t.charCodeAt(u++)))o=!0;else if(13===l)o=!0,10===t.charCodeAt(u)&&(++u,++c);else if(l!==r)continue;return t.slice(e,u-c)}return t.slice(e)}for(;(n=f())!==a;){for(var h=[];n!==i&&n!==a;)h.push(n),n=f();e&&null==(h=e(h,c++))||l.push(h)}return l},o.format=function(e){if(Array.isArray(e[0]))return o.formatRows(e);var n=new B,r=[];return e.forEach((function(t){for(var e in t)n.has(e)||r.push(n.add(e))})),[r.map(s).join(t)].concat(e.map((function(e){return r.map((function(t){return s(e[t])})).join(t)}))).join("\n")},o.formatRows=function(t){return t.map(l).join("\n")},o},i.csv=i.dsv(",","text/csv"),i.tsv=i.dsv("\t","text/tab-separated-values");var _e,xe,we,be,Ae,Me=this[U(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};function ke(){var t=Ce(),e=Se()-t;e>24?(isFinite(e)&&(clearTimeout(be),be=setTimeout(ke,e)),we=0):(we=1,Me(ke))}function Ce(){var t=Date.now();for(Ae=_e;Ae;)t>=Ae.t&&(Ae.f=Ae.c(t-Ae.t)),Ae=Ae.n;return t}function Se(){for(var t,e=_e,n=1/0;e;)e.f?e=t?t.n=e.n:_e=e.n:(e.t<n&&(n=e.t),e=(t=e).n);return xe=t,n}function Ee(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}i.timer=function(t,e,n){var r=arguments.length;r<2&&(e=0),r<3&&(n=Date.now());var o=n+e,i={c:t,t:o,f:!1,n:null};xe?xe.n=i:_e=i,xe=i,we||(be=clearTimeout(be),we=1,Me(ke))},i.timer.flush=function(){Ce(),Se()},i.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var De=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map((function(t,e){var n=Math.pow(10,3*b(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}));function Le(t){var e=t.decimal,n=t.thousands,r=t.grouping,o=t.currency,a=r&&n?function(t,e){for(var o=t.length,i=[],a=0,l=r[0],s=0;o>0&&l>0&&(s+l+1>e&&(l=Math.max(1,e-s)),i.push(t.substring(o-=l,o+l)),!((s+=l+1)>e));)l=r[a=(a+1)%r.length];return i.reverse().join(n)}:I;return function(t){var n=Ne.exec(t),r=n[1]||" ",l=n[2]||">",s=n[3]||"-",u=n[4]||"",c=n[5],f=+n[6],h=n[7],p=n[8],d=n[9],g=1,m="",v="",y=!1,_=!0;switch(p&&(p=+p.substring(1)),(c||"0"===r&&"="===l)&&(c=r="0",l="="),d){case"n":h=!0,d="g";break;case"%":g=100,v="%",d="f";break;case"p":g=100,v="%",d="r";break;case"b":case"o":case"x":case"X":"#"===u&&(m="0"+d.toLowerCase());case"c":_=!1;case"d":y=!0,p=0;break;case"s":g=-1,d="r"}"$"===u&&(m=o[0],v=o[1]),"r"!=d||p||(d="g"),null!=p&&("g"==d?p=Math.max(1,Math.min(21,p)):"e"!=d&&"f"!=d||(p=Math.max(0,Math.min(20,p)))),d=Pe.get(d)||Be;var x=c&&h;return function(t){var n=v;if(y&&t%1)return"";var o=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===s?"":s;if(g<0){var u=i.formatPrefix(t,p);t=u.scale(t),n=u.symbol+v}else t*=g;var w,b,A=(t=d(t,p)).lastIndexOf(".");if(A<0){var M=_?t.lastIndexOf("e"):-1;M<0?(w=t,b=""):(w=t.substring(0,M),b=t.substring(M))}else w=t.substring(0,A),b=e+t.substring(A+1);!c&&h&&(w=a(w,1/0));var k=m.length+w.length+b.length+(x?0:o.length),C=k<f?new Array(k=f-k+1).join(r):"";return x&&(w=a(C+w,C.length?f-b.length:1/0)),o+=m,t=w+b,("<"===l?o+t+C:">"===l?C+o+t:"^"===l?C.substring(0,k>>=1)+o+t+C.substring(k):o+(x?t:C+t))+n}}}i.formatPrefix=function(t,e){var n=0;return t&&(t<0&&(t*=-1),e&&(t=i.round(t,Ee(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),De[8+n/3]};var Ne=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Pe=i.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=i.round(t,Ee(t,e))).toFixed(Math.max(0,Math.min(20,Ee(t*(1+1e-15),e))))}});function Be(t){return t+""}var Ie=i.time={},Te=Date;function Ue(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}Ue.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Oe.setUTCDate.apply(this._,arguments)},setDay:function(){Oe.setUTCDay.apply(this._,arguments)},setFullYear:function(){Oe.setUTCFullYear.apply(this._,arguments)},setHours:function(){Oe.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Oe.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Oe.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Oe.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Oe.setUTCSeconds.apply(this._,arguments)},setTime:function(){Oe.setTime.apply(this._,arguments)}};var Oe=Date.prototype;function ze(t,e,n){function r(e){var n=t(e),r=i(n,1);return e-n<r-e?n:r}function o(n){return e(n=t(new Te(n-1)),1),n}function i(t,n){return e(t=new Te(+t),n),t}function a(t,r,i){var a=o(t),l=[];if(i>1)for(;a<r;)n(a)%i||l.push(new Date(+a)),e(a,1);else for(;a<r;)l.push(new Date(+a)),e(a,1);return l}t.floor=t,t.round=r,t.ceil=o,t.offset=i,t.range=a;var l=t.utc=je(t);return l.floor=l,l.round=je(r),l.ceil=je(o),l.offset=je(i),l.range=function(t,e,n){try{Te=Ue;var r=new Ue;return r._=t,a(r,e,n)}finally{Te=Date}},t}function je(t){return function(e,n){try{Te=Ue;var r=new Ue;return r._=e,t(r,n)._}finally{Te=Date}}}function Fe(t){var e=t.dateTime,n=t.date,r=t.time,o=t.periods,a=t.days,l=t.shortDays,s=t.months,u=t.shortMonths;function c(t){var e=t.length;function n(n){for(var r,o,i,a=[],l=-1,s=0;++l<e;)37===t.charCodeAt(l)&&(a.push(t.slice(s,l)),null!=(o=Re[r=t.charAt(++l)])&&(r=t.charAt(++l)),(i=w[r])&&(r=i(n,null==o?"e"===r?" ":"0":o)),a.push(r),s=l+1);return a.push(t.slice(s,l)),a.join("")}return n.parse=function(e){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(f(n,t,e,0)!=e.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var r=null!=n.Z&&Te!==Ue,o=new(r?Ue:Te);return"j"in n?o.setFullYear(n.y,0,n.j):"w"in n&&("W"in n||"U"in n)?(o.setFullYear(n.y,0,1),o.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(o.getDay()+5)%7:n.w+7*n.U-(o.getDay()+6)%7)):o.setFullYear(n.y,n.m,n.d),o.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),r?o._:o},n.toString=function(){return t},n}function f(t,e,n,r){for(var o,i,a,l=0,s=e.length,u=n.length;l<s;){if(r>=u)return-1;if(37===(o=e.charCodeAt(l++))){if(a=e.charAt(l++),!(i=b[a in Re?e.charAt(l++):a])||(r=i(t,n,r))<0)return-1}else if(o!=n.charCodeAt(r++))return-1}return r}c.utc=function(t){var e=c(t);function n(t){try{var n=new(Te=Ue);return n._=t,e(n)}finally{Te=Date}}return n.parse=function(t){try{Te=Ue;var n=e.parse(t);return n&&n._}finally{Te=Date}},n.toString=e.toString,n},c.multi=c.utc.multi=un;var h=i.map(),p=Qe(a),d=Ve(a),g=Qe(l),m=Ve(l),v=Qe(s),y=Ve(s),_=Qe(u),x=Ve(u);o.forEach((function(t,e){h.set(t.toLowerCase(),e)}));var w={a:function(t){return l[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:c(e),d:function(t,e){return He(t.getDate(),e,2)},e:function(t,e){return He(t.getDate(),e,2)},H:function(t,e){return He(t.getHours(),e,2)},I:function(t,e){return He(t.getHours()%12||12,e,2)},j:function(t,e){return He(1+Ie.dayOfYear(t),e,3)},L:function(t,e){return He(t.getMilliseconds(),e,3)},m:function(t,e){return He(t.getMonth()+1,e,2)},M:function(t,e){return He(t.getMinutes(),e,2)},p:function(t){return o[+(t.getHours()>=12)]},S:function(t,e){return He(t.getSeconds(),e,2)},U:function(t,e){return He(Ie.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return He(Ie.mondayOfYear(t),e,2)},x:c(n),X:c(r),y:function(t,e){return He(t.getFullYear()%100,e,2)},Y:function(t,e){return He(t.getFullYear()%1e4,e,4)},Z:ln,"%":function(){return"%"}},b={a:function(t,e,n){g.lastIndex=0;var r=g.exec(e.slice(n));return r?(t.w=m.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){p.lastIndex=0;var r=p.exec(e.slice(n));return r?(t.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){_.lastIndex=0;var r=_.exec(e.slice(n));return r?(t.m=x.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){v.lastIndex=0;var r=v.exec(e.slice(n));return r?(t.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,e,n){return f(t,w.c.toString(),e,n)},d:tn,e:tn,H:nn,I:nn,j:en,L:an,m:Ke,M:rn,p:function(t,e,n){var r=h.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)},S:on,U:Ge,w:qe,W:We,x:function(t,e,n){return f(t,w.x.toString(),e,n)},X:function(t,e,n){return f(t,w.X.toString(),e,n)},y:Je,Y:Xe,Z:Ze,"%":sn};return c}Ie.year=ze((function(t){return(t=Ie.day(t)).setMonth(0,1),t}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t){return t.getFullYear()})),Ie.years=Ie.year.range,Ie.years.utc=Ie.year.utc.range,Ie.day=ze((function(t){var e=new Te(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t){return t.getDate()-1})),Ie.days=Ie.day.range,Ie.days.utc=Ie.day.utc.range,Ie.dayOfYear=function(t){var e=Ie.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach((function(t,e){e=7-e;var n=Ie[t]=ze((function(t){return(t=Ie.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t}),(function(t,e){t.setDate(t.getDate()+7*Math.floor(e))}),(function(t){var n=Ie.year(t).getDay();return Math.floor((Ie.dayOfYear(t)+(n+e)%7)/7)-(n!==e)}));Ie[t+"s"]=n.range,Ie[t+"s"].utc=n.utc.range,Ie[t+"OfYear"]=function(t){var n=Ie.year(t).getDay();return Math.floor((Ie.dayOfYear(t)+(n+e)%7)/7)}})),Ie.week=Ie.sunday,Ie.weeks=Ie.sunday.range,Ie.weeks.utc=Ie.sunday.utc.range,Ie.weekOfYear=Ie.sundayOfYear;var Re={"-":"",_:" ",0:"0"},$e=/^\s*\d+/,Ye=/^%/;function He(t,e,n){var r=t<0?"-":"",o=(r?-t:t)+"",i=o.length;return r+(i<n?new Array(n-i+1).join(e)+o:o)}function Qe(t){return new RegExp("^(?:"+t.map(i.requote).join("|")+")","i")}function Ve(t){for(var e=new k,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function qe(t,e,n){$e.lastIndex=0;var r=$e.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Ge(t,e,n){$e.lastIndex=0;var r=$e.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function We(t,e,n){$e.lastIndex=0;var r=$e.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function Xe(t,e,n){$e.lastIndex=0;var r=$e.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Je(t,e,n){$e.lastIndex=0;var r,o=$e.exec(e.slice(n,n+2));return o?(t.y=(r=+o[0])+(r>68?1900:2e3),n+o[0].length):-1}function Ze(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Ke(t,e,n){$e.lastIndex=0;var r=$e.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function tn(t,e,n){$e.lastIndex=0;var r=$e.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function en(t,e,n){$e.lastIndex=0;var r=$e.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function nn(t,e,n){$e.lastIndex=0;var r=$e.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function rn(t,e,n){$e.lastIndex=0;var r=$e.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function on(t,e,n){$e.lastIndex=0;var r=$e.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function an(t,e,n){$e.lastIndex=0;var r=$e.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ln(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=b(e)/60|0,o=b(e)%60;return n+He(r,"0",2)+He(o,"0",2)}function sn(t,e,n){Ye.lastIndex=0;var r=Ye.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function un(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[n];!r[1](e);)r=t[++n];return r[0](e)}}i.locale=function(t){return{numberFormat:Le(t),timeFormat:Fe(t)}};var cn=i.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function fn(){}i.format=cn.numberFormat,i.geo={},fn.prototype={s:0,t:0,add:function(t){pn(t,this.t,hn),pn(hn.s,this.s,this),this.s?this.t+=hn.t:this.s=hn.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var hn=new fn;function pn(t,e,n){var r=n.s=t+e,o=r-t,i=r-o;n.t=t-i+(e-o)}function dn(t,e){t&&mn.hasOwnProperty(t.type)&&mn[t.type](t,e)}i.geo.stream=function(t,e){t&&gn.hasOwnProperty(t.type)?gn[t.type](t,e):dn(t,e)};var gn={Feature:function(t,e){dn(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,o=n.length;++r<o;)dn(n[r].geometry,e)}},mn={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){vn(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)vn(n[r],e,0)},Polygon:function(t,e){yn(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)yn(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,o=n.length;++r<o;)dn(n[r],e)}};function vn(t,e,n){var r,o=-1,i=t.length-n;for(e.lineStart();++o<i;)r=t[o],e.point(r[0],r[1],r[2]);e.lineEnd()}function yn(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)vn(t[n],e,1);e.polygonEnd()}i.geo.area=function(t){return _n=0,i.geo.stream(t,Pn),_n};var _n,xn,wn,bn,An,Mn,kn,Cn,Sn,En,Dn,Ln,Nn=new fn,Pn={sphere:function(){_n+=4*Et},point:z,lineStart:z,lineEnd:z,polygonStart:function(){Nn.reset(),Pn.lineStart=Bn},polygonEnd:function(){var t=2*Nn;_n+=t<0?4*Et+t:t,Pn.lineStart=Pn.lineEnd=Pn.point=z}};function Bn(){var t,e,n,r,o;function i(t,e){e=e*Pt/2+Et/4;var i=(t*=Pt)-n,a=i>=0?1:-1,l=a*i,s=Math.cos(e),u=Math.sin(e),c=o*u,f=r*s+c*Math.cos(l),h=c*a*Math.sin(l);Nn.add(Math.atan2(h,f)),n=t,r=s,o=u}Pn.point=function(a,l){Pn.point=i,n=(t=a)*Pt,r=Math.cos(l=(e=l)*Pt/2+Et/4),o=Math.sin(l)},Pn.lineEnd=function(){i(t,e)}}function In(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function Tn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Un(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function On(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function zn(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function jn(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Fn(t){return[Math.atan2(t[1],t[0]),Ot(t[2])]}function Rn(t,e){return b(t[0]-e[0])<St&&b(t[1]-e[1])<St}i.geo.bounds=function(){var t,e,n,r,o,a,l,s,u,c,f,h={point:p,lineStart:g,lineEnd:m,polygonStart:function(){h.point=v,h.lineStart=y,h.lineEnd=_,u=0,Pn.polygonStart()},polygonEnd:function(){Pn.polygonEnd(),h.point=p,h.lineStart=g,h.lineEnd=m,Nn<0?(t=-(n=180),e=-(r=90)):u>St?r=90:u<-St&&(e=-90),f[0]=t,f[1]=n}};function p(o,i){c.push(f=[t=o,n=o]),i<e&&(e=i),i>r&&(r=i)}function d(i,a){var l=In([i*Pt,a*Pt]);if(s){var u=Un(s,l),c=Un([u[1],-u[0],0],u);jn(c),c=Fn(c);var f=i-o,h=f>0?1:-1,d=c[0]*Bt*h,g=b(f)>180;if(g^(h*o<d&&d<h*i))(m=c[1]*Bt)>r&&(r=m);else if(g^(h*o<(d=(d+360)%360-180)&&d<h*i)){var m;(m=-c[1]*Bt)<e&&(e=m)}else a<e&&(e=a),a>r&&(r=a);g?i<o?x(t,i)>x(t,n)&&(n=i):x(i,n)>x(t,n)&&(t=i):n>=t?(i<t&&(t=i),i>n&&(n=i)):i>o?x(t,i)>x(t,n)&&(n=i):x(i,n)>x(t,n)&&(t=i)}else p(i,a);s=l,o=i}function g(){h.point=d}function m(){f[0]=t,f[1]=n,h.point=p,s=null}function v(t,e){if(s){var n=t-o;u+=b(n)>180?n+(n>0?360:-360):n}else a=t,l=e;Pn.point(t,e),d(t,e)}function y(){Pn.lineStart()}function _(){v(a,l),Pn.lineEnd(),b(u)>St&&(t=-(n=180)),f[0]=t,f[1]=n,s=null}function x(t,e){return(e-=t)<0?e+360:e}function w(t,e){return t[0]-e[0]}function A(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}return function(o){if(r=n=-(t=e=1/0),c=[],i.geo.stream(o,h),u=c.length){c.sort(w);for(var a=1,l=[g=c[0]];a<u;++a)A((p=c[a])[0],g)||A(p[1],g)?(x(g[0],p[1])>x(g[0],g[1])&&(g[1]=p[1]),x(p[0],g[1])>x(g[0],g[1])&&(g[0]=p[0])):l.push(g=p);for(var s,u,p,d=-1/0,g=(a=0,l[u=l.length-1]);a<=u;g=p,++a)p=l[a],(s=x(g[1],p[0]))>d&&(d=s,t=p[0],n=g[1])}return c=f=null,t===1/0||e===1/0?[[NaN,NaN],[NaN,NaN]]:[[t,e],[n,r]]}}(),i.geo.centroid=function(t){xn=wn=bn=An=Mn=kn=Cn=Sn=En=Dn=Ln=0,i.geo.stream(t,$n);var e=En,n=Dn,r=Ln,o=e*e+n*n+r*r;return o<1e-12&&(e=kn,n=Cn,r=Sn,wn<St&&(e=bn,n=An,r=Mn),(o=e*e+n*n+r*r)<1e-12)?[NaN,NaN]:[Math.atan2(n,e)*Bt,Ot(r/Math.sqrt(o))*Bt]};var $n={sphere:z,point:Yn,lineStart:Qn,lineEnd:Vn,polygonStart:function(){$n.lineStart=qn},polygonEnd:function(){$n.lineStart=Qn}};function Yn(t,e){t*=Pt;var n=Math.cos(e*=Pt);Hn(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Hn(t,e,n){++xn,bn+=(t-bn)/xn,An+=(e-An)/xn,Mn+=(n-Mn)/xn}function Qn(){var t,e,n;function r(r,o){r*=Pt;var i=Math.cos(o*=Pt),a=i*Math.cos(r),l=i*Math.sin(r),s=Math.sin(o),u=Math.atan2(Math.sqrt((u=e*s-n*l)*u+(u=n*a-t*s)*u+(u=t*l-e*a)*u),t*a+e*l+n*s);wn+=u,kn+=u*(t+(t=a)),Cn+=u*(e+(e=l)),Sn+=u*(n+(n=s)),Hn(t,e,n)}$n.point=function(o,i){o*=Pt;var a=Math.cos(i*=Pt);t=a*Math.cos(o),e=a*Math.sin(o),n=Math.sin(i),$n.point=r,Hn(t,e,n)}}function Vn(){$n.point=Yn}function qn(){var t,e,n,r,o;function i(t,e){t*=Pt;var i=Math.cos(e*=Pt),a=i*Math.cos(t),l=i*Math.sin(t),s=Math.sin(e),u=r*s-o*l,c=o*a-n*s,f=n*l-r*a,h=Math.sqrt(u*u+c*c+f*f),p=n*a+r*l+o*s,d=h&&-Ut(p)/h,g=Math.atan2(h,p);En+=d*u,Dn+=d*c,Ln+=d*f,wn+=g,kn+=g*(n+(n=a)),Cn+=g*(r+(r=l)),Sn+=g*(o+(o=s)),Hn(n,r,o)}$n.point=function(a,l){t=a,e=l,$n.point=i,a*=Pt;var s=Math.cos(l*=Pt);n=s*Math.cos(a),r=s*Math.sin(a),o=Math.sin(l),Hn(n,r,o)},$n.lineEnd=function(){i(t,e),$n.lineEnd=Vn,$n.point=Yn}}function Gn(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function Wn(){return!0}function Xn(t,e,n,r,o){var i=[],a=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(Rn(n,r)){o.lineStart();for(var l=0;l<e;++l)o.point((n=t[l])[0],n[1]);o.lineEnd()}else{var s=new Zn(n,t,null,!0),u=new Zn(n,null,s,!1);s.o=u,i.push(s),a.push(u),s=new Zn(r,t,null,!1),u=new Zn(r,null,s,!0),s.o=u,i.push(s),a.push(u)}}})),a.sort(e),Jn(i),Jn(a),i.length){for(var l=0,s=n,u=a.length;l<u;++l)a[l].e=s=!s;for(var c,f,h=i[0];;){for(var p=h,d=!0;p.v;)if((p=p.n)===h)return;c=p.z,o.lineStart();do{if(p.v=p.o.v=!0,p.e){if(d)for(l=0,u=c.length;l<u;++l)o.point((f=c[l])[0],f[1]);else r(p.x,p.n.x,1,o);p=p.n}else{if(d)for(l=(c=p.p.z).length-1;l>=0;--l)o.point((f=c[l])[0],f[1]);else r(p.x,p.p.x,-1,o);p=p.p}c=(p=p.o).z,d=!d}while(!p.v);o.lineEnd()}}}function Jn(t){if(e=t.length){for(var e,n,r=0,o=t[0];++r<e;)o.n=n=t[r],n.p=o,o=n;o.n=n=t[0],n.p=o}}function Zn(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Kn(t,e,n,r){return function(o,a){var l,s=e(a),u=o.invert(r[0],r[1]),c={point:f,lineStart:p,lineEnd:d,polygonStart:function(){c.point=x,c.lineStart=w,c.lineEnd=b,l=[],g=[]},polygonEnd:function(){c.point=f,c.lineStart=p,c.lineEnd=d,l=i.merge(l);var t=function(t,e){var n=t[0],r=t[1],o=[Math.sin(n),-Math.cos(n),0],i=0,a=0;Nn.reset();for(var l=0,s=e.length;l<s;++l){var u=e[l],c=u.length;if(c)for(var f=u[0],h=f[0],p=f[1]/2+Et/4,d=Math.sin(p),g=Math.cos(p),m=1;;){m===c&&(m=0);var v=(t=u[m])[0],y=t[1]/2+Et/4,_=Math.sin(y),x=Math.cos(y),w=v-h,b=w>=0?1:-1,A=b*w,M=A>Et,k=d*_;if(Nn.add(Math.atan2(k*b*Math.sin(A),g*x+k*Math.cos(A))),i+=M?w+b*Dt:w,M^h>=n^v>=n){var C=Un(In(f),In(t));jn(C);var S=Un(o,C);jn(S);var E=(M^w>=0?-1:1)*Ot(S[2]);(r>E||r===E&&(C[0]||C[1]))&&(a+=M^w>=0?1:-1)}if(!m++)break;h=v,d=_,g=x,f=t}}return(i<-St||i<St&&Nn<0)^1&a}(u,g);l.length?(_||(a.polygonStart(),_=!0),Xn(l,nr,t,n,a)):t&&(_||(a.polygonStart(),_=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),_&&(a.polygonEnd(),_=!1),l=g=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function f(e,n){var r=o(e,n);t(e=r[0],n=r[1])&&a.point(e,n)}function h(t,e){var n=o(t,e);s.point(n[0],n[1])}function p(){c.point=h,s.lineStart()}function d(){c.point=f,s.lineEnd()}var g,m,v=er(),y=e(v),_=!1;function x(t,e){m.push([t,e]);var n=o(t,e);y.point(n[0],n[1])}function w(){y.lineStart(),m=[]}function b(){x(m[0][0],m[0][1]),y.lineEnd();var t,e=y.clean(),n=v.buffer(),r=n.length;if(m.pop(),g.push(m),m=null,r)if(1&e){var o,i=-1;if((r=(t=n[0]).length-1)>0){for(_||(a.polygonStart(),_=!0),a.lineStart();++i<r;)a.point((o=t[i])[0],o[1]);a.lineEnd()}}else r>1&&2&e&&n.push(n.pop().concat(n.shift())),l.push(n.filter(tr))}return c}}function tr(t){return t.length>1}function er(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:z,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function nr(t,e){return((t=t.x)[0]<0?t[1]-Nt-St:Nt-t[1])-((e=e.x)[0]<0?e[1]-Nt-St:Nt-e[1])}var rr=Kn(Wn,(function(t){var e,n=NaN,r=NaN,o=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(i,a){var l=i>0?Et:-Et,s=b(i-n);b(s-Et)<St?(t.point(n,r=(r+a)/2>0?Nt:-Nt),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(l,r),t.point(i,r),e=0):o!==l&&s>=Et&&(b(n-o)<St&&(n-=o*St),b(i-l)<St&&(i-=l*St),r=function(t,e,n,r){var o,i,a=Math.sin(t-n);return b(a)>St?Math.atan((Math.sin(e)*(i=Math.cos(r))*Math.sin(n)-Math.sin(r)*(o=Math.cos(e))*Math.sin(t))/(o*i*a)):(e+r)/2}(n,r,i,a),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(l,r),e=0),t.point(n=i,r=a),o=l},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var o;if(null==t)o=n*Nt,r.point(-Et,o),r.point(0,o),r.point(Et,o),r.point(Et,0),r.point(Et,-o),r.point(0,-o),r.point(-Et,-o),r.point(-Et,0),r.point(-Et,o);else if(b(t[0]-e[0])>St){var i=t[0]<e[0]?Et:-Et;o=n*i/2,r.point(-i,o),r.point(0,o),r.point(i,o)}else r.point(e[0],e[1])}),[-Et,-Et/2]);function or(t){var e=Math.cos(t),n=e>0,r=b(e)>St;return Kn(o,(function(t){var e,l,s,u,c;return{lineStart:function(){u=s=!1,c=1},point:function(f,h){var p,d=[f,h],g=o(f,h),m=n?g?0:a(f,h):g?a(f+(f<0?Et:-Et),h):0;if(!e&&(u=s=g)&&t.lineStart(),g!==s&&(p=i(e,d),(Rn(e,p)||Rn(d,p))&&(d[0]+=St,d[1]+=St,g=o(d[0],d[1]))),g!==s)c=0,g?(t.lineStart(),p=i(d,e),t.point(p[0],p[1])):(p=i(e,d),t.point(p[0],p[1]),t.lineEnd()),e=p;else if(r&&e&&n^g){var v;m&l||!(v=i(d,e,!0))||(c=0,n?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!g||e&&Rn(e,d)||t.point(d[0],d[1]),e=d,s=g,l=m},lineEnd:function(){s&&t.lineEnd(),e=null},clean:function(){return c|(u&&s)<<1}}}),Fr(t,6*Pt),n?[0,-t]:[-Et,t-Et]);function o(t,n){return Math.cos(t)*Math.cos(n)>e}function i(t,n,r){var o=[1,0,0],i=Un(In(t),In(n)),a=Tn(i,i),l=i[0],s=a-l*l;if(!s)return!r&&t;var u=e*a/s,c=-e*l/s,f=Un(o,i),h=zn(o,u);On(h,zn(i,c));var p=f,d=Tn(h,p),g=Tn(p,p),m=d*d-g*(Tn(h,h)-1);if(!(m<0)){var v=Math.sqrt(m),y=zn(p,(-d-v)/g);if(On(y,h),y=Fn(y),!r)return y;var _,x=t[0],w=n[0],A=t[1],M=n[1];w<x&&(_=x,x=w,w=_);var k=w-x,C=b(k-Et)<St;if(!C&&M<A&&(_=A,A=M,M=_),C||k<St?C?A+M>0^y[1]<(b(y[0]-x)<St?A:M):A<=y[1]&&y[1]<=M:k>Et^(x<=y[0]&&y[0]<=w)){var S=zn(p,(-d+v)/g);return On(S,h),[y,Fn(S)]}}}function a(e,r){var o=n?t:Et-t,i=0;return e<-o?i|=1:e>o&&(i|=2),r<-o?i|=4:r>o&&(i|=8),i}}function ir(t,e,n,r){return function(o){var i,a=o.a,l=o.b,s=a.x,u=a.y,c=0,f=1,h=l.x-s,p=l.y-u;if(i=t-s,h||!(i>0)){if(i/=h,h<0){if(i<c)return;i<f&&(f=i)}else if(h>0){if(i>f)return;i>c&&(c=i)}if(i=n-s,h||!(i<0)){if(i/=h,h<0){if(i>f)return;i>c&&(c=i)}else if(h>0){if(i<c)return;i<f&&(f=i)}if(i=e-u,p||!(i>0)){if(i/=p,p<0){if(i<c)return;i<f&&(f=i)}else if(p>0){if(i>f)return;i>c&&(c=i)}if(i=r-u,p||!(i<0)){if(i/=p,p<0){if(i>f)return;i>c&&(c=i)}else if(p>0){if(i<c)return;i<f&&(f=i)}return c>0&&(o.a={x:s+c*h,y:u+c*p}),f<1&&(o.b={x:s+f*h,y:u+f*p}),o}}}}}}function ar(t,e,n,r){return function(s){var u,c,f,h,p,d,g,m,v,y,_,x=s,w=er(),b=ir(t,e,n,r),A={point:C,lineStart:function(){A.point=S,c&&c.push(f=[]);y=!0,v=!1,g=m=NaN},lineEnd:function(){u&&(S(h,p),d&&v&&w.rejoin(),u.push(w.buffer()));A.point=C,v&&s.lineEnd()},polygonStart:function(){s=w,u=[],c=[],_=!0},polygonEnd:function(){s=x,u=i.merge(u);var e=function(t){for(var e=0,n=c.length,r=t[1],o=0;o<n;++o)for(var i,a=1,l=c[o],s=l.length,u=l[0];a<s;++a)i=l[a],u[1]<=r?i[1]>r&&Tt(u,i,t)>0&&++e:i[1]<=r&&Tt(u,i,t)<0&&--e,u=i;return 0!==e}([t,r]),n=_&&e,o=u.length;(n||o)&&(s.polygonStart(),n&&(s.lineStart(),M(null,null,1,s),s.lineEnd()),o&&Xn(u,a,e,M,s),s.polygonEnd()),u=c=f=null}};function M(i,a,s,u){var c=0,f=0;if(null==i||(c=o(i,s))!==(f=o(a,s))||l(i,a)<0^s>0)do{u.point(0===c||3===c?t:n,c>1?r:e)}while((c=(c+s+4)%4)!==f);else u.point(a[0],a[1])}function k(o,i){return t<=o&&o<=n&&e<=i&&i<=r}function C(t,e){k(t,e)&&s.point(t,e)}function S(t,e){var n=k(t=Math.max(-1e9,Math.min(1e9,t)),e=Math.max(-1e9,Math.min(1e9,e)));if(c&&f.push([t,e]),y)h=t,p=e,d=n,y=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&v)s.point(t,e);else{var r={a:{x:g,y:m},b:{x:t,y:e}};b(r)?(v||(s.lineStart(),s.point(r.a.x,r.a.y)),s.point(r.b.x,r.b.y),n||s.lineEnd(),_=!1):n&&(s.lineStart(),s.point(t,e),_=!1)}g=t,m=e,v=n}return A};function o(r,o){return b(r[0]-t)<St?o>0?0:3:b(r[0]-n)<St?o>0?2:1:b(r[1]-e)<St?o>0?1:0:o>0?3:2}function a(t,e){return l(t.x,e.x)}function l(t,e){var n=o(t,1),r=o(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}}function lr(t){var e=0,n=Et/3,r=Pr(t),o=r(e,n);return o.parallels=function(t){return arguments.length?r(e=t[0]*Et/180,n=t[1]*Et/180):[e/Et*180,n/Et*180]},o}function sr(t,e){var n=Math.sin(t),r=(n+Math.sin(e))/2,o=1+n*(2*r-n),i=Math.sqrt(o)/r;function a(t,e){var n=Math.sqrt(o-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),i-n*Math.cos(t)]}return a.invert=function(t,e){var n=i-e;return[Math.atan2(t,n)/r,Ot((o-(t*t+n*n)*r*r)/(2*r))]},a}i.geo.clipExtent=function(){var t,e,n,r,o,i,a={stream:function(t){return o&&(o.valid=!1),(o=i(t)).valid=!0,o},extent:function(l){return arguments.length?(i=ar(t=+l[0][0],e=+l[0][1],n=+l[1][0],r=+l[1][1]),o&&(o.valid=!1,o=null),a):[[t,e],[n,r]]}};return a.extent([[0,0],[960,500]])},(i.geo.conicEqualArea=function(){return lr(sr)}).raw=sr,i.geo.albers=function(){return i.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},i.geo.albersUsa=function(){var t,e,n,r,o=i.geo.albers(),a=i.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=i.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s={point:function(e,n){t=[e,n]}};function u(o){var i=o[0],a=o[1];return t=null,e(i,a),t||(n(i,a),t)||r(i,a),t}return u.invert=function(t){var e=o.scale(),n=o.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?a:i>=.166&&i<.234&&r>=-.214&&r<-.115?l:o).invert(t)},u.stream=function(t){var e=o.stream(t),n=a.stream(t),r=l.stream(t);return{point:function(t,o){e.point(t,o),n.point(t,o),r.point(t,o)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},u.precision=function(t){return arguments.length?(o.precision(t),a.precision(t),l.precision(t),u):o.precision()},u.scale=function(t){return arguments.length?(o.scale(t),a.scale(.35*t),l.scale(t),u.translate(o.translate())):o.scale()},u.translate=function(t){if(!arguments.length)return o.translate();var i=o.scale(),c=+t[0],f=+t[1];return e=o.translate(t).clipExtent([[c-.455*i,f-.238*i],[c+.455*i,f+.238*i]]).stream(s).point,n=a.translate([c-.307*i,f+.201*i]).clipExtent([[c-.425*i+St,f+.12*i+St],[c-.214*i-St,f+.234*i-St]]).stream(s).point,r=l.translate([c-.205*i,f+.212*i]).clipExtent([[c-.214*i+St,f+.166*i+St],[c-.115*i-St,f+.234*i-St]]).stream(s).point,u},u.scale(1070)};var ur,cr,fr,hr,pr,dr,gr={point:z,lineStart:z,lineEnd:z,polygonStart:function(){cr=0,gr.lineStart=mr},polygonEnd:function(){gr.lineStart=gr.lineEnd=gr.point=z,ur+=b(cr/2)}};function mr(){var t,e,n,r;function o(t,e){cr+=r*t-n*e,n=t,r=e}gr.point=function(i,a){gr.point=o,t=n=i,e=r=a},gr.lineEnd=function(){o(t,e)}}var vr={point:function(t,e){t<fr&&(fr=t);t>pr&&(pr=t);e<hr&&(hr=e);e>dr&&(dr=e)},lineStart:z,lineEnd:z,polygonStart:z,polygonEnd:z};function yr(){var t=_r(4.5),e=[],n={point:r,lineStart:function(){n.point=o},lineEnd:a,polygonStart:function(){n.lineEnd=l},polygonEnd:function(){n.lineEnd=a,n.point=r},pointRadius:function(e){return t=_r(e),n},result:function(){if(e.length){var t=e.join("");return e=[],t}}};function r(n,r){e.push("M",n,",",r,t)}function o(t,r){e.push("M",t,",",r),n.point=i}function i(t,n){e.push("L",t,",",n)}function a(){n.point=r}function l(){e.push("Z")}return n}function _r(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}var xr,wr={point:br,lineStart:Ar,lineEnd:Mr,polygonStart:function(){wr.lineStart=kr},polygonEnd:function(){wr.point=br,wr.lineStart=Ar,wr.lineEnd=Mr}};function br(t,e){bn+=t,An+=e,++Mn}function Ar(){var t,e;function n(n,r){var o=n-t,i=r-e,a=Math.sqrt(o*o+i*i);kn+=a*(t+n)/2,Cn+=a*(e+r)/2,Sn+=a,br(t=n,e=r)}wr.point=function(r,o){wr.point=n,br(t=r,e=o)}}function Mr(){wr.point=br}function kr(){var t,e,n,r;function o(t,e){var o=t-n,i=e-r,a=Math.sqrt(o*o+i*i);kn+=a*(n+t)/2,Cn+=a*(r+e)/2,Sn+=a,En+=(a=r*t-n*e)*(n+t),Dn+=a*(r+e),Ln+=3*a,br(n=t,r=e)}wr.point=function(i,a){wr.point=o,br(t=n=i,e=r=a)},wr.lineEnd=function(){o(t,e)}}function Cr(t){var e=4.5,n={point:r,lineStart:function(){n.point=o},lineEnd:a,polygonStart:function(){n.lineEnd=l},polygonEnd:function(){n.lineEnd=a,n.point=r},pointRadius:function(t){return e=t,n},result:z};function r(n,r){t.moveTo(n+e,r),t.arc(n,r,e,0,Dt)}function o(e,r){t.moveTo(e,r),n.point=i}function i(e,n){t.lineTo(e,n)}function a(){n.point=r}function l(){t.closePath()}return n}function Sr(t){var e=.5,n=Math.cos(30*Pt),r=16;function o(t){return(r?a:i)(t)}function i(e){return Lr(e,(function(n,r){n=t(n,r),e.point(n[0],n[1])}))}function a(e){var n,o,i,a,s,u,c,f,h,p,d,g,m={point:v,lineStart:y,lineEnd:x,polygonStart:function(){e.polygonStart(),m.lineStart=w},polygonEnd:function(){e.polygonEnd(),m.lineStart=y}};function v(n,r){n=t(n,r),e.point(n[0],n[1])}function y(){f=NaN,m.point=_,e.lineStart()}function _(n,o){var i=In([n,o]),a=t(n,o);l(f,h,c,p,d,g,f=a[0],h=a[1],c=n,p=i[0],d=i[1],g=i[2],r,e),e.point(f,h)}function x(){m.point=v,e.lineEnd()}function w(){y(),m.point=b,m.lineEnd=A}function b(t,e){_(n=t,e),o=f,i=h,a=p,s=d,u=g,m.point=_}function A(){l(f,h,c,p,d,g,o,i,n,a,s,u,r,e),m.lineEnd=x,x()}return m}function l(r,o,i,a,s,u,c,f,h,p,d,g,m,v){var y=c-r,_=f-o,x=y*y+_*_;if(x>4*e&&m--){var w=a+p,A=s+d,M=u+g,k=Math.sqrt(w*w+A*A+M*M),C=Math.asin(M/=k),S=b(b(M)-1)<St||b(i-h)<St?(i+h)/2:Math.atan2(A,w),E=t(S,C),D=E[0],L=E[1],N=D-r,P=L-o,B=_*N-y*P;(B*B/x>e||b((y*N+_*P)/x-.5)>.3||a*p+s*d+u*g<n)&&(l(r,o,i,a,s,u,D,L,S,w/=k,A/=k,M,m,v),v.point(D,L),l(D,L,S,w,A,M,c,f,h,p,d,g,m,v))}}return o.precision=function(t){return arguments.length?(r=(e=t*t)>0&&16,o):Math.sqrt(e)},o}function Er(t){var e=Sr((function(e,n){return t([e*Bt,n*Bt])}));return function(t){return Br(e(t))}}function Dr(t){this.stream=t}function Lr(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function Nr(t){return Pr((function(){return t}))()}function Pr(t){var e,n,r,o,a,l,s=Sr((function(t,n){return[(t=e(t,n))[0]*u+o,a-t[1]*u]})),u=150,c=480,f=250,h=0,p=0,d=0,g=0,m=0,v=rr,y=I,_=null,x=null;function w(t){return[(t=r(t[0]*Pt,t[1]*Pt))[0]*u+o,a-t[1]*u]}function b(t){return(t=r.invert((t[0]-o)/u,(a-t[1])/u))&&[t[0]*Bt,t[1]*Bt]}function A(){r=Gn(n=Ur(d,g,m),e);var t=e(h,p);return o=c-t[0]*u,a=f+t[1]*u,M()}function M(){return l&&(l.valid=!1,l=null),w}return w.stream=function(t){return l&&(l.valid=!1),(l=Br(v(n,s(y(t))))).valid=!0,l},w.clipAngle=function(t){return arguments.length?(v=null==t?(_=t,rr):or((_=+t)*Pt),M()):_},w.clipExtent=function(t){return arguments.length?(x=t,y=t?ar(t[0][0],t[0][1],t[1][0],t[1][1]):I,M()):x},w.scale=function(t){return arguments.length?(u=+t,A()):u},w.translate=function(t){return arguments.length?(c=+t[0],f=+t[1],A()):[c,f]},w.center=function(t){return arguments.length?(h=t[0]%360*Pt,p=t[1]%360*Pt,A()):[h*Bt,p*Bt]},w.rotate=function(t){return arguments.length?(d=t[0]%360*Pt,g=t[1]%360*Pt,m=t.length>2?t[2]%360*Pt:0,A()):[d*Bt,g*Bt,m*Bt]},i.rebind(w,s,"precision"),function(){return e=t.apply(this,arguments),w.invert=e.invert&&b,A()}}function Br(t){return Lr(t,(function(e,n){t.point(e*Pt,n*Pt)}))}function Ir(t,e){return[t,e]}function Tr(t,e){return[t>Et?t-Dt:t<-Et?t+Dt:t,e]}function Ur(t,e,n){return t?e||n?Gn(zr(t),jr(e,n)):zr(t):e||n?jr(e,n):Tr}function Or(t){return function(e,n){return[(e+=t)>Et?e-Dt:e<-Et?e+Dt:e,n]}}function zr(t){var e=Or(t);return e.invert=Or(-t),e}function jr(t,e){var n=Math.cos(t),r=Math.sin(t),o=Math.cos(e),i=Math.sin(e);function a(t,e){var a=Math.cos(e),l=Math.cos(t)*a,s=Math.sin(t)*a,u=Math.sin(e),c=u*n+l*r;return[Math.atan2(s*o-c*i,l*n-u*r),Ot(c*o+s*i)]}return a.invert=function(t,e){var a=Math.cos(e),l=Math.cos(t)*a,s=Math.sin(t)*a,u=Math.sin(e),c=u*o-s*i;return[Math.atan2(s*o+u*i,l*n+c*r),Ot(c*n-l*r)]},a}function Fr(t,e){var n=Math.cos(t),r=Math.sin(t);return function(o,i,a,l){var s=a*e;null!=o?(o=Rr(n,o),i=Rr(n,i),(a>0?o<i:o>i)&&(o+=a*Dt)):(o=t+a*Dt,i=t-.5*s);for(var u,c=o;a>0?c>i:c<i;c-=s)l.point((u=Fn([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],u[1])}}function Rr(t,e){var n=In(e);n[0]-=t,jn(n);var r=Ut(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-St)%(2*Math.PI)}function $r(t,e,n){var r=i.range(t,e-St,n).concat(e);return function(t){return r.map((function(e){return[t,e]}))}}function Yr(t,e,n){var r=i.range(t,e-St,n).concat(e);return function(t){return r.map((function(e){return[e,t]}))}}function Hr(t){return t.source}function Qr(t){return t.target}i.geo.path=function(){var t,e,n,r,o,a=4.5;function l(t){return t&&("function"==typeof a&&r.pointRadius(+a.apply(this,arguments)),o&&o.valid||(o=n(r)),i.geo.stream(t,o)),r.result()}function s(){return o=null,l}return l.area=function(t){return ur=0,i.geo.stream(t,n(gr)),ur},l.centroid=function(t){return bn=An=Mn=kn=Cn=Sn=En=Dn=Ln=0,i.geo.stream(t,n(wr)),Ln?[En/Ln,Dn/Ln]:Sn?[kn/Sn,Cn/Sn]:Mn?[bn/Mn,An/Mn]:[NaN,NaN]},l.bounds=function(t){return pr=dr=-(fr=hr=1/0),i.geo.stream(t,n(vr)),[[fr,hr],[pr,dr]]},l.projection=function(e){return arguments.length?(n=(t=e)?e.stream||Er(e):I,s()):t},l.context=function(t){return arguments.length?(r=null==(e=t)?new yr:new Cr(t),"function"!=typeof a&&r.pointRadius(a),s()):e},l.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(r.pointRadius(+t),+t),l):a},l.projection(i.geo.albersUsa()).context(null)},i.geo.transform=function(t){return{stream:function(e){var n=new Dr(e);for(var r in t)n[r]=t[r];return n}}},Dr.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},i.geo.projection=Nr,i.geo.projectionMutator=Pr,(i.geo.equirectangular=function(){return Nr(Ir)}).raw=Ir.invert=Ir,i.geo.rotation=function(t){function e(e){return(e=t(e[0]*Pt,e[1]*Pt))[0]*=Bt,e[1]*=Bt,e}return t=Ur(t[0]%360*Pt,t[1]*Pt,t.length>2?t[2]*Pt:0),e.invert=function(e){return(e=t.invert(e[0]*Pt,e[1]*Pt))[0]*=Bt,e[1]*=Bt,e},e},Tr.invert=Ir,i.geo.circle=function(){var t,e,n=[0,0],r=6;function o(){var t="function"==typeof n?n.apply(this,arguments):n,r=Ur(-t[0]*Pt,-t[1]*Pt,0).invert,o=[];return e(null,null,1,{point:function(t,e){o.push(t=r(t,e)),t[0]*=Bt,t[1]*=Bt}}),{type:"Polygon",coordinates:[o]}}return o.origin=function(t){return arguments.length?(n=t,o):n},o.angle=function(n){return arguments.length?(e=Fr((t=+n)*Pt,r*Pt),o):t},o.precision=function(n){return arguments.length?(e=Fr(t*Pt,(r=+n)*Pt),o):r},o.angle(90)},i.geo.distance=function(t,e){var n,r=(e[0]-t[0])*Pt,o=t[1]*Pt,i=e[1]*Pt,a=Math.sin(r),l=Math.cos(r),s=Math.sin(o),u=Math.cos(o),c=Math.sin(i),f=Math.cos(i);return Math.atan2(Math.sqrt((n=f*a)*n+(n=u*c-s*f*l)*n),s*c+u*f*l)},i.geo.graticule=function(){var t,e,n,r,o,a,l,s,u,c,f,h,p=10,d=p,g=90,m=360,v=2.5;function y(){return{type:"MultiLineString",coordinates:_()}}function _(){return i.range(Math.ceil(r/g)*g,n,g).map(f).concat(i.range(Math.ceil(s/m)*m,l,m).map(h)).concat(i.range(Math.ceil(e/p)*p,t,p).filter((function(t){return b(t%g)>St})).map(u)).concat(i.range(Math.ceil(a/d)*d,o,d).filter((function(t){return b(t%m)>St})).map(c))}return y.lines=function(){return _().map((function(t){return{type:"LineString",coordinates:t}}))},y.outline=function(){return{type:"Polygon",coordinates:[f(r).concat(h(l).slice(1),f(n).reverse().slice(1),h(s).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.majorExtent(t).minorExtent(t):y.minorExtent()},y.majorExtent=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],s=+t[0][1],l=+t[1][1],r>n&&(t=r,r=n,n=t),s>l&&(t=s,s=l,l=t),y.precision(v)):[[r,s],[n,l]]},y.minorExtent=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],a=+n[0][1],o=+n[1][1],e>t&&(n=e,e=t,t=n),a>o&&(n=a,a=o,o=n),y.precision(v)):[[e,a],[t,o]]},y.step=function(t){return arguments.length?y.majorStep(t).minorStep(t):y.minorStep()},y.majorStep=function(t){return arguments.length?(g=+t[0],m=+t[1],y):[g,m]},y.minorStep=function(t){return arguments.length?(p=+t[0],d=+t[1],y):[p,d]},y.precision=function(i){return arguments.length?(v=+i,u=$r(a,o,90),c=Yr(e,t,v),f=$r(s,l,90),h=Yr(r,n,v),y):v},y.majorExtent([[-180,-90+St],[180,90-St]]).minorExtent([[-180,-80-St],[180,80+St]])},i.geo.greatArc=function(){var t,e,n=Hr,r=Qr;function o(){return{type:"LineString",coordinates:[t||n.apply(this,arguments),e||r.apply(this,arguments)]}}return o.distance=function(){return i.geo.distance(t||n.apply(this,arguments),e||r.apply(this,arguments))},o.source=function(e){return arguments.length?(n=e,t="function"==typeof e?null:e,o):n},o.target=function(t){return arguments.length?(r=t,e="function"==typeof t?null:t,o):r},o.precision=function(){return arguments.length?o:0},o},i.geo.interpolate=function(t,e){return n=t[0]*Pt,r=t[1]*Pt,o=e[0]*Pt,i=e[1]*Pt,a=Math.cos(r),l=Math.sin(r),s=Math.cos(i),u=Math.sin(i),c=a*Math.cos(n),f=a*Math.sin(n),h=s*Math.cos(o),p=s*Math.sin(o),d=2*Math.asin(Math.sqrt(jt(i-r)+a*s*jt(o-n))),g=1/Math.sin(d),(m=d?function(t){var e=Math.sin(t*=d)*g,n=Math.sin(d-t)*g,r=n*c+e*h,o=n*f+e*p,i=n*l+e*u;return[Math.atan2(o,r)*Bt,Math.atan2(i,Math.sqrt(r*r+o*o))*Bt]}:function(){return[n*Bt,r*Bt]}).distance=d,m;var n,r,o,i,a,l,s,u,c,f,h,p,d,g,m},i.geo.length=function(t){return xr=0,i.geo.stream(t,Vr),xr};var Vr={sphere:z,point:z,lineStart:function(){var t,e,n;function r(r,o){var i=Math.sin(o*=Pt),a=Math.cos(o),l=b((r*=Pt)-t),s=Math.cos(l);xr+=Math.atan2(Math.sqrt((l=a*Math.sin(l))*l+(l=n*i-e*a*s)*l),e*i+n*a*s),t=r,e=i,n=a}Vr.point=function(o,i){t=o*Pt,e=Math.sin(i*=Pt),n=Math.cos(i),Vr.point=r},Vr.lineEnd=function(){Vr.point=Vr.lineEnd=z}},lineEnd:z,polygonStart:z,polygonEnd:z};function qr(t,e){function n(e,n){var r=Math.cos(e),o=Math.cos(n),i=t(r*o);return[i*o*Math.sin(e),i*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),o=e(r),i=Math.sin(o),a=Math.cos(o);return[Math.atan2(t*i,r*a),Math.asin(r&&n*i/r)]},n}var Gr=qr((function(t){return Math.sqrt(2/(1+t))}),(function(t){return 2*Math.asin(t/2)}));(i.geo.azimuthalEqualArea=function(){return Nr(Gr)}).raw=Gr;var Wr=qr((function(t){var e=Math.acos(t);return e&&e/Math.sin(e)}),I);function Xr(t,e){var n=Math.cos(t),r=function(t){return Math.tan(Et/4+t/2)},o=t===e?Math.sin(t):Math.log(n/Math.cos(e))/Math.log(r(e)/r(t)),i=n*Math.pow(r(t),o)/o;if(!o)return Kr;function a(t,e){i>0?e<-Nt+St&&(e=-Nt+St):e>Nt-St&&(e=Nt-St);var n=i/Math.pow(r(e),o);return[n*Math.sin(o*t),i-n*Math.cos(o*t)]}return a.invert=function(t,e){var n=i-e,r=It(o)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/o,2*Math.atan(Math.pow(i/r,1/o))-Nt]},a}function Jr(t,e){var n=Math.cos(t),r=t===e?Math.sin(t):(n-Math.cos(e))/(e-t),o=n/r+t;if(b(r)<St)return Ir;function i(t,e){var n=o-e;return[n*Math.sin(r*t),o-n*Math.cos(r*t)]}return i.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/r,o-It(r)*Math.sqrt(t*t+n*n)]},i}(i.geo.azimuthalEquidistant=function(){return Nr(Wr)}).raw=Wr,(i.geo.conicConformal=function(){return lr(Xr)}).raw=Xr,(i.geo.conicEquidistant=function(){return lr(Jr)}).raw=Jr;var Zr=qr((function(t){return 1/t}),Math.atan);function Kr(t,e){return[t,Math.log(Math.tan(Et/4+e/2))]}function to(t){var e,n=Nr(t),r=n.scale,o=n.translate,i=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=o.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var a=i.apply(n,arguments);if(a===n){if(e=null==t){var l=Et*r(),s=o();i([[s[0]-l,s[1]-l],[s[0]+l,s[1]+l]])}}else e&&(a=null);return a},n.clipExtent(null)}(i.geo.gnomonic=function(){return Nr(Zr)}).raw=Zr,Kr.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Nt]},(i.geo.mercator=function(){return to(Kr)}).raw=Kr;var eo=qr((function(){return 1}),Math.asin);(i.geo.orthographic=function(){return Nr(eo)}).raw=eo;var no=qr((function(t){return 1/(1+t)}),(function(t){return 2*Math.atan(t)}));function ro(t,e){return[Math.log(Math.tan(Et/4+e/2)),-t]}function oo(t){return t[0]}function io(t){return t[1]}function ao(t){for(var e=t.length,n=[0,1],r=2,o=2;o<e;o++){for(;r>1&&Tt(t[n[r-2]],t[n[r-1]],t[o])<=0;)--r;n[r++]=o}return n.slice(0,r)}function lo(t,e){return t[0]-e[0]||t[1]-e[1]}(i.geo.stereographic=function(){return Nr(no)}).raw=no,ro.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Nt]},(i.geo.transverseMercator=function(){var t=to(ro),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90])}).raw=ro,i.geom={},i.geom.hull=function(t){var e=oo,n=io;if(arguments.length)return r(t);function r(t){if(t.length<3)return[];var r,o=me(e),i=me(n),a=t.length,l=[],s=[];for(r=0;r<a;r++)l.push([+o.call(this,t[r],r),+i.call(this,t[r],r),r]);for(l.sort(lo),r=0;r<a;r++)s.push([l[r][0],-l[r][1]]);var u=ao(l),c=ao(s),f=c[0]===u[0],h=c[c.length-1]===u[u.length-1],p=[];for(r=u.length-1;r>=0;--r)p.push(t[l[u[r]][2]]);for(r=+f;r<c.length-h;++r)p.push(t[l[c[r]][2]]);return p}return r.x=function(t){return arguments.length?(e=t,r):e},r.y=function(t){return arguments.length?(n=t,r):n},r},i.geom.polygon=function(t){return Q(t,so),t};var so=i.geom.polygon.prototype=[];function uo(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function co(t,e,n,r){var o=t[0],i=n[0],a=e[0]-o,l=r[0]-i,s=t[1],u=n[1],c=e[1]-s,f=r[1]-u,h=(l*(s-u)-f*(o-i))/(f*a-l*c);return[o+h*a,s+h*c]}function fo(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}so.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],o=0;++e<n;)t=r,r=this[e],o+=t[1]*r[0]-t[0]*r[1];return.5*o},so.centroid=function(t){var e,n,r=-1,o=this.length,i=0,a=0,l=this[o-1];for(arguments.length||(t=-1/(6*this.area()));++r<o;)e=l,l=this[r],n=e[0]*l[1]-l[0]*e[1],i+=(e[0]+l[0])*n,a+=(e[1]+l[1])*n;return[i*t,a*t]},so.clip=function(t){for(var e,n,r,o,i,a,l=fo(t),s=-1,u=this.length-fo(this),c=this[u-1];++s<u;){for(e=t.slice(),t.length=0,o=this[s],i=e[(r=e.length-l)-1],n=-1;++n<r;)uo(a=e[n],c,o)?(uo(i,c,o)||t.push(co(i,a,c,o)),t.push(a)):uo(i,c,o)&&t.push(co(i,a,c,o)),i=a;l&&t.push(t[0]),c=o}return t};var ho,po,go,mo,vo,yo=[],_o=[];function xo(){jo(this),this.edge=this.site=this.circle=null}function wo(t){var e=yo.pop()||new xo;return e.site=t,e}function bo(t){No(t),go.remove(t),yo.push(t),jo(t)}function Ao(t){var e=t.circle,n=e.x,r=e.cy,o={x:n,y:r},i=t.P,a=t.N,l=[t];bo(t);for(var s=i;s.circle&&b(n-s.circle.x)<St&&b(r-s.circle.cy)<St;)i=s.P,l.unshift(s),bo(s),s=i;l.unshift(s),No(s);for(var u=a;u.circle&&b(n-u.circle.x)<St&&b(r-u.circle.cy)<St;)a=u.N,l.push(u),bo(u),u=a;l.push(u),No(u);var c,f=l.length;for(c=1;c<f;++c)u=l[c],s=l[c-1],Uo(u.edge,s.site,u.site,o);s=l[0],(u=l[f-1]).edge=Io(s.site,u.site,null,o),Lo(s),Lo(u)}function Mo(t){for(var e,n,r,o,i=t.x,a=t.y,l=go._;l;)if((r=ko(l,a)-i)>St)l=l.L;else{if(!((o=i-Co(l,a))>St)){r>-St?(e=l.P,n=l):o>-St?(e=l,n=l.N):e=n=l;break}if(!l.R){e=l;break}l=l.R}var s=wo(t);if(go.insert(e,s),e||n){if(e===n)return No(e),n=wo(e.site),go.insert(s,n),s.edge=n.edge=Io(e.site,s.site),Lo(e),void Lo(n);if(n){No(e),No(n);var u=e.site,c=u.x,f=u.y,h=t.x-c,p=t.y-f,d=n.site,g=d.x-c,m=d.y-f,v=2*(h*m-p*g),y=h*h+p*p,_=g*g+m*m,x={x:(m*y-p*_)/v+c,y:(h*_-g*y)/v+f};Uo(n.edge,u,d,x),s.edge=Io(u,t,null,x),n.edge=Io(t,d,null,x),Lo(e),Lo(n)}else s.edge=Io(e.site,s.site)}}function ko(t,e){var n=t.site,r=n.x,o=n.y,i=o-e;if(!i)return r;var a=t.P;if(!a)return-1/0;var l=(n=a.site).x,s=n.y,u=s-e;if(!u)return l;var c=l-r,f=1/i-1/u,h=c/u;return f?(-h+Math.sqrt(h*h-2*f*(c*c/(-2*u)-s+u/2+o-i/2)))/f+r:(r+l)/2}function Co(t,e){var n=t.N;if(n)return ko(n,e);var r=t.site;return r.y===e?r.x:1/0}function So(t){this.site=t,this.edges=[]}function Eo(t,e){return e.angle-t.angle}function Do(){jo(this),this.x=this.y=this.arc=this.site=this.cy=null}function Lo(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,o=t.site,i=n.site;if(r!==i){var a=o.x,l=o.y,s=r.x-a,u=r.y-l,c=i.x-a,f=2*(s*(m=i.y-l)-u*c);if(!(f>=-1e-12)){var h=s*s+u*u,p=c*c+m*m,d=(m*h-u*p)/f,g=(s*p-c*h)/f,m=g+l,v=_o.pop()||new Do;v.arc=t,v.site=o,v.x=d+a,v.y=m+Math.sqrt(d*d+g*g),v.cy=m,t.circle=v;for(var y=null,_=vo._;_;)if(v.y<_.y||v.y===_.y&&v.x<=_.x){if(!_.L){y=_.P;break}_=_.L}else{if(!_.R){y=_;break}_=_.R}vo.insert(y,v),y||(mo=v)}}}}function No(t){var e=t.circle;e&&(e.P||(mo=e.N),vo.remove(e),_o.push(e),jo(e),t.circle=null)}function Po(t,e){var n=t.b;if(n)return!0;var r,o,i=t.a,a=e[0][0],l=e[1][0],s=e[0][1],u=e[1][1],c=t.l,f=t.r,h=c.x,p=c.y,d=f.x,g=f.y,m=(h+d)/2,v=(p+g)/2;if(g===p){if(m<a||m>=l)return;if(h>d){if(i){if(i.y>=u)return}else i={x:m,y:s};n={x:m,y:u}}else{if(i){if(i.y<s)return}else i={x:m,y:u};n={x:m,y:s}}}else if(o=v-(r=(h-d)/(g-p))*m,r<-1||r>1)if(h>d){if(i){if(i.y>=u)return}else i={x:(s-o)/r,y:s};n={x:(u-o)/r,y:u}}else{if(i){if(i.y<s)return}else i={x:(u-o)/r,y:u};n={x:(s-o)/r,y:s}}else if(p<g){if(i){if(i.x>=l)return}else i={x:a,y:r*a+o};n={x:l,y:r*l+o}}else{if(i){if(i.x<a)return}else i={x:l,y:r*l+o};n={x:a,y:r*a+o}}return t.a=i,t.b=n,!0}function Bo(t,e){this.l=t,this.r=e,this.a=this.b=null}function Io(t,e,n,r){var o=new Bo(t,e);return ho.push(o),n&&Uo(o,t,e,n),r&&Uo(o,e,t,r),po[t.i].edges.push(new Oo(o,t,e)),po[e.i].edges.push(new Oo(o,e,t)),o}function To(t,e,n){var r=new Bo(t,null);return r.a=e,r.b=n,ho.push(r),r}function Uo(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function Oo(t,e,n){var r=t.a,o=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(o.x-r.x,r.y-o.y):Math.atan2(r.x-o.x,o.y-r.y)}function zo(){this._=null}function jo(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Fo(t,e){var n=e,r=e.R,o=n.U;o?o.L===n?o.L=r:o.R=r:t._=r,r.U=o,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Ro(t,e){var n=e,r=e.L,o=n.U;o?o.L===n?o.L=r:o.R=r:t._=r,r.U=o,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function $o(t){for(;t.L;)t=t.L;return t}function Yo(t,e){var n,r,o,i=t.sort(Ho).pop();for(ho=[],po=new Array(t.length),go=new zo,vo=new zo;;)if(o=mo,i&&(!o||i.y<o.y||i.y===o.y&&i.x<o.x))i.x===n&&i.y===r||(po[i.i]=new So(i),Mo(i),n=i.x,r=i.y),i=t.pop();else{if(!o)break;Ao(o.arc)}e&&(function(t){for(var e,n=ho,r=ir(t[0][0],t[0][1],t[1][0],t[1][1]),o=n.length;o--;)(!Po(e=n[o],t)||!r(e)||b(e.a.x-e.b.x)<St&&b(e.a.y-e.b.y)<St)&&(e.a=e.b=null,n.splice(o,1))}(e),function(t){for(var e,n,r,o,i,a,l,s,u,c,f=t[0][0],h=t[1][0],p=t[0][1],d=t[1][1],g=po,m=g.length;m--;)if((i=g[m])&&i.prepare())for(s=(l=i.edges).length,a=0;a<s;)r=(c=l[a].end()).x,o=c.y,e=(u=l[++a%s].start()).x,n=u.y,(b(r-e)>St||b(o-n)>St)&&(l.splice(a,0,new Oo(To(i.site,c,b(r-f)<St&&d-o>St?{x:f,y:b(e-f)<St?n:d}:b(o-d)<St&&h-r>St?{x:b(n-d)<St?e:h,y:d}:b(r-h)<St&&o-p>St?{x:h,y:b(e-h)<St?n:p}:b(o-p)<St&&r-f>St?{x:b(n-p)<St?e:f,y:p}:null),i.site,null)),++s)}(e));var a={cells:po,edges:ho};return go=vo=ho=po=null,a}function Ho(t,e){return e.y-t.y||e.x-t.x}So.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(Eo),e.length},Oo.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},zo.prototype={insert:function(t,e){var n,r,o;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=$o(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(o=r.R)&&o.C?(n.C=o.C=!1,r.C=!0,t=r):(t===n.R&&(Fo(this,n),n=(t=n).U),n.C=!1,r.C=!0,Ro(this,r)):(o=r.L)&&o.C?(n.C=o.C=!1,r.C=!0,t=r):(t===n.L&&(Ro(this,n),n=(t=n).U),n.C=!1,r.C=!0,Fo(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,o=t.U,i=t.L,a=t.R;if(n=i?a?$o(a):i:a,o?o.L===t?o.L=n:o.R=n:this._=n,i&&a?(r=n.C,n.C=t.C,n.L=i,i.U=n,n!==a?(o=n.U,n.U=t.U,t=n.R,o.L=t,n.R=a,a.U=n):(n.U=o,o=n,t=n.R)):(r=t.C,t=n),t&&(t.U=o),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===o.L){if((e=o.R).C&&(e.C=!1,o.C=!0,Fo(this,o),e=o.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Ro(this,e),e=o.R),e.C=o.C,o.C=e.R.C=!1,Fo(this,o),t=this._;break}}else if((e=o.L).C&&(e.C=!1,o.C=!0,Ro(this,o),e=o.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Fo(this,e),e=o.L),e.C=o.C,o.C=e.L.C=!1,Ro(this,o),t=this._;break}e.C=!0,t=o,o=o.U}while(!t.C);t&&(t.C=!1)}}},i.geom.voronoi=function(t){var e=oo,n=io,r=e,o=n,i=Qo;if(t)return a(t);function a(t){var e=new Array(t.length),n=i[0][0],r=i[0][1],o=i[1][0],a=i[1][1];return Yo(l(t),i).cells.forEach((function(i,l){var s=i.edges,u=i.site;(e[l]=s.length?s.map((function(t){var e=t.start();return[e.x,e.y]})):u.x>=n&&u.x<=o&&u.y>=r&&u.y<=a?[[n,a],[o,a],[o,r],[n,r]]:[]).point=t[l]})),e}function l(t){return t.map((function(t,e){return{x:Math.round(r(t,e)/St)*St,y:Math.round(o(t,e)/St)*St,i:e}}))}return a.links=function(t){return Yo(l(t)).edges.filter((function(t){return t.l&&t.r})).map((function(e){return{source:t[e.l.i],target:t[e.r.i]}}))},a.triangles=function(t){var e=[];return Yo(l(t)).cells.forEach((function(n,r){for(var o,i,a,l,s=n.site,u=n.edges.sort(Eo),c=-1,f=u.length,h=u[f-1].edge,p=h.l===s?h.r:h.l;++c<f;)h,o=p,p=(h=u[c].edge).l===s?h.r:h.l,r<o.i&&r<p.i&&(a=o,l=p,((i=s).x-l.x)*(a.y-i.y)-(i.x-a.x)*(l.y-i.y)<0)&&e.push([t[r],t[o.i],t[p.i]])})),e},a.x=function(t){return arguments.length?(r=me(e=t),a):e},a.y=function(t){return arguments.length?(o=me(n=t),a):n},a.clipExtent=function(t){return arguments.length?(i=null==t?Qo:t,a):i===Qo?null:i},a.size=function(t){return arguments.length?a.clipExtent(t&&[[0,0],t]):i===Qo?null:i&&i[1]},a};var Qo=[[-1e6,-1e6],[1e6,1e6]];function Vo(t){return t.x}function qo(t){return t.y}function Go(t,e,n,r,o,i){if(!t(e,n,r,o,i)){var a=.5*(n+o),l=.5*(r+i),s=e.nodes;s[0]&&Go(t,s[0],n,r,a,l),s[1]&&Go(t,s[1],a,r,o,l),s[2]&&Go(t,s[2],n,l,a,i),s[3]&&Go(t,s[3],a,l,o,i)}}function Wo(t,e,n,r,o,i,a){var l,s=1/0;return function t(u,c,f,h,p){if(!(c>i||f>a||h<r||p<o)){if(d=u.point){var d,g=e-u.x,m=n-u.y,v=g*g+m*m;if(v<s){var y=Math.sqrt(s=v);r=e-y,o=n-y,i=e+y,a=n+y,l=d}}for(var _=u.nodes,x=.5*(c+h),w=.5*(f+p),b=(n>=w)<<1|e>=x,A=b+4;b<A;++b)if(u=_[3&b])switch(3&b){case 0:t(u,c,f,x,w);break;case 1:t(u,x,f,h,w);break;case 2:t(u,c,w,x,p);break;case 3:t(u,x,w,h,p)}}}(t,r,o,i,a),l}function Xo(t,e){t=i.rgb(t),e=i.rgb(e);var n=t.r,r=t.g,o=t.b,a=e.r-n,l=e.g-r,s=e.b-o;return function(t){return"#"+ue(Math.round(n+a*t))+ue(Math.round(r+l*t))+ue(Math.round(o+s*t))}}function Jo(t,e){var n,r={},o={};for(n in t)n in e?r[n]=ni(t[n],e[n]):o[n]=t[n];for(n in e)n in t||(o[n]=e[n]);return function(t){for(n in r)o[n]=r[n](t);return o}}function Zo(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Ko(t,e){var n,r,o,i=ti.lastIndex=ei.lastIndex=0,a=-1,l=[],s=[];for(t+="",e+="";(n=ti.exec(t))&&(r=ei.exec(e));)(o=r.index)>i&&(o=e.slice(i,o),l[a]?l[a]+=o:l[++a]=o),(n=n[0])===(r=r[0])?l[a]?l[a]+=r:l[++a]=r:(l[++a]=null,s.push({i:a,x:Zo(n,r)})),i=ei.lastIndex;return i<e.length&&(o=e.slice(i),l[a]?l[a]+=o:l[++a]=o),l.length<2?s[0]?(e=s[0].x,function(t){return e(t)+""}):function(){return e}:(e=s.length,function(t){for(var n,r=0;r<e;++r)l[(n=s[r]).i]=n.x(t);return l.join("")})}i.geom.delaunay=function(t){return i.geom.voronoi().triangles(t)},i.geom.quadtree=function(t,e,n,r,o){var i,a=oo,l=io;if(i=arguments.length)return a=Vo,l=qo,3===i&&(o=n,r=e,n=e=0),s(t);function s(t){var s,u,c,f,h,p,d,g,m,v=me(a),y=me(l);if(null!=e)p=e,d=n,g=r,m=o;else if(g=m=-(p=d=1/0),u=[],c=[],h=t.length,i)for(f=0;f<h;++f)(s=t[f]).x<p&&(p=s.x),s.y<d&&(d=s.y),s.x>g&&(g=s.x),s.y>m&&(m=s.y),u.push(s.x),c.push(s.y);else for(f=0;f<h;++f){var _=+v(s=t[f],f),x=+y(s,f);_<p&&(p=_),x<d&&(d=x),_>g&&(g=_),x>m&&(m=x),u.push(_),c.push(x)}var w=g-p,A=m-d;function M(t,e,n,r,o,i,a,l){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var s=t.x,u=t.y;if(null!=s)if(b(s-n)+b(u-r)<.01)k(t,e,n,r,o,i,a,l);else{var c=t.point;t.x=t.y=t.point=null,k(t,c,s,u,o,i,a,l),k(t,e,n,r,o,i,a,l)}else t.x=n,t.y=r,t.point=e}else k(t,e,n,r,o,i,a,l)}function k(t,e,n,r,o,i,a,l){var s=.5*(o+a),u=.5*(i+l),c=n>=s,f=r>=u,h=f<<1|c;t.leaf=!1,c?o=s:a=s,f?i=u:l=u,M(t=t.nodes[h]||(t.nodes[h]={leaf:!0,nodes:[],point:null,x:null,y:null}),e,n,r,o,i,a,l)}w>A?m=d+w:g=p+A;var C={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){M(C,t,+v(t,++f),+y(t,f),p,d,g,m)},visit:function(t){Go(t,C,p,d,g,m)},find:function(t){return Wo(C,t[0],t[1],p,d,g,m)}};if(f=-1,null==e){for(;++f<h;)M(C,t[f],u[f],c[f],p,d,g,m);--f}else t.forEach(C.add);return u=c=t=s=null,C}return s.x=function(t){return arguments.length?(a=t,s):a},s.y=function(t){return arguments.length?(l=t,s):l},s.extent=function(t){return arguments.length?(null==t?e=n=r=o=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],o=+t[1][1]),s):null==e?null:[[e,n],[r,o]]},s.size=function(t){return arguments.length?(null==t?e=n=r=o=null:(e=n=0,r=+t[0],o=+t[1]),s):null==e?null:[r-e,o-n]},s},i.interpolateRgb=Xo,i.interpolateObject=Jo,i.interpolateNumber=Zo,i.interpolateString=Ko;var ti=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ei=new RegExp(ti.source,"g");function ni(t,e){for(var n,r=i.interpolators.length;--r>=0&&!(n=i.interpolators[r](t,e)););return n}function ri(t,e){var n,r=[],o=[],i=t.length,a=e.length,l=Math.min(t.length,e.length);for(n=0;n<l;++n)r.push(ni(t[n],e[n]));for(;n<i;++n)o[n]=t[n];for(;n<a;++n)o[n]=e[n];return function(t){for(n=0;n<l;++n)o[n]=r[n](t);return o}}i.interpolate=ni,i.interpolators=[function(t,e){var n=typeof e;return("string"===n?ge.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?Xo:Ko:e instanceof Ht?Xo:Array.isArray(e)?ri:"object"===n&&isNaN(e)?Jo:Zo)(t,e)}],i.interpolateArray=ri;var oi=function(){return I},ii=i.map({linear:oi,poly:function(t){return function(e){return Math.pow(e,t)}},quad:function(){return ci},cubic:function(){return fi},sin:function(){return pi},exp:function(){return di},circle:function(){return gi},elastic:function(t,e){var n;arguments.length<2&&(e=.45);arguments.length?n=e/Dt*Math.asin(1/t):(t=1,n=e/4);return function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*Dt/e)}},back:function(t){t||(t=1.70158);return function(e){return e*e*((t+1)*e-t)}},bounce:function(){return mi}}),ai=i.map({in:I,out:si,"in-out":ui,"out-in":function(t){return ui(si(t))}});function li(t){return function(e){return e<=0?0:e>=1?1:t(e)}}function si(t){return function(e){return 1-t(1-e)}}function ui(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function ci(t){return t*t}function fi(t){return t*t*t}function hi(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function pi(t){return 1-Math.cos(t*Nt)}function di(t){return Math.pow(2,10*(t-1))}function gi(t){return 1-Math.sqrt(1-t*t)}function mi(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function vi(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function yi(t){var e,n,r,o=[t.a,t.b],i=[t.c,t.d],a=xi(o),l=_i(o,i),s=xi(((e=i)[0]+=(r=-l)*(n=o)[0],e[1]+=r*n[1],e))||0;o[0]*i[1]<i[0]*o[1]&&(o[0]*=-1,o[1]*=-1,a*=-1,l*=-1),this.rotate=(a?Math.atan2(o[1],o[0]):Math.atan2(-i[0],i[1]))*Bt,this.translate=[t.e,t.f],this.scale=[a,s],this.skew=s?Math.atan2(l,s)*Bt:0}function _i(t,e){return t[0]*e[0]+t[1]*e[1]}function xi(t){var e=Math.sqrt(_i(t,t));return e&&(t[0]/=e,t[1]/=e),e}i.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,r=e>=0?t.slice(e+1):"in";return n=ii.get(n)||oi,li((r=ai.get(r)||I)(n.apply(null,a.call(arguments,1))))},i.interpolateHcl=function(t,e){t=i.hcl(t),e=i.hcl(e);var n=t.h,r=t.c,o=t.l,a=e.h-n,l=e.c-r,s=e.l-o;isNaN(l)&&(l=0,r=isNaN(r)?e.c:r);isNaN(a)?(a=0,n=isNaN(n)?e.h:n):a>180?a-=360:a<-180&&(a+=360);return function(t){return Xt(n+a*t,r+l*t,o+s*t)+""}},i.interpolateHsl=function(t,e){t=i.hsl(t),e=i.hsl(e);var n=t.h,r=t.s,o=t.l,a=e.h-n,l=e.s-r,s=e.l-o;isNaN(l)&&(l=0,r=isNaN(r)?e.s:r);isNaN(a)?(a=0,n=isNaN(n)?e.h:n):a>180?a-=360:a<-180&&(a+=360);return function(t){return qt(n+a*t,r+l*t,o+s*t)+""}},i.interpolateLab=function(t,e){t=i.lab(t),e=i.lab(e);var n=t.l,r=t.a,o=t.b,a=e.l-n,l=e.a-r,s=e.b-o;return function(t){return te(n+a*t,r+l*t,o+s*t)+""}},i.interpolateRound=vi,i.transform=function(t){var e=s.createElementNS(i.ns.prefix.svg,"g");return(i.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new yi(n?n.matrix:wi)})(t)},yi.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var wi={a:1,b:0,c:0,d:1,e:0,f:0};function bi(t,e){var n,r=[],o=[],a=i.transform(t),l=i.transform(e),s=a.translate,u=l.translate,c=a.rotate,f=l.rotate,h=a.skew,p=l.skew,d=a.scale,g=l.scale;return s[0]!=u[0]||s[1]!=u[1]?(r.push("translate(",null,",",null,")"),o.push({i:1,x:Zo(s[0],u[0])},{i:3,x:Zo(s[1],u[1])})):u[0]||u[1]?r.push("translate("+u+")"):r.push(""),c!=f?(c-f>180?f+=360:f-c>180&&(c+=360),o.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:Zo(c,f)})):f&&r.push(r.pop()+"rotate("+f+")"),h!=p?o.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:Zo(h,p)}):p&&r.push(r.pop()+"skewX("+p+")"),d[0]!=g[0]||d[1]!=g[1]?(n=r.push(r.pop()+"scale(",null,",",null,")"),o.push({i:n-4,x:Zo(d[0],g[0])},{i:n-2,x:Zo(d[1],g[1])})):1==g[0]&&1==g[1]||r.push(r.pop()+"scale("+g+")"),n=o.length,function(t){for(var e,i=-1;++i<n;)r[(e=o[i]).i]=e.x(t);return r.join("")}}function Ai(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function Mi(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function ki(t){for(var e=t.source,n=t.target,r=function(t,e){if(t===e)return t;var n=Ci(t),r=Ci(e),o=n.pop(),i=r.pop(),a=null;for(;o===i;)a=o,o=n.pop(),i=r.pop();return a}(e,n),o=[e];e!==r;)e=e.parent,o.push(e);for(var i=o.length;n!==r;)o.splice(i,0,n),n=n.parent;return o}function Ci(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function Si(t){t.fixed|=2}function Ei(t){t.fixed&=-7}function Di(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Li(t){t.fixed&=-5}i.interpolateTransform=bi,i.layout={},i.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(ki(t[n]));return e}},i.layout.chord=function(){var t,e,n,r,o,a,l,s={},u=0;function c(){var s,c,h,p,d,g={},m=[],v=i.range(r),y=[];for(t=[],e=[],s=0,p=-1;++p<r;){for(c=0,d=-1;++d<r;)c+=n[p][d];m.push(c),y.push(i.range(r)),s+=c}for(o&&v.sort((function(t,e){return o(m[t],m[e])})),a&&y.forEach((function(t,e){t.sort((function(t,r){return a(n[e][t],n[e][r])}))})),s=(Dt-u*r)/s,c=0,p=-1;++p<r;){for(h=c,d=-1;++d<r;){var _=v[p],x=y[_][d],w=n[_][x],b=c,A=c+=w*s;g[_+"-"+x]={index:_,subindex:x,startAngle:b,endAngle:A,value:w}}e[_]={index:_,startAngle:h,endAngle:c,value:(c-h)/s},c+=u}for(p=-1;++p<r;)for(d=p-1;++d<r;){var M=g[p+"-"+d],k=g[d+"-"+p];(M.value||k.value)&&t.push(M.value<k.value?{source:k,target:M}:{source:M,target:k})}l&&f()}function f(){t.sort((function(t,e){return l((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)}))}return s.matrix=function(o){return arguments.length?(r=(n=o)&&n.length,t=e=null,s):n},s.padding=function(n){return arguments.length?(u=n,t=e=null,s):u},s.sortGroups=function(n){return arguments.length?(o=n,t=e=null,s):o},s.sortSubgroups=function(e){return arguments.length?(a=e,t=null,s):a},s.sortChords=function(e){return arguments.length?(l=e,t&&f(),s):l},s.chords=function(){return t||c(),t},s.groups=function(){return e||c(),e},s},i.layout.force=function(){var t,e,n,r,o,a={},l=i.dispatch("start","tick","end"),s=[1,1],u=.9,c=Ni,f=Pi,h=-30,p=Bi,d=.1,g=.64,m=[],v=[];function y(t){return function(e,n,r,o){if(e.point!==t){var i=e.cx-t.x,a=e.cy-t.y,l=o-n,s=i*i+a*a;if(l*l/g<s){if(s<p){var u=e.charge/s;t.px-=i*u,t.py-=a*u}return!0}if(e.point&&s&&s<p){u=e.pointCharge/s;t.px-=i*u,t.py-=a*u}}return!e.charge}}function _(t){t.px=i.event.x,t.py=i.event.y,a.resume()}return a.tick=function(){if((e*=.99)<.005)return l.end({type:"end",alpha:e=0}),!0;var t,a,c,f,p,g,_,x,w,b=m.length,A=v.length;for(a=0;a<A;++a)f=(c=v[a]).source,(g=(x=(p=c.target).x-f.x)*x+(w=p.y-f.y)*w)&&(x*=g=e*r[a]*((g=Math.sqrt(g))-n[a])/g,w*=g,p.x-=x*(_=f.weight/(p.weight+f.weight)),p.y-=w*_,f.x+=x*(_=1-_),f.y+=w*_);if((_=e*d)&&(x=s[0]/2,w=s[1]/2,a=-1,_))for(;++a<b;)(c=m[a]).x+=(x-c.x)*_,c.y+=(w-c.y)*_;if(h)for(!function t(e,n,r){var o=0,i=0;if(e.charge=0,!e.leaf)for(var a,l=e.nodes,s=l.length,u=-1;++u<s;)null!=(a=l[u])&&(t(a,n,r),e.charge+=a.charge,o+=a.charge*a.cx,i+=a.charge*a.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var c=n*r[e.point.index];e.charge+=e.pointCharge=c,o+=c*e.point.x,i+=c*e.point.y}e.cx=o/e.charge,e.cy=i/e.charge}(t=i.geom.quadtree(m),e,o),a=-1;++a<b;)(c=m[a]).fixed||t.visit(y(c));for(a=-1;++a<b;)(c=m[a]).fixed?(c.x=c.px,c.y=c.py):(c.x-=(c.px-(c.px=c.x))*u,c.y-=(c.py-(c.py=c.y))*u);l.tick({type:"tick",alpha:e})},a.nodes=function(t){return arguments.length?(m=t,a):m},a.links=function(t){return arguments.length?(v=t,a):v},a.size=function(t){return arguments.length?(s=t,a):s},a.linkDistance=function(t){return arguments.length?(c="function"==typeof t?t:+t,a):c},a.distance=a.linkDistance,a.linkStrength=function(t){return arguments.length?(f="function"==typeof t?t:+t,a):f},a.friction=function(t){return arguments.length?(u=+t,a):u},a.charge=function(t){return arguments.length?(h="function"==typeof t?t:+t,a):h},a.chargeDistance=function(t){return arguments.length?(p=t*t,a):Math.sqrt(p)},a.gravity=function(t){return arguments.length?(d=+t,a):d},a.theta=function(t){return arguments.length?(g=t*t,a):Math.sqrt(g)},a.alpha=function(t){return arguments.length?(t=+t,e?e=t>0?t:0:t>0&&(l.start({type:"start",alpha:e=t}),i.timer(a.tick)),a):e},a.start=function(){var t,e,i,l=m.length,u=v.length,p=s[0],d=s[1];for(t=0;t<l;++t)(i=m[t]).index=t,i.weight=0;for(t=0;t<u;++t)"number"==typeof(i=v[t]).source&&(i.source=m[i.source]),"number"==typeof i.target&&(i.target=m[i.target]),++i.source.weight,++i.target.weight;for(t=0;t<l;++t)i=m[t],isNaN(i.x)&&(i.x=g("x",p)),isNaN(i.y)&&(i.y=g("y",d)),isNaN(i.px)&&(i.px=i.x),isNaN(i.py)&&(i.py=i.y);if(n=[],"function"==typeof c)for(t=0;t<u;++t)n[t]=+c.call(this,v[t],t);else for(t=0;t<u;++t)n[t]=c;if(r=[],"function"==typeof f)for(t=0;t<u;++t)r[t]=+f.call(this,v[t],t);else for(t=0;t<u;++t)r[t]=f;if(o=[],"function"==typeof h)for(t=0;t<l;++t)o[t]=+h.call(this,m[t],t);else for(t=0;t<l;++t)o[t]=h;function g(n,r){if(!e){for(e=new Array(l),s=0;s<l;++s)e[s]=[];for(s=0;s<u;++s){var o=v[s];e[o.source.index].push(o.target),e[o.target.index].push(o.source)}}for(var i,a=e[t],s=-1,c=a.length;++s<c;)if(!isNaN(i=a[s][n]))return i;return Math.random()*r}return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){if(t||(t=i.behavior.drag().origin(I).on("dragstart.force",Si).on("drag.force",_).on("dragend.force",Ei)),!arguments.length)return t;this.on("mouseover.force",Di).on("mouseout.force",Li).call(t)},i.rebind(a,l,"on")};var Ni=20,Pi=1,Bi=1/0;function Ii(t,e){return i.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=Fi,t}function Ti(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(o=t.children)&&(r=o.length))for(var r,o;--r>=0;)n.push(o[r])}function Ui(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(i=t.children)&&(o=i.length))for(var o,i,a=-1;++a<o;)n.push(i[a]);for(;null!=(t=r.pop());)e(t)}function Oi(t){return t.children}function zi(t){return t.value}function ji(t,e){return e.value-t.value}function Fi(t){return i.merge(t.map((function(t){return(t.children||[]).map((function(e){return{source:t,target:e}}))})))}i.layout.hierarchy=function(){var t=ji,e=Oi,n=zi;function r(o){var i,a=[o],l=[];for(o.depth=0;null!=(i=a.pop());)if(l.push(i),(u=e.call(r,i,i.depth))&&(s=u.length)){for(var s,u,c;--s>=0;)a.push(c=u[s]),c.parent=i,c.depth=i.depth+1;n&&(i.value=0),i.children=u}else n&&(i.value=+n.call(r,i,i.depth)||0),delete i.children;return Ui(o,(function(e){var r,o;t&&(r=e.children)&&r.sort(t),n&&(o=e.parent)&&(o.value+=e.value)})),l}return r.sort=function(e){return arguments.length?(t=e,r):t},r.children=function(t){return arguments.length?(e=t,r):e},r.value=function(t){return arguments.length?(n=t,r):n},r.revalue=function(t){return n&&(Ti(t,(function(t){t.children&&(t.value=0)})),Ui(t,(function(t){var e;t.children||(t.value=+n.call(r,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)}))),t},r},i.layout.partition=function(){var t=i.layout.hierarchy(),e=[1,1];function n(n,r){var o=t.call(this,n,r);return function t(e,n,r,o){var i=e.children;if(e.x=n,e.y=e.depth*o,e.dx=r,e.dy=o,i&&(a=i.length)){var a,l,s,u=-1;for(r=e.value?r/e.value:0;++u<a;)t(l=i[u],n,s=l.value*r,o),n+=s}}(o[0],0,e[0],e[1]/function t(e){var n=e.children,r=0;if(n&&(o=n.length))for(var o,i=-1;++i<o;)r=Math.max(r,t(n[i]));return 1+r}(o[0])),o}return n.size=function(t){return arguments.length?(e=t,n):e},Ii(n,t)},i.layout.pie=function(){var t=Number,e=Ri,n=0,r=Dt,o=0;function a(l){var s,u=l.length,c=l.map((function(e,n){return+t.call(a,e,n)})),f=+("function"==typeof n?n.apply(this,arguments):n),h=("function"==typeof r?r.apply(this,arguments):r)-f,p=Math.min(Math.abs(h)/u,+("function"==typeof o?o.apply(this,arguments):o)),d=p*(h<0?-1:1),g=(h-u*d)/i.sum(c),m=i.range(u),v=[];return null!=e&&m.sort(e===Ri?function(t,e){return c[e]-c[t]}:function(t,n){return e(l[t],l[n])}),m.forEach((function(t){v[t]={data:l[t],value:s=c[t],startAngle:f,endAngle:f+=s*g+d,padAngle:p}})),v}return a.value=function(e){return arguments.length?(t=e,a):t},a.sort=function(t){return arguments.length?(e=t,a):e},a.startAngle=function(t){return arguments.length?(n=t,a):n},a.endAngle=function(t){return arguments.length?(r=t,a):r},a.padAngle=function(t){return arguments.length?(o=t,a):o},a};var Ri={};function $i(t){return t.x}function Yi(t){return t.y}function Hi(t,e,n){t.y0=e,t.y=n}i.layout.stack=function(){var t=I,e=qi,n=Gi,r=Hi,o=$i,a=Yi;function l(s,u){if(!(p=s.length))return s;var c=s.map((function(e,n){return t.call(l,e,n)})),f=c.map((function(t){return t.map((function(t,e){return[o.call(l,t,e),a.call(l,t,e)]}))})),h=e.call(l,f,u);c=i.permute(c,h),f=i.permute(f,h);var p,d,g,m,v=n.call(l,f,u),y=c[0].length;for(g=0;g<y;++g)for(r.call(l,c[0][g],m=v[g],f[0][g][1]),d=1;d<p;++d)r.call(l,c[d][g],m+=f[d-1][g][1],f[d][g][1]);return s}return l.values=function(e){return arguments.length?(t=e,l):t},l.order=function(t){return arguments.length?(e="function"==typeof t?t:Qi.get(t)||qi,l):e},l.offset=function(t){return arguments.length?(n="function"==typeof t?t:Vi.get(t)||Gi,l):n},l.x=function(t){return arguments.length?(o=t,l):o},l.y=function(t){return arguments.length?(a=t,l):a},l.out=function(t){return arguments.length?(r=t,l):r},l};var Qi=i.map({"inside-out":function(t){var e,n,r=t.length,o=t.map(Wi),a=t.map(Xi),l=i.range(r).sort((function(t,e){return o[t]-o[e]})),s=0,u=0,c=[],f=[];for(e=0;e<r;++e)n=l[e],s<u?(s+=a[n],c.push(n)):(u+=a[n],f.push(n));return f.reverse().concat(c)},reverse:function(t){return i.range(t.length).reverse()},default:qi}),Vi=i.map({silhouette:function(t){var e,n,r,o=t.length,i=t[0].length,a=[],l=0,s=[];for(n=0;n<i;++n){for(e=0,r=0;e<o;e++)r+=t[e][n][1];r>l&&(l=r),a.push(r)}for(n=0;n<i;++n)s[n]=(l-a[n])/2;return s},wiggle:function(t){var e,n,r,o,i,a,l,s,u,c=t.length,f=t[0],h=f.length,p=[];for(p[0]=s=u=0,n=1;n<h;++n){for(e=0,o=0;e<c;++e)o+=t[e][n][1];for(e=0,i=0,l=f[n][0]-f[n-1][0];e<c;++e){for(r=0,a=(t[e][n][1]-t[e][n-1][1])/(2*l);r<e;++r)a+=(t[r][n][1]-t[r][n-1][1])/l;i+=a*t[e][n][1]}p[n]=s-=o?i/o*l:0,s<u&&(u=s)}for(n=0;n<h;++n)p[n]-=u;return p},expand:function(t){var e,n,r,o=t.length,i=t[0].length,a=1/o,l=[];for(n=0;n<i;++n){for(e=0,r=0;e<o;e++)r+=t[e][n][1];if(r)for(e=0;e<o;e++)t[e][n][1]/=r;else for(e=0;e<o;e++)t[e][n][1]=a}for(n=0;n<i;++n)l[n]=0;return l},zero:Gi});function qi(t){return i.range(t.length)}function Gi(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function Wi(t){for(var e,n=1,r=0,o=t[0][1],i=t.length;n<i;++n)(e=t[n][1])>o&&(r=n,o=e);return r}function Xi(t){return t.reduce(Ji,0)}function Ji(t,e){return t+e[1]}function Zi(t,e){return Ki(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function Ki(t,e){for(var n=-1,r=+t[0],o=(t[1]-r)/e,i=[];++n<=e;)i[n]=o*n+r;return i}function ta(t){return[i.min(t),i.max(t)]}function ea(t,e){return t.value-e.value}function na(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function ra(t,e){t._pack_next=e,e._pack_prev=t}function oa(t,e){var n=e.x-t.x,r=e.y-t.y,o=t.r+e.r;return.999*o*o>n*n+r*r}function ia(t){if((e=t.children)&&(s=e.length)){var e,n,r,o,i,a,l,s,u=1/0,c=-1/0,f=1/0,h=-1/0;if(e.forEach(aa),(n=e[0]).x=-n.r,n.y=0,_(n),s>1&&((r=e[1]).x=r.r,r.y=0,_(r),s>2))for(sa(n,r,o=e[2]),_(o),na(n,o),n._pack_prev=o,na(o,r),r=n._pack_next,i=3;i<s;i++){sa(n,r,o=e[i]);var p=0,d=1,g=1;for(a=r._pack_next;a!==r;a=a._pack_next,d++)if(oa(a,o)){p=1;break}if(1==p)for(l=n._pack_prev;l!==a._pack_prev&&!oa(l,o);l=l._pack_prev,g++);p?(d<g||d==g&&r.r<n.r?ra(n,r=a):ra(n=l,r),i--):(na(n,o),r=o,_(o))}var m=(u+c)/2,v=(f+h)/2,y=0;for(i=0;i<s;i++)(o=e[i]).x-=m,o.y-=v,y=Math.max(y,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=y,e.forEach(la)}function _(t){u=Math.min(t.x-t.r,u),c=Math.max(t.x+t.r,c),f=Math.min(t.y-t.r,f),h=Math.max(t.y+t.r,h)}}function aa(t){t._pack_next=t._pack_prev=t}function la(t){delete t._pack_next,delete t._pack_prev}function sa(t,e,n){var r=t.r+n.r,o=e.x-t.x,i=e.y-t.y;if(r&&(o||i)){var a=e.r+n.r,l=o*o+i*i,s=.5+((r*=r)-(a*=a))/(2*l),u=Math.sqrt(Math.max(0,2*a*(r+l)-(r-=l)*r-a*a))/(2*l);n.x=t.x+s*o+u*i,n.y=t.y+s*i-u*o}else n.x=t.x+r,n.y=t.y}function ua(t,e){return t.parent==e.parent?1:2}function ca(t){var e=t.children;return e.length?e[0]:t.t}function fa(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function ha(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function pa(t,e,n){return t.a.parent===e.parent?t.a:n}function da(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function ga(t,e){var n=t.x+e[3],r=t.y+e[0],o=t.dx-e[1]-e[3],i=t.dy-e[0]-e[2];return o<0&&(n+=o/2,o=0),i<0&&(r+=i/2,i=0),{x:n,y:r,dx:o,dy:i}}function ma(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function va(t){return t.rangeExtent?t.rangeExtent():ma(t.range())}function ya(t,e,n,r){var o=n(t[0],t[1]),i=r(e[0],e[1]);return function(t){return i(o(t))}}function _a(t,e){var n,r=0,o=t.length-1,i=t[r],a=t[o];return a<i&&(n=r,r=o,o=n,n=i,i=a,a=n),t[r]=e.floor(i),t[o]=e.ceil(a),t}i.layout.histogram=function(){var t=!0,e=Number,n=ta,r=Zi;function o(o,a){for(var l,s,u=[],c=o.map(e,this),f=n.call(this,c,a),h=r.call(this,f,c,a),p=(a=-1,c.length),d=h.length-1,g=t?1:1/p;++a<d;)(l=u[a]=[]).dx=h[a+1]-(l.x=h[a]),l.y=0;if(d>0)for(a=-1;++a<p;)(s=c[a])>=f[0]&&s<=f[1]&&((l=u[i.bisect(h,s,1,d)-1]).y+=g,l.push(o[a]));return u}return o.value=function(t){return arguments.length?(e=t,o):e},o.range=function(t){return arguments.length?(n=me(t),o):n},o.bins=function(t){return arguments.length?(r="number"==typeof t?function(e){return Ki(e,t)}:me(t),o):r},o.frequency=function(e){return arguments.length?(t=!!e,o):t},o},i.layout.pack=function(){var t,e=i.layout.hierarchy().sort(ea),n=0,r=[1,1];function o(o,i){var a=e.call(this,o,i),l=a[0],s=r[0],u=r[1],c=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(l.x=l.y=0,Ui(l,(function(t){t.r=+c(t.value)})),Ui(l,ia),n){var f=n*(t?1:Math.max(2*l.r/s,2*l.r/u))/2;Ui(l,(function(t){t.r+=f})),Ui(l,ia),Ui(l,(function(t){t.r-=f}))}return function t(e,n,r,o){var i=e.children;if(e.x=n+=o*e.x,e.y=r+=o*e.y,e.r*=o,i)for(var a=-1,l=i.length;++a<l;)t(i[a],n,r,o)}(l,s/2,u/2,t?1:1/Math.max(2*l.r/s,2*l.r/u)),a}return o.size=function(t){return arguments.length?(r=t,o):r},o.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,o):t},o.padding=function(t){return arguments.length?(n=+t,o):n},Ii(o,e)},i.layout.tree=function(){var t=i.layout.hierarchy().sort(null).value(null),e=ua,n=[1,1],r=null;function o(o,i){var u=t.call(this,o,i),c=u[0],f=function(t){var e,n={A:null,children:[t]},r=[n];for(;null!=(e=r.pop());)for(var o,i=e.children,a=0,l=i.length;a<l;++a)r.push((i[a]=o={_:i[a],parent:e,children:(o=i[a].children)&&o.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=o);return n.children[0]}(c);if(Ui(f,a),f.parent.m=-f.z,Ti(f,l),r)Ti(c,s);else{var h=c,p=c,d=c;Ti(c,(function(t){t.x<h.x&&(h=t),t.x>p.x&&(p=t),t.depth>d.depth&&(d=t)}));var g=e(h,p)/2-h.x,m=n[0]/(p.x+e(p,h)/2+g),v=n[1]/(d.depth||1);Ti(c,(function(t){t.x=(t.x+g)*m,t.y=t.depth*v}))}return u}function a(t){var n=t.children,r=t.parent.children,o=t.i?r[t.i-1]:null;if(n.length){!function(t){var e,n=0,r=0,o=t.children,i=o.length;for(;--i>=0;)(e=o[i]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(t);var i=(n[0].z+n[n.length-1].z)/2;o?(t.z=o.z+e(t._,o._),t.m=t.z-i):t.z=i}else o&&(t.z=o.z+e(t._,o._));t.parent.A=function(t,n,r){if(n){for(var o,i=t,a=t,l=n,s=i.parent.children[0],u=i.m,c=a.m,f=l.m,h=s.m;l=fa(l),i=ca(i),l&&i;)s=ca(s),(a=fa(a)).a=t,(o=l.z+f-i.z-u+e(l._,i._))>0&&(ha(pa(l,t,r),t,o),u+=o,c+=o),f+=l.m,u+=i.m,h+=s.m,c+=a.m;l&&!fa(a)&&(a.t=l,a.m+=f-c),i&&!ca(s)&&(s.t=i,s.m+=u-h,r=t)}return r}(t,o,t.parent.A||r[0])}function l(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function s(t){t.x*=n[0],t.y=t.depth*n[1]}return o.separation=function(t){return arguments.length?(e=t,o):e},o.size=function(t){return arguments.length?(r=null==(n=t)?s:null,o):r?null:n},o.nodeSize=function(t){return arguments.length?(r=null==(n=t)?null:s,o):r?n:null},Ii(o,t)},i.layout.cluster=function(){var t=i.layout.hierarchy().sort(null).value(null),e=ua,n=[1,1],r=!1;function o(o,a){var l,s=t.call(this,o,a),u=s[0],c=0;Ui(u,(function(t){var n=t.children;n&&n.length?(t.x=function(t){return t.reduce((function(t,e){return t+e.x}),0)/t.length}(n),t.y=function(t){return 1+i.max(t,(function(t){return t.y}))}(n)):(t.x=l?c+=e(t,l):0,t.y=0,l=t)}));var f=function t(e){var n=e.children;return n&&n.length?t(n[0]):e}(u),h=function t(e){var n,r=e.children;return r&&(n=r.length)?t(r[n-1]):e}(u),p=f.x-e(f,h)/2,d=h.x+e(h,f)/2;return Ui(u,r?function(t){t.x=(t.x-u.x)*n[0],t.y=(u.y-t.y)*n[1]}:function(t){t.x=(t.x-p)/(d-p)*n[0],t.y=(1-(u.y?t.y/u.y:1))*n[1]}),s}return o.separation=function(t){return arguments.length?(e=t,o):e},o.size=function(t){return arguments.length?(r=null==(n=t),o):r?null:n},o.nodeSize=function(t){return arguments.length?(r=null!=(n=t),o):r?n:null},Ii(o,t)},i.layout.treemap=function(){var t,e=i.layout.hierarchy(),n=Math.round,r=[1,1],o=null,a=da,l=!1,s="squarify",u=.5*(1+Math.sqrt(5));function c(t,e){for(var n,r,o=-1,i=t.length;++o<i;)r=(n=t[o]).value*(e<0?0:e),n.area=isNaN(r)||r<=0?0:r}function f(t){var e=t.children;if(e&&e.length){var n,r,o,i=a(t),l=[],u=e.slice(),h=1/0,g="slice"===s?i.dx:"dice"===s?i.dy:"slice-dice"===s?1&t.depth?i.dy:i.dx:Math.min(i.dx,i.dy);for(c(u,i.dx*i.dy/t.value),l.area=0;(o=u.length)>0;)l.push(n=u[o-1]),l.area+=n.area,"squarify"!==s||(r=p(l,g))<=h?(u.pop(),h=r):(l.area-=l.pop().area,d(l,g,i,!1),g=Math.min(i.dx,i.dy),l.length=l.area=0,h=1/0);l.length&&(d(l,g,i,!0),l.length=l.area=0),e.forEach(f)}}function h(t){var e=t.children;if(e&&e.length){var n,r=a(t),o=e.slice(),i=[];for(c(o,r.dx*r.dy/t.value),i.area=0;n=o.pop();)i.push(n),i.area+=n.area,null!=n.z&&(d(i,n.z?r.dx:r.dy,r,!o.length),i.length=i.area=0);e.forEach(h)}}function p(t,e){for(var n,r=t.area,o=0,i=1/0,a=-1,l=t.length;++a<l;)(n=t[a].area)&&(n<i&&(i=n),n>o&&(o=n));return e*=e,(r*=r)?Math.max(e*o*u/r,r/(e*i*u)):1/0}function d(t,e,r,o){var i,a=-1,l=t.length,s=r.x,u=r.y,c=e?n(t.area/e):0;if(e==r.dx){for((o||c>r.dy)&&(c=r.dy);++a<l;)(i=t[a]).x=s,i.y=u,i.dy=c,s+=i.dx=Math.min(r.x+r.dx-s,c?n(i.area/c):0);i.z=!0,i.dx+=r.x+r.dx-s,r.y+=c,r.dy-=c}else{for((o||c>r.dx)&&(c=r.dx);++a<l;)(i=t[a]).x=s,i.y=u,i.dx=c,u+=i.dy=Math.min(r.y+r.dy-u,c?n(i.area/c):0);i.z=!1,i.dy+=r.y+r.dy-u,r.x+=c,r.dx-=c}}function g(n){var o=t||e(n),i=o[0];return i.x=0,i.y=0,i.dx=r[0],i.dy=r[1],t&&e.revalue(i),c([i],i.dx*i.dy/i.value),(t?h:f)(i),l&&(t=o),o}return g.size=function(t){return arguments.length?(r=t,g):r},g.padding=function(t){if(!arguments.length)return o;function e(e){var n=t.call(g,e,e.depth);return null==n?da(e):ga(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return ga(e,t)}var r;return a=null==(o=t)?da:"function"==(r=typeof t)?e:"number"===r?(t=[t,t,t,t],n):n,g},g.round=function(t){return arguments.length?(n=t?Math.round:Number,g):n!=Number},g.sticky=function(e){return arguments.length?(l=e,t=null,g):l},g.ratio=function(t){return arguments.length?(u=t,g):u},g.mode=function(t){return arguments.length?(s=t+"",g):s},Ii(g,e)},i.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var n,r,o;do{o=(n=2*Math.random()-1)*n+(r=2*Math.random()-1)*r}while(!o||o>1);return t+e*n*Math.sqrt(-2*Math.log(o)/o)}},logNormal:function(){var t=i.random.normal.apply(i,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=i.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},i.scale={};var xa={floor:I,ceil:I};function wa(t,e,n,r){var o=[],a=[],l=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<=s;)o.push(n(t[l-1],t[l])),a.push(r(e[l-1],e[l]));return function(e){var n=i.bisect(t,e,1,s)-1;return a[n](o[n](e))}}function ba(t,e){return i.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Aa(t,e){return _a(t,(n=Ma(t,e)[2])?{floor:function(t){return Math.floor(t/n)*n},ceil:function(t){return Math.ceil(t/n)*n}}:xa);var n}function Ma(t,e){null==e&&(e=10);var n=ma(t),r=n[1]-n[0],o=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),i=e/r*o;return i<=.15?o*=10:i<=.35?o*=5:i<=.75&&(o*=2),n[0]=Math.ceil(n[0]/o)*o,n[1]=Math.floor(n[1]/o)*o+.5*o,n[2]=o,n}function ka(t,e){return i.range.apply(i,Ma(t,e))}function Ca(t,e,n){var r=Ma(t,e);if(n){var o=Ne.exec(n);if(o.shift(),"s"===o[8]){var a=i.formatPrefix(Math.max(b(r[0]),b(r[1])));return o[7]||(o[7]="."+Ea(a.scale(r[2]))),o[8]="f",n=i.format(o.join("")),function(t){return n(a.scale(t))+a.symbol}}o[7]||(o[7]="."+function(t,e){var n=Ea(e[2]);return t in Sa?Math.abs(n-Ea(Math.max(b(e[0]),b(e[1]))))+ +("e"!==t):n-2*("%"===t)}(o[8],r)),n=o.join("")}else n=",."+Ea(r[2])+"f";return i.format(n)}i.scale.linear=function(){return function t(e,n,r,o){var i,a;function l(){var t=Math.min(e.length,n.length)>2?wa:ya,l=o?Mi:Ai;return i=t(e,n,l,r),a=t(n,e,l,ni),s}function s(t){return i(t)}return s.invert=function(t){return a(t)},s.domain=function(t){return arguments.length?(e=t.map(Number),l()):e},s.range=function(t){return arguments.length?(n=t,l()):n},s.rangeRound=function(t){return s.range(t).interpolate(vi)},s.clamp=function(t){return arguments.length?(o=t,l()):o},s.interpolate=function(t){return arguments.length?(r=t,l()):r},s.ticks=function(t){return ka(e,t)},s.tickFormat=function(t,n){return Ca(e,t,n)},s.nice=function(t){return Aa(e,t),l()},s.copy=function(){return t(e,n,r,o)},l()}([0,1],[0,1],ni,!1)};var Sa={s:1,g:1,p:1,r:1,e:1};function Ea(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}i.scale.log=function(){return function t(e,n,r,o){function a(t){return(r?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(n)}function l(t){return r?Math.pow(n,t):-Math.pow(n,-t)}function s(t){return e(a(t))}return s.invert=function(t){return l(e.invert(t))},s.domain=function(t){return arguments.length?(r=t[0]>=0,e.domain((o=t.map(Number)).map(a)),s):o},s.base=function(t){return arguments.length?(n=+t,e.domain(o.map(a)),s):n},s.nice=function(){var t=_a(o.map(a),r?Math:La);return e.domain(t),o=t.map(l),s},s.ticks=function(){var t=ma(o),e=[],i=t[0],s=t[1],u=Math.floor(a(i)),c=Math.ceil(a(s)),f=n%1?2:n;if(isFinite(c-u)){if(r){for(;u<c;u++)for(var h=1;h<f;h++)e.push(l(u)*h);e.push(l(u))}else for(e.push(l(u));u++<c;)for(h=f-1;h>0;h--)e.push(l(u)*h);for(u=0;e[u]<i;u++);for(c=e.length;e[c-1]>s;c--);e=e.slice(u,c)}return e},s.tickFormat=function(t,e){if(!arguments.length)return Da;arguments.length<2?e=Da:"function"!=typeof e&&(e=i.format(e));var n,o=Math.max(.1,t/s.ticks().length),u=r?(n=1e-12,Math.ceil):(n=-1e-12,Math.floor);return function(t){return t/l(u(a(t)+n))<=o?e(t):""}},s.copy=function(){return t(e.copy(),n,r,o)},ba(s,e)}(i.scale.linear().domain([0,1]),10,!0,[1,10])};var Da=i.format(".0e"),La={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};function Na(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}i.scale.pow=function(){return function t(e,n,r){var o=Na(n),i=Na(1/n);function a(t){return e(o(t))}return a.invert=function(t){return i(e.invert(t))},a.domain=function(t){return arguments.length?(e.domain((r=t.map(Number)).map(o)),a):r},a.ticks=function(t){return ka(r,t)},a.tickFormat=function(t,e){return Ca(r,t,e)},a.nice=function(t){return a.domain(Aa(r,t))},a.exponent=function(t){return arguments.length?(o=Na(n=t),i=Na(1/n),e.domain(r.map(o)),a):n},a.copy=function(){return t(e.copy(),n,r)},ba(a,e)}(i.scale.linear(),1,[0,1])},i.scale.sqrt=function(){return i.scale.pow().exponent(.5)},i.scale.ordinal=function(){return function t(e,n){var r,o,a;function l(t){return o[((r.get(t)||("range"===n.t?r.set(t,e.push(t)):NaN))-1)%o.length]}function s(t,n){return i.range(e.length).map((function(e){return t+n*e}))}return l.domain=function(t){if(!arguments.length)return e;e=[],r=new k;for(var o,i=-1,a=t.length;++i<a;)r.has(o=t[i])||r.set(o,e.push(o));return l[n.t].apply(l,n.a)},l.range=function(t){return arguments.length?(o=t,a=0,n={t:"range",a:arguments},l):o},l.rangePoints=function(t,r){arguments.length<2&&(r=0);var i=t[0],u=t[1],c=e.length<2?(i=(i+u)/2,0):(u-i)/(e.length-1+r);return o=s(i+c*r/2,c),a=0,n={t:"rangePoints",a:arguments},l},l.rangeRoundPoints=function(t,r){arguments.length<2&&(r=0);var i=t[0],u=t[1],c=e.length<2?(i=u=Math.round((i+u)/2),0):(u-i)/(e.length-1+r)|0;return o=s(i+Math.round(c*r/2+(u-i-(e.length-1+r)*c)/2),c),a=0,n={t:"rangeRoundPoints",a:arguments},l},l.rangeBands=function(t,r,i){arguments.length<2&&(r=0),arguments.length<3&&(i=r);var u=t[1]<t[0],c=t[u-0],f=t[1-u],h=(f-c)/(e.length-r+2*i);return o=s(c+h*i,h),u&&o.reverse(),a=h*(1-r),n={t:"rangeBands",a:arguments},l},l.rangeRoundBands=function(t,r,i){arguments.length<2&&(r=0),arguments.length<3&&(i=r);var u=t[1]<t[0],c=t[u-0],f=t[1-u],h=Math.floor((f-c)/(e.length-r+2*i));return o=s(c+Math.round((f-c-(e.length-r)*h)/2),h),u&&o.reverse(),a=Math.round(h*(1-r)),n={t:"rangeRoundBands",a:arguments},l},l.rangeBand=function(){return a},l.rangeExtent=function(){return ma(n.a[0])},l.copy=function(){return t(e,n)},l.domain(e)}([],{t:"range",a:[[]]})},i.scale.category10=function(){return i.scale.ordinal().range(Pa)},i.scale.category20=function(){return i.scale.ordinal().range(Ba)},i.scale.category20b=function(){return i.scale.ordinal().range(Ia)},i.scale.category20c=function(){return i.scale.ordinal().range(Ta)};var Pa=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(le),Ba=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(le),Ia=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(le),Ta=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(le);function Ua(){return 0}i.scale.quantile=function(){return function t(e,n){var r;function o(){var t=0,o=n.length;for(r=[];++t<o;)r[t-1]=i.quantile(e,t/o);return a}function a(t){if(!isNaN(t=+t))return n[i.bisect(r,t)]}return a.domain=function(t){return arguments.length?(e=t.map(v).filter(y).sort(m),o()):e},a.range=function(t){return arguments.length?(n=t,o()):n},a.quantiles=function(){return r},a.invertExtent=function(t){return(t=n.indexOf(t))<0?[NaN,NaN]:[t>0?r[t-1]:e[0],t<r.length?r[t]:e[e.length-1]]},a.copy=function(){return t(e,n)},o()}([],[])},i.scale.quantize=function(){return function t(e,n,r){var o,i;function a(t){return r[Math.max(0,Math.min(i,Math.floor(o*(t-e))))]}function l(){return o=r.length/(n-e),i=r.length-1,a}return a.domain=function(t){return arguments.length?(e=+t[0],n=+t[t.length-1],l()):[e,n]},a.range=function(t){return arguments.length?(r=t,l()):r},a.invertExtent=function(t){return[t=(t=r.indexOf(t))<0?NaN:t/o+e,t+1/o]},a.copy=function(){return t(e,n,r)},l()}(0,1,[0,1])},i.scale.threshold=function(){return function t(e,n){function r(t){if(t<=t)return n[i.bisect(e,t)]}return r.domain=function(t){return arguments.length?(e=t,r):e},r.range=function(t){return arguments.length?(n=t,r):n},r.invertExtent=function(t){return t=n.indexOf(t),[e[t-1],e[t]]},r.copy=function(){return t(e,n)},r}([.5],[0,1])},i.scale.identity=function(){return function t(e){function n(t){return+t}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=t.map(n),n):e},n.ticks=function(t){return ka(e,t)},n.tickFormat=function(t,n){return Ca(e,t,n)},n.copy=function(){return t(e)},n}([0,1])},i.svg={},i.svg.arc=function(){var t=za,e=ja,n=Ua,r=Oa,o=Fa,i=Ra,a=$a;function l(){var l=Math.max(0,+t.apply(this,arguments)),u=Math.max(0,+e.apply(this,arguments)),c=o.apply(this,arguments)-Nt,f=i.apply(this,arguments)-Nt,h=Math.abs(f-c),p=c>f?0:1;if(u<l&&(d=u,u=l,l=d),h>=Lt)return s(u,p)+(l?s(l,1-p):"")+"Z";var d,g,m,v,y,_,x,w,b,A,M,k,C=0,S=0,E=[];if((v=(+a.apply(this,arguments)||0)/2)&&(m=r===Oa?Math.sqrt(l*l+u*u):+r.apply(this,arguments),p||(S*=-1),u&&(S=Ot(m/u*Math.sin(v))),l&&(C=Ot(m/l*Math.sin(v)))),u){y=u*Math.cos(c+S),_=u*Math.sin(c+S),x=u*Math.cos(f-S),w=u*Math.sin(f-S);var D=Math.abs(f-c-2*S)<=Et?0:1;if(S&&Ya(y,_,x,w)===p^D){var L=(c+f)/2;y=u*Math.cos(L),_=u*Math.sin(L),x=w=null}}else y=_=0;if(l){b=l*Math.cos(f-C),A=l*Math.sin(f-C),M=l*Math.cos(c+C),k=l*Math.sin(c+C);var N=Math.abs(c-f+2*C)<=Et?0:1;if(C&&Ya(b,A,M,k)===1-p^N){var P=(c+f)/2;b=l*Math.cos(P),A=l*Math.sin(P),M=k=null}}else b=A=0;if((d=Math.min(Math.abs(u-l)/2,+n.apply(this,arguments)))>.001){g=l<u^p?0:1;var B=null==M?[b,A]:null==x?[y,_]:co([y,_],[M,k],[x,w],[b,A]),I=y-B[0],T=_-B[1],U=x-B[0],O=w-B[1],z=1/Math.sin(Math.acos((I*U+T*O)/(Math.sqrt(I*I+T*T)*Math.sqrt(U*U+O*O)))/2),j=Math.sqrt(B[0]*B[0]+B[1]*B[1]);if(null!=x){var F=Math.min(d,(u-j)/(z+1)),R=Ha(null==M?[b,A]:[M,k],[y,_],u,F,p),$=Ha([x,w],[b,A],u,F,p);d===F?E.push("M",R[0],"A",F,",",F," 0 0,",g," ",R[1],"A",u,",",u," 0 ",1-p^Ya(R[1][0],R[1][1],$[1][0],$[1][1]),",",p," ",$[1],"A",F,",",F," 0 0,",g," ",$[0]):E.push("M",R[0],"A",F,",",F," 0 1,",g," ",$[0])}else E.push("M",y,",",_);if(null!=M){var Y=Math.min(d,(l-j)/(z-1)),H=Ha([y,_],[M,k],l,-Y,p),Q=Ha([b,A],null==x?[y,_]:[x,w],l,-Y,p);d===Y?E.push("L",Q[0],"A",Y,",",Y," 0 0,",g," ",Q[1],"A",l,",",l," 0 ",p^Ya(Q[1][0],Q[1][1],H[1][0],H[1][1]),",",1-p," ",H[1],"A",Y,",",Y," 0 0,",g," ",H[0]):E.push("L",Q[0],"A",Y,",",Y," 0 0,",g," ",H[0])}else E.push("L",b,",",A)}else E.push("M",y,",",_),null!=x&&E.push("A",u,",",u," 0 ",D,",",p," ",x,",",w),E.push("L",b,",",A),null!=M&&E.push("A",l,",",l," 0 ",N,",",1-p," ",M,",",k);return E.push("Z"),E.join("")}function s(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}return l.innerRadius=function(e){return arguments.length?(t=me(e),l):t},l.outerRadius=function(t){return arguments.length?(e=me(t),l):e},l.cornerRadius=function(t){return arguments.length?(n=me(t),l):n},l.padRadius=function(t){return arguments.length?(r=t==Oa?Oa:me(t),l):r},l.startAngle=function(t){return arguments.length?(o=me(t),l):o},l.endAngle=function(t){return arguments.length?(i=me(t),l):i},l.padAngle=function(t){return arguments.length?(a=me(t),l):a},l.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+o.apply(this,arguments)+ +i.apply(this,arguments))/2-Nt;return[Math.cos(r)*n,Math.sin(r)*n]},l};var Oa="auto";function za(t){return t.innerRadius}function ja(t){return t.outerRadius}function Fa(t){return t.startAngle}function Ra(t){return t.endAngle}function $a(t){return t&&t.padAngle}function Ya(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function Ha(t,e,n,r,o){var i=t[0]-e[0],a=t[1]-e[1],l=(o?r:-r)/Math.sqrt(i*i+a*a),s=l*a,u=-l*i,c=t[0]+s,f=t[1]+u,h=e[0]+s,p=e[1]+u,d=(c+h)/2,g=(f+p)/2,m=h-c,v=p-f,y=m*m+v*v,_=n-r,x=c*p-h*f,w=(v<0?-1:1)*Math.sqrt(_*_*y-x*x),b=(x*v-m*w)/y,A=(-x*m-v*w)/y,M=(x*v+m*w)/y,k=(-x*m+v*w)/y,C=b-d,S=A-g,E=M-d,D=k-g;return C*C+S*S>E*E+D*D&&(b=M,A=k),[[b-s,A-u],[b*n/_,A*n/_]]}function Qa(t){var e=oo,n=io,r=Wn,o=qa,i=o.key,a=.7;function l(i){var l,s=[],u=[],c=-1,f=i.length,h=me(e),p=me(n);function d(){s.push("M",o(t(u),a))}for(;++c<f;)r.call(this,l=i[c],c)?u.push([+h.call(this,l,c),+p.call(this,l,c)]):u.length&&(d(),u=[]);return u.length&&d(),s.length?s.join(""):null}return l.x=function(t){return arguments.length?(e=t,l):e},l.y=function(t){return arguments.length?(n=t,l):n},l.defined=function(t){return arguments.length?(r=t,l):r},l.interpolate=function(t){return arguments.length?(i="function"==typeof t?o=t:(o=Va.get(t)||qa).key,l):i},l.tension=function(t){return arguments.length?(a=t,l):a},l}i.svg.line=function(){return Qa(I)};var Va=i.map({linear:qa,"linear-closed":function(t){return qa(t)+"Z"},step:function(t){var e=0,n=t.length,r=t[0],o=[r[0],",",r[1]];for(;++e<n;)o.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);n>1&&o.push("H",r[0]);return o.join("")},"step-before":Ga,"step-after":Wa,basis:Za,"basis-open":function(t){if(t.length<4)return qa(t);var e,n=[],r=-1,o=t.length,i=[0],a=[0];for(;++r<3;)e=t[r],i.push(e[0]),a.push(e[1]);n.push(Ka(nl,i)+","+Ka(nl,a)),--r;for(;++r<o;)e=t[r],i.shift(),i.push(e[0]),a.shift(),a.push(e[1]),rl(n,i,a);return n.join("")},"basis-closed":function(t){var e,n,r=-1,o=t.length,i=o+4,a=[],l=[];for(;++r<4;)n=t[r%o],a.push(n[0]),l.push(n[1]);e=[Ka(nl,a),",",Ka(nl,l)],--r;for(;++r<i;)n=t[r%o],a.shift(),a.push(n[0]),l.shift(),l.push(n[1]),rl(e,a,l);return e.join("")},bundle:function(t,e){var n=t.length-1;if(n)for(var r,o,i=t[0][0],a=t[0][1],l=t[n][0]-i,s=t[n][1]-a,u=-1;++u<=n;)r=t[u],o=u/n,r[0]=e*r[0]+(1-e)*(i+o*l),r[1]=e*r[1]+(1-e)*(a+o*s);return Za(t)},cardinal:function(t,e){return t.length<3?qa(t):t[0]+Xa(t,Ja(t,e))},"cardinal-open":function(t,e){return t.length<4?qa(t):t[1]+Xa(t.slice(1,-1),Ja(t,e))},"cardinal-closed":function(t,e){return t.length<3?qa(t):t[0]+Xa((t.push(t[0]),t),Ja([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function(t){return t.length<3?qa(t):t[0]+Xa(t,function(t){var e,n,r,o,i=[],a=function(t){var e=0,n=t.length-1,r=[],o=t[0],i=t[1],a=r[0]=ol(o,i);for(;++e<n;)r[e]=(a+(a=ol(o=i,i=t[e+1])))/2;return r[e]=a,r}(t),l=-1,s=t.length-1;for(;++l<s;)e=ol(t[l],t[l+1]),b(e)<St?a[l]=a[l+1]=0:(n=a[l]/e,r=a[l+1]/e,(o=n*n+r*r)>9&&(o=3*e/Math.sqrt(o),a[l]=o*n,a[l+1]=o*r));l=-1;for(;++l<=s;)o=(t[Math.min(s,l+1)][0]-t[Math.max(0,l-1)][0])/(6*(1+a[l]*a[l])),i.push([o||0,a[l]*o||0]);return i}(t))}});function qa(t){return t.join("L")}function Ga(t){for(var e=0,n=t.length,r=t[0],o=[r[0],",",r[1]];++e<n;)o.push("V",(r=t[e])[1],"H",r[0]);return o.join("")}function Wa(t){for(var e=0,n=t.length,r=t[0],o=[r[0],",",r[1]];++e<n;)o.push("H",(r=t[e])[0],"V",r[1]);return o.join("")}function Xa(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return qa(t);var n=t.length!=e.length,r="",o=t[0],i=t[1],a=e[0],l=a,s=1;if(n&&(r+="Q"+(i[0]-2*a[0]/3)+","+(i[1]-2*a[1]/3)+","+i[0]+","+i[1],o=t[1],s=2),e.length>1){l=e[1],i=t[s],s++,r+="C"+(o[0]+a[0])+","+(o[1]+a[1])+","+(i[0]-l[0])+","+(i[1]-l[1])+","+i[0]+","+i[1];for(var u=2;u<e.length;u++,s++)i=t[s],l=e[u],r+="S"+(i[0]-l[0])+","+(i[1]-l[1])+","+i[0]+","+i[1]}if(n){var c=t[s];r+="Q"+(i[0]+2*l[0]/3)+","+(i[1]+2*l[1]/3)+","+c[0]+","+c[1]}return r}function Ja(t,e){for(var n,r=[],o=(1-e)/2,i=t[0],a=t[1],l=1,s=t.length;++l<s;)n=i,i=a,a=t[l],r.push([o*(a[0]-n[0]),o*(a[1]-n[1])]);return r}function Za(t){if(t.length<3)return qa(t);var e=1,n=t.length,r=t[0],o=r[0],i=r[1],a=[o,o,o,(r=t[1])[0]],l=[i,i,i,r[1]],s=[o,",",i,"L",Ka(nl,a),",",Ka(nl,l)];for(t.push(t[n-1]);++e<=n;)r=t[e],a.shift(),a.push(r[0]),l.shift(),l.push(r[1]),rl(s,a,l);return t.pop(),s.push("L",r),s.join("")}function Ka(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}Va.forEach((function(t,e){e.key=t,e.closed=/-closed$/.test(t)}));var tl=[0,2/3,1/3,0],el=[0,1/3,2/3,0],nl=[0,1/6,2/3,1/6];function rl(t,e,n){t.push("C",Ka(tl,e),",",Ka(tl,n),",",Ka(el,e),",",Ka(el,n),",",Ka(nl,e),",",Ka(nl,n))}function ol(t,e){return(e[1]-t[1])/(e[0]-t[0])}function il(t){for(var e,n,r,o=-1,i=t.length;++o<i;)n=(e=t[o])[0],r=e[1]-Nt,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function al(t){var e=oo,n=oo,r=0,o=io,i=Wn,a=qa,l=a.key,s=a,u="L",c=.7;function f(l){var f,h,p,d=[],g=[],m=[],v=-1,y=l.length,_=me(e),x=me(r),w=e===n?function(){return h}:me(n),b=r===o?function(){return p}:me(o);function A(){d.push("M",a(t(m),c),u,s(t(g.reverse()),c),"Z")}for(;++v<y;)i.call(this,f=l[v],v)?(g.push([h=+_.call(this,f,v),p=+x.call(this,f,v)]),m.push([+w.call(this,f,v),+b.call(this,f,v)])):g.length&&(A(),g=[],m=[]);return g.length&&A(),d.length?d.join(""):null}return f.x=function(t){return arguments.length?(e=n=t,f):n},f.x0=function(t){return arguments.length?(e=t,f):e},f.x1=function(t){return arguments.length?(n=t,f):n},f.y=function(t){return arguments.length?(r=o=t,f):o},f.y0=function(t){return arguments.length?(r=t,f):r},f.y1=function(t){return arguments.length?(o=t,f):o},f.defined=function(t){return arguments.length?(i=t,f):i},f.interpolate=function(t){return arguments.length?(l="function"==typeof t?a=t:(a=Va.get(t)||qa).key,s=a.reverse||a,u=a.closed?"M":"L",f):l},f.tension=function(t){return arguments.length?(c=t,f):c},f}function ll(t){return t.radius}function sl(t){return[t.x,t.y]}function ul(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-Nt;return[n*Math.cos(r),n*Math.sin(r)]}}function cl(){return 64}function fl(){return"circle"}function hl(t){var e=Math.sqrt(t/Et);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}i.svg.line.radial=function(){var t=Qa(il);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Ga.reverse=Wa,Wa.reverse=Ga,i.svg.area=function(){return al(I)},i.svg.area.radial=function(){var t=al(il);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},i.svg.chord=function(){var t=Hr,e=Qr,n=ll,r=Fa,o=Ra;function i(n,r){var o,i,u=a(this,t,n,r),c=a(this,e,n,r);return"M"+u.p0+l(u.r,u.p1,u.a1-u.a0)+(i=c,(o=u).a0==i.a0&&o.a1==i.a1?s(u.r,u.p1,u.r,u.p0):s(u.r,u.p1,c.r,c.p0)+l(c.r,c.p1,c.a1-c.a0)+s(c.r,c.p1,u.r,u.p0))+"Z"}function a(t,e,i,a){var l=e.call(t,i,a),s=n.call(t,l,a),u=r.call(t,l,a)-Nt,c=o.call(t,l,a)-Nt;return{r:s,a0:u,a1:c,p0:[s*Math.cos(u),s*Math.sin(u)],p1:[s*Math.cos(c),s*Math.sin(c)]}}function l(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Et)+",1 "+e}function s(t,e,n,r){return"Q 0,0 "+r}return i.radius=function(t){return arguments.length?(n=me(t),i):n},i.source=function(e){return arguments.length?(t=me(e),i):t},i.target=function(t){return arguments.length?(e=me(t),i):e},i.startAngle=function(t){return arguments.length?(r=me(t),i):r},i.endAngle=function(t){return arguments.length?(o=me(t),i):o},i},i.svg.diagonal=function(){var t=Hr,e=Qr,n=sl;function r(r,o){var i=t.call(this,r,o),a=e.call(this,r,o),l=(i.y+a.y)/2,s=[i,{x:i.x,y:l},{x:a.x,y:l},a];return"M"+(s=s.map(n))[0]+"C"+s[1]+" "+s[2]+" "+s[3]}return r.source=function(e){return arguments.length?(t=me(e),r):t},r.target=function(t){return arguments.length?(e=me(t),r):e},r.projection=function(t){return arguments.length?(n=t,r):n},r},i.svg.diagonal.radial=function(){var t=i.svg.diagonal(),e=sl,n=t.projection;return t.projection=function(t){return arguments.length?n(ul(e=t)):e},t},i.svg.symbol=function(){var t=fl,e=cl;function n(n,r){return(pl.get(t.call(this,n,r))||hl)(e.call(this,n,r))}return n.type=function(e){return arguments.length?(t=me(e),n):t},n.size=function(t){return arguments.length?(e=me(t),n):e},n};var pl=i.map({circle:hl,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*gl)),n=e*gl;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/dl),n=e*dl/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/dl),n=e*dl/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});i.svg.symbolTypes=pl.keys();var dl=Math.sqrt(3),gl=Math.tan(30*Pt);X.transition=function(t){for(var e,n,r=_l||++bl,o=kl(t),i=[],a=xl||{time:Date.now(),ease:hi,delay:0,duration:250},l=-1,s=this.length;++l<s;){i.push(e=[]);for(var u=this[l],c=-1,f=u.length;++c<f;)(n=u[c])&&Cl(n,c,o,r,a),e.push(n)}return yl(i,o,r)},X.interrupt=function(t){return this.each(null==t?ml:vl(kl(t)))};var ml=vl(kl());function vl(t){return function(){var e,n;(e=this[t])&&(n=e[e.active])&&(--e.count?delete e[e.active]:delete this[t],e.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function yl(t,e,n){return Q(t,wl),t.namespace=e,t.id=n,t}var _l,xl,wl=[],bl=0;function Al(t,e,n,r){var o=t.id,i=t.namespace;return pt(t,"function"==typeof n?function(t,a,l){t[i][o].tween.set(e,r(n.call(t,t.__data__,a,l)))}:(n=r(n),function(t){t[i][o].tween.set(e,n)}))}function Ml(t){return null==t&&(t=""),function(){this.textContent=t}}function kl(t){return null==t?"__transition__":"__transition_"+t+"__"}function Cl(t,e,n,r,o){var a=t[n]||(t[n]={active:0,count:0}),l=a[r];if(!l){var s=o.time;l=a[r]={tween:new k,time:s,delay:o.delay,duration:o.duration,ease:o.ease,index:e},o=null,++a.count,i.timer((function(o){var u,c,f=l.delay,h=Ae,p=[];if(h.t=f+s,f<=o)return d(o-f);function d(n){if(a.active>r)return m();var o=a[a.active];o&&(--a.count,delete a[a.active],o.event&&o.event.interrupt.call(t,t.__data__,o.index)),a.active=r,l.event&&l.event.start.call(t,t.__data__,e),l.tween.forEach((function(n,r){(r=r.call(t,t.__data__,e))&&p.push(r)})),c=l.ease,u=l.duration,i.timer((function(){return h.c=g(n||1)?Wn:g,1}),0,s)}function g(n){if(a.active!==r)return 1;for(var o=n/u,i=c(o),s=p.length;s>0;)p[--s].call(t,i);return o>=1?(l.event&&l.event.end.call(t,t.__data__,e),m()):void 0}function m(){return--a.count?delete a[r]:delete t[n],1}h.c=d}),0,s)}}wl.call=X.call,wl.empty=X.empty,wl.node=X.node,wl.size=X.size,i.transition=function(t,e){return t&&t.transition?_l?t.transition(e):t:i.selection().transition(t)},i.transition.prototype=wl,wl.select=function(t){var e,n,r,o=this.id,i=this.namespace,a=[];t=J(t);for(var l=-1,s=this.length;++l<s;){a.push(e=[]);for(var u=this[l],c=-1,f=u.length;++c<f;)(r=u[c])&&(n=t.call(r,r.__data__,c,l))?("__data__"in r&&(n.__data__=r.__data__),Cl(n,c,i,o,r[i][o]),e.push(n)):e.push(null)}return yl(a,i,o)},wl.selectAll=function(t){var e,n,r,o,i,a=this.id,l=this.namespace,s=[];t=Z(t);for(var u=-1,c=this.length;++u<c;)for(var f=this[u],h=-1,p=f.length;++h<p;)if(r=f[h]){i=r[l][a],n=t.call(r,r.__data__,h,u),s.push(e=[]);for(var d=-1,g=n.length;++d<g;)(o=n[d])&&Cl(o,d,l,a,i),e.push(o)}return yl(s,l,a)},wl.filter=function(t){var e,n,r=[];"function"!=typeof t&&(t=ft(t));for(var o=0,i=this.length;o<i;o++){r.push(e=[]);for(var a,l=0,s=(a=this[o]).length;l<s;l++)(n=a[l])&&t.call(n,n.__data__,l,o)&&e.push(n)}return yl(r,this.namespace,this.id)},wl.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):pt(this,null==e?function(e){e[r][n].tween.remove(t)}:function(o){o[r][n].tween.set(t,e)})},wl.attr=function(t,e){if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var n="transform"==t?bi:ni,r=i.ns.qualify(t);function o(){this.removeAttribute(r)}function a(){this.removeAttributeNS(r.space,r.local)}function l(t){return null==t?o:(t+="",function(){var e,o=this.getAttribute(r);return o!==t&&(e=n(o,t),function(t){this.setAttribute(r,e(t))})})}function s(t){return null==t?a:(t+="",function(){var e,o=this.getAttributeNS(r.space,r.local);return o!==t&&(e=n(o,t),function(t){this.setAttributeNS(r.space,r.local,e(t))})})}return Al(this,"attr."+t,e,r.local?s:l)},wl.attrTween=function(t,e){var n=i.ns.qualify(t);return this.tween("attr."+t,n.local?function(t,r){var o=e.call(this,t,r,this.getAttributeNS(n.space,n.local));return o&&function(t){this.setAttributeNS(n.space,n.local,o(t))}}:function(t,r){var o=e.call(this,t,r,this.getAttribute(n));return o&&function(t){this.setAttribute(n,o(t))}})},wl.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=""),t)this.style(n,t[n],e);return this}n=""}function o(){this.style.removeProperty(t)}function i(e){return null==e?o:(e+="",function(){var r,o=c(this).getComputedStyle(this,null).getPropertyValue(t);return o!==e&&(r=ni(o,e),function(e){this.style.setProperty(t,r(e),n)})})}return Al(this,"style."+t,e,i)},wl.styleTween=function(t,e,n){function r(r,o){var i=e.call(this,r,o,c(this).getComputedStyle(this,null).getPropertyValue(t));return i&&function(e){this.style.setProperty(t,i(e),n)}}return arguments.length<3&&(n=""),this.tween("style."+t,r)},wl.text=function(t){return Al(this,"text",t,Ml)},wl.remove=function(){var t=this.namespace;return this.each("end.transition",(function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)}))},wl.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=i.ease.apply(i,arguments)),pt(this,(function(r){r[n][e].ease=t})))},wl.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:pt(this,"function"==typeof t?function(r,o,i){r[n][e].delay=+t.call(r,r.__data__,o,i)}:(t=+t,function(r){r[n][e].delay=t}))},wl.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:pt(this,"function"==typeof t?function(r,o,i){r[n][e].duration=Math.max(1,t.call(r,r.__data__,o,i))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))},wl.each=function(t,e){var n=this.id,r=this.namespace;if(arguments.length<2){var o=xl,a=_l;try{_l=n,pt(this,(function(e,o,i){xl=e[r][n],t.call(e,e.__data__,o,i)}))}finally{xl=o,_l=a}}else pt(this,(function(o){var a=o[r][n];(a.event||(a.event=i.dispatch("start","end","interrupt"))).on(t,e)}));return this},wl.transition=function(){for(var t,e,n,r=this.id,o=++bl,i=this.namespace,a=[],l=0,s=this.length;l<s;l++){a.push(t=[]);for(var u,c=0,f=(u=this[l]).length;c<f;c++)(e=u[c])&&Cl(e,c,i,o,{time:(n=e[i][r]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),t.push(e)}return yl(a,i,o)},i.svg.axis=function(){var t,e=i.scale.linear(),n=Sl,r=6,o=6,a=3,l=[10],s=null;function u(u){u.each((function(){var u,c=i.select(this),f=this.__chart__||e,h=this.__chart__=e.copy(),p=null==s?h.ticks?h.ticks.apply(h,l):h.domain():s,d=null==t?h.tickFormat?h.tickFormat.apply(h,l):I:t,g=c.selectAll(".tick").data(p,h),m=g.enter().insert("g",".domain").attr("class","tick").style("opacity",St),v=i.transition(g.exit()).style("opacity",St).remove(),y=i.transition(g.order()).style("opacity",1),_=Math.max(r,0)+a,x=va(h),w=c.selectAll(".domain").data([0]),b=(w.enter().append("path").attr("class","domain"),i.transition(w));m.append("line"),m.append("text");var A,M,k,C,S=m.select("line"),E=y.select("line"),D=g.select("text").text(d),L=m.select("text"),N=y.select("text"),P="top"===n||"left"===n?-1:1;if("bottom"===n||"top"===n?(u=Dl,A="x",k="y",M="x2",C="y2",D.attr("dy",P<0?"0em":".71em").style("text-anchor","middle"),b.attr("d","M"+x[0]+","+P*o+"V0H"+x[1]+"V"+P*o)):(u=Ll,A="y",k="x",M="y2",C="x2",D.attr("dy",".32em").style("text-anchor",P<0?"end":"start"),b.attr("d","M"+P*o+","+x[0]+"H0V"+x[1]+"H"+P*o)),S.attr(C,P*r),L.attr(k,P*_),E.attr(M,0).attr(C,P*r),N.attr(A,0).attr(k,P*_),h.rangeBand){var B=h,T=B.rangeBand()/2;f=h=function(t){return B(t)+T}}else f.rangeBand?f=h:v.call(u,h,f);m.call(u,f,h),y.call(u,h,h)}))}return u.scale=function(t){return arguments.length?(e=t,u):e},u.orient=function(t){return arguments.length?(n=t in El?t+"":Sl,u):n},u.ticks=function(){return arguments.length?(l=arguments,u):l},u.tickValues=function(t){return arguments.length?(s=t,u):s},u.tickFormat=function(e){return arguments.length?(t=e,u):t},u.tickSize=function(t){var e=arguments.length;return e?(r=+t,o=+arguments[e-1],u):r},u.innerTickSize=function(t){return arguments.length?(r=+t,u):r},u.outerTickSize=function(t){return arguments.length?(o=+t,u):o},u.tickPadding=function(t){return arguments.length?(a=+t,u):a},u.tickSubdivide=function(){return arguments.length&&u},u};var Sl="bottom",El={top:1,right:1,bottom:1,left:1};function Dl(t,e,n){t.attr("transform",(function(t){var r=e(t);return"translate("+(isFinite(r)?r:n(t))+",0)"}))}function Ll(t,e,n){t.attr("transform",(function(t){var r=e(t);return"translate(0,"+(isFinite(r)?r:n(t))+")"}))}i.svg.brush=function(){var t,e,n=Y(h,"brushstart","brush","brushend"),r=null,o=null,a=[0,0],l=[0,0],s=!0,u=!0,f=Pl[0];function h(t){t.each((function(){var t=i.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",m).on("touchstart.brush",m),e=t.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=t.selectAll(".resize").data(f,I);n.exit().remove(),n.enter().append("g").attr("class",(function(t){return"resize "+t})).style("cursor",(function(t){return Nl[t]})).append("rect").attr("x",(function(t){return/[ew]$/.test(t)?-3:null})).attr("y",(function(t){return/^[ns]/.test(t)?-3:null})).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",h.empty()?"none":null);var a,l=i.transition(t),s=i.transition(e);r&&(a=va(r),s.attr("x",a[0]).attr("width",a[1]-a[0]),d(l)),o&&(a=va(o),s.attr("y",a[0]).attr("height",a[1]-a[0]),g(l)),p(l)}))}function p(t){t.selectAll(".resize").attr("transform",(function(t){return"translate("+a[+/e$/.test(t)]+","+l[+/^s/.test(t)]+")"}))}function d(t){t.select(".extent").attr("x",a[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",a[1]-a[0])}function g(t){t.select(".extent").attr("y",l[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",l[1]-l[0])}function m(){var f,m,v=this,y=i.select(i.event.target),_=n.of(v,arguments),x=i.select(v),w=y.datum(),b=!/^(n|s)$/.test(w)&&r,A=!/^(e|w)$/.test(w)&&o,M=y.classed("extent"),k=At(v),C=i.mouse(v),S=i.select(c(v)).on("keydown.brush",L).on("keyup.brush",N);if(i.event.changedTouches?S.on("touchmove.brush",P).on("touchend.brush",I):S.on("mousemove.brush",P).on("mouseup.brush",I),x.interrupt().selectAll("*").interrupt(),M)C[0]=a[0]-C[0],C[1]=l[0]-C[1];else if(w){var E=+/w$/.test(w),D=+/^n/.test(w);m=[a[1-E]-C[0],l[1-D]-C[1]],C[0]=a[E],C[1]=l[D]}else i.event.altKey&&(f=C.slice());function L(){32==i.event.keyCode&&(M||(f=null,C[0]-=a[1],C[1]-=l[1],M=2),R())}function N(){32==i.event.keyCode&&2==M&&(C[0]+=a[1],C[1]+=l[1],M=0,R())}function P(){var t=i.mouse(v),e=!1;m&&(t[0]+=m[0],t[1]+=m[1]),M||(i.event.altKey?(f||(f=[(a[0]+a[1])/2,(l[0]+l[1])/2]),C[0]=a[+(t[0]<f[0])],C[1]=l[+(t[1]<f[1])]):f=null),b&&B(t,r,0)&&(d(x),e=!0),A&&B(t,o,1)&&(g(x),e=!0),e&&(p(x),_({type:"brush",mode:M?"move":"resize"}))}function B(n,r,o){var i,c,h=va(r),p=h[0],d=h[1],g=C[o],m=o?l:a,v=m[1]-m[0];if(M&&(p-=g,d-=v+g),i=(o?u:s)?Math.max(p,Math.min(d,n[o])):n[o],M?c=(i+=g)+v:(f&&(g=Math.max(p,Math.min(d,2*f[o]-i))),g<i?(c=i,i=g):c=g),m[0]!=i||m[1]!=c)return o?e=null:t=null,m[0]=i,m[1]=c,!0}function I(){P(),x.style("pointer-events","all").selectAll(".resize").style("display",h.empty()?"none":null),i.select("body").style("cursor",null),S.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),k(),_({type:"brushend"})}x.style("pointer-events","none").selectAll(".resize").style("display",null),i.select("body").style("cursor",y.style("cursor")),_({type:"brushstart"}),P()}return h.event=function(r){r.each((function(){var r=n.of(this,arguments),o={x:a,y:l,i:t,j:e},s=this.__chart__||o;this.__chart__=o,_l?i.select(this).transition().each("start.brush",(function(){t=s.i,e=s.j,a=s.x,l=s.y,r({type:"brushstart"})})).tween("brush:brush",(function(){var n=ri(a,o.x),i=ri(l,o.y);return t=e=null,function(t){a=o.x=n(t),l=o.y=i(t),r({type:"brush",mode:"resize"})}})).each("end.brush",(function(){t=o.i,e=o.j,r({type:"brush",mode:"resize"}),r({type:"brushend"})})):(r({type:"brushstart"}),r({type:"brush",mode:"resize"}),r({type:"brushend"}))}))},h.x=function(t){return arguments.length?(f=Pl[!(r=t)<<1|!o],h):r},h.y=function(t){return arguments.length?(f=Pl[!r<<1|!(o=t)],h):o},h.clamp=function(t){return arguments.length?(r&&o?(s=!!t[0],u=!!t[1]):r?s=!!t:o&&(u=!!t),h):r&&o?[s,u]:r?s:o?u:null},h.extent=function(n){var i,s,u,c,f;return arguments.length?(r&&(i=n[0],s=n[1],o&&(i=i[0],s=s[0]),t=[i,s],r.invert&&(i=r(i),s=r(s)),s<i&&(f=i,i=s,s=f),i==a[0]&&s==a[1]||(a=[i,s])),o&&(u=n[0],c=n[1],r&&(u=u[1],c=c[1]),e=[u,c],o.invert&&(u=o(u),c=o(c)),c<u&&(f=u,u=c,c=f),u==l[0]&&c==l[1]||(l=[u,c])),h):(r&&(t?(i=t[0],s=t[1]):(i=a[0],s=a[1],r.invert&&(i=r.invert(i),s=r.invert(s)),s<i&&(f=i,i=s,s=f))),o&&(e?(u=e[0],c=e[1]):(u=l[0],c=l[1],o.invert&&(u=o.invert(u),c=o.invert(c)),c<u&&(f=u,u=c,c=f))),r&&o?[[i,u],[s,c]]:r?[i,s]:o&&[u,c])},h.clear=function(){return h.empty()||(a=[0,0],l=[0,0],t=e=null),h},h.empty=function(){return!!r&&a[0]==a[1]||!!o&&l[0]==l[1]},i.rebind(h,n,"on")};var Nl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Pl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Bl=Ie.format=cn.timeFormat,Il=Bl.utc,Tl=Il("%Y-%m-%dT%H:%M:%S.%LZ");function Ul(t){return t.toISOString()}function Ol(t,e,n){function r(e){return t(e)}function o(t,n){var r=(t[1]-t[0])/n,o=i.bisect(jl,r);return o==jl.length?[e.year,Ma(t.map((function(t){return t/31536e6})),n)[2]]:o?e[r/jl[o-1]<jl[o]/r?o-1:o]:[$l,Ma(t,n)[2]]}return r.invert=function(e){return zl(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(zl)},r.nice=function(t,e){var n=r.domain(),i=ma(n),a=null==t?o(i,10):"number"==typeof t&&o(i,t);function l(n){return!isNaN(n)&&!t.range(n,zl(+n+1),e).length}return a&&(t=a[0],e=a[1]),r.domain(_a(n,e>1?{floor:function(e){for(;l(e=t.floor(e));)e=zl(e-1);return e},ceil:function(e){for(;l(e=t.ceil(e));)e=zl(+e+1);return e}}:t))},r.ticks=function(t,e){var n=ma(r.domain()),i=null==t?o(n,10):"number"==typeof t?o(n,t):!t.range&&[{range:t},e];return i&&(t=i[0],e=i[1]),t.range(n[0],zl(+n[1]+1),e<1?1:e)},r.tickFormat=function(){return n},r.copy=function(){return Ol(t.copy(),e,n)},ba(r,t)}function zl(t){return new Date(t)}Bl.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Ul:Tl,Ul.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Ul.toString=Tl.toString,Ie.second=ze((function(t){return new Te(1e3*Math.floor(t/1e3))}),(function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))}),(function(t){return t.getSeconds()})),Ie.seconds=Ie.second.range,Ie.seconds.utc=Ie.second.utc.range,Ie.minute=ze((function(t){return new Te(6e4*Math.floor(t/6e4))}),(function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))}),(function(t){return t.getMinutes()})),Ie.minutes=Ie.minute.range,Ie.minutes.utc=Ie.minute.utc.range,Ie.hour=ze((function(t){var e=t.getTimezoneOffset()/60;return new Te(36e5*(Math.floor(t/36e5-e)+e))}),(function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))}),(function(t){return t.getHours()})),Ie.hours=Ie.hour.range,Ie.hours.utc=Ie.hour.utc.range,Ie.month=ze((function(t){return(t=Ie.day(t)).setDate(1),t}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t){return t.getMonth()})),Ie.months=Ie.month.range,Ie.months.utc=Ie.month.utc.range;var jl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Fl=[[Ie.second,1],[Ie.second,5],[Ie.second,15],[Ie.second,30],[Ie.minute,1],[Ie.minute,5],[Ie.minute,15],[Ie.minute,30],[Ie.hour,1],[Ie.hour,3],[Ie.hour,6],[Ie.hour,12],[Ie.day,1],[Ie.day,2],[Ie.week,1],[Ie.month,1],[Ie.month,3],[Ie.year,1]],Rl=Bl.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Wn]]),$l={range:function(t,e,n){return i.range(Math.ceil(t/n)*n,+e,n).map(zl)},floor:I,ceil:I};Fl.year=Ie.year,Ie.scale=function(){return Ol(i.scale.linear(),Fl,Rl)};var Yl=Fl.map((function(t){return[t[0].utc,t[1]]})),Hl=Il.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Wn]]);function Ql(t){return JSON.parse(t.responseText)}function Vl(t){var e=s.createRange();return e.selectNode(s.body),e.createContextualFragment(t.responseText)}Yl.year=Ie.year.utc,Ie.scale.utc=function(){return Ol(i.scale.linear(),Yl,Hl)},i.text=ve((function(t){return t.responseText})),i.json=function(t,e){return ye(t,"application/json",Ql,e)},i.html=function(t,e){return ye(t,"text/html",Vl,e)},i.xml=ve((function(t){return t.responseXML})),void 0===(o="function"==typeof(r=i)?r.call(e,n,e,t):r)||(t.exports=o),this.d3=i}()},2863:function(t,e,n){t.exports=n(6).extend({template:n(2864),css:n(2867),className:"commentBadge",ModelClass:n(222),requiredAttributes:["user"],defaults:{compact:!0},states:{canDelete:"canDelete",dialogOpen:"dialogOpen"},initialize:function(){this.bubbleEvents={},this.bubbleEvents[n(298).TOGGLE]="onDeleteDialogToggle",n(6).prototype.initialize.apply(this,arguments)},renderDecorate:function(){this.toggleState("canDelete",n(4).get("me").owns(this.model))},onDeleteDialogToggle:function(){this.toggleState("dialogOpen",this.subviews.deleteCommentButton.isOverlayOpened())},getTemplateData:function(t){t.canDelete=n(4).get("me").owns(this.model)}})},2864:function(t,e,n){var r=n(11);t.exports=(r.default||r).template({1:function(t,e,r,o,i){var a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return t.escapeExpression((n(2216)||e&&a(e,"$usertextOneline")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},null!=e?a(e,"body"):e,{name:"$usertextOneline",hash:{maxLength:200,links:!1},data:i,loc:{start:{line:7,column:4},end:{line:7,column:56}}}))},3:function(t,e,r,o,i){var a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return t.escapeExpression((n(2185)||e&&a(e,"$usertext")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},null!=e?a(e,"body"):e,{name:"$usertext",hash:{paragraphs:!1},data:i,loc:{start:{line:9,column:4},end:{line:9,column:40}}}))},5:function(t,e,r,o,i){var a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'  <div class="commentBadge__deleteCommentButton">\n    '+t.escapeExpression((n(5)||e&&a(e,"$view")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},n(2282),{name:"$view",hash:{size:null!=e?a(e,"button_size"):e,key:"deleteCommentButton",resource_id:null!=e?a(e,"_resource_id"):e},data:i,loc:{start:{line:17,column:4},end:{line:17,column:112}}}))+"\n  </div>\n"},compiler:[8,">= 4.3.0"],main:function(t,e,r,o,i){var a,l=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u=t.escapeExpression,c=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div class="commentBadge__title">\n  \x3c!-- TODO When sound model will be included in comment we don\'t need this --\x3e\n  '+u((n(5)||e&&c(e,"$view")||s).call(l,n(2865),{name:"$view",hash:{resource_id:null!=e?c(e,"track_id"):e},data:i,loc:{start:{line:3,column:2},end:{line:3,column:61}}}))+'\n</div>\n<div class="commentBadge__body'+u((n(294)||e&&c(e,"$unless")||s).call(l,null!=(a=null!=e?c(e,"_options"):e)?c(a,"compact"):a," sc-font-light",{name:"$unless",hash:{},data:i,loc:{start:{line:5,column:30},end:{line:5,column:75}}}))+'">'+(null!=(a=c(r,"if").call(l,null!=(a=null!=e?c(e,"_options"):e)?c(a,"compact"):a,{name:"if",hash:{},fn:t.program(1,i,0),inverse:t.program(3,i,0),data:i,loc:{start:{line:6,column:2},end:{line:10,column:11}}}))?a:"")+'</div>\n<span class="commentBadge__time sc-text-light sc-text-secondary">\n  '+u((n(5)||e&&c(e,"$view")||s).call(l,n(292),{name:"$view",hash:{timestamp:null!=e?c(e,"created_at"):e},data:i,loc:{start:{line:13,column:2},end:{line:13,column:68}}}))+"\n</span>\n"+(null!=(a=c(r,"if").call(l,null!=e?c(e,"canDelete"):e,{name:"if",hash:{},fn:t.program(5,i,0),inverse:t.noop,data:i,loc:{start:{line:15,column:0},end:{line:19,column:7}}}))?a:"")},useData:!0})},2865:function(t,e,n){t.exports=n(6).extend({template:function(t){return n(1).Lingua.t("on [[[linkToTrack]]]",{linkToTrack:n(2866)(t)})},ModelClass:n(17),requiredAttributes:["title","permalink"],defaults:{noFollow:!1}})},2866:function(t,e,n){var r=n(11);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,r,o,i){var a,l,s=null!=e?e:t.nullContext||{},u=t.hooks.helperMissing,c=t.escapeExpression,f=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<a class="sc-link-light sc-link-secondary" href="'+c((n(20)||e&&f(e,"$route")||u).call(s,"listen",e,{name:"$route",hash:{},data:i,loc:{start:{line:1,column:49},end:{line:1,column:73}}}))+'"'+(null!=(a=(n(29)||e&&f(e,"$if")||u).call(s,null!=e?f(e,"noFollow"):e,' rel="nofollow"',{name:"$if",hash:{},data:i,loc:{start:{line:1,column:74},end:{line:1,column:110}}}))?a:"")+">"+c("function"==typeof(l=null!=(l=f(r,"title")||(null!=e?f(e,"title"):e))?l:u)?l.call(s,{name:"title",hash:{},data:i,loc:{start:{line:1,column:111},end:{line:1,column:120}}}):l)+"</a>\n"},useData:!0})},2867:function(t,e,n){var r=n(8),o=n(2868);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});t.exports=a},2868:function(t,e,n){(e=n(9)(!1)).push([t.i,'.commentBadge{position:relative;overflow:hidden}.commentBadge__title{margin-right:70px}.commentBadge:hover .commentBadge__title a{color:#000;color:var(--font-primary-color)}.sc-classic .commentBadge:hover .commentBadge__title a{color:#333}.commentBadge__time{color:#666;color:var(--font-secondary-color);position:absolute;right:0;top:0}.sc-classic .commentBadge__time{color:#ccc}.commentBadge__deleteCommentButton{display:none;position:absolute;top:5px;right:7px}.commentBadge.dialogOpen .commentBadge__deleteCommentButton,.commentBadge:hover .commentBadge__deleteCommentButton{display:block}.commentBadge.canDelete:hover .commentBadge__time,.commentBadge.dialogOpen .commentBadge__time{display:none}.commentBadge__body:before{content:"“"}.commentBadge__body:after{content:"”"}',""]),t.exports=e},2869:function(t,e,n){t.exports=n(172).extend({model:n(222),defaults:{type:"comments"},baseUrl:function(){return this.getEndpointUrl("userComments",{id:this.options.userId})}})},2870:function(t,e,n){t.exports=n(116).extend(n(289),{Subview:n(376),css:[n(2164),n(2158)],className:"soundList",itemClassName:"soundList__item",emptyTemplate:n(2160),defaults:{showEndView:!0},user:null,setup:function(t){var e=t.resource_id;this.collection=new(n(2175))(null,{userId:e}),this.user=this.addDataSource(new(n(33))({id:e}),{requiredAttributes:["username"]})},getTemplateData:function(t){return this.user.isMe()?(t.message=n(1).Lingua.t("You haven’t created any playlists."),t.linkUrl="https://help.soundcloud.com/hc/articles/115003449787-Creating-and-adding-tracks-to-a-playlist",t.linkExternal=!0,t.linkText=n(1).Lingua.t("Learn about playlists")):t.message=n(1).Lingua.t("[[username]] hasn’t created any playlists yet.",{username:this.user.get("username")}),t.emptyPageClass="emptySets",t}})},2871:function(t,e,n){t.exports=n(6).extend({template:n(4077),className:"userStreamItem",defaults:{userStreamItem:null,userId:null},setup:function(t){this.model=t.userStreamItem,this.model.hold()},hasSpotlightEdit:function(){return n(4).get("features").has("spotlight")&&"public"===this.model.getModelData().sharing&&!this.model.isRepost()&&!this.model.isLike()&&n(4).get("me").id===this.options.userId},getTemplateData:function(t){var e=this.model,r=this.options.userId,o=!!t.track,i=t[o?"track":"playlist"];return n(0).assign(t,{user_id:r,model_type:o?"sound":"playlist",model_id:i.id,actorId:(e.isRepost()||e.isLike())&&r,actionType:e.getActionType(),time_to_show:t.created_at,time_display_prefix:this.model.isRepost()?"Reposted":"Posted",show_spotlight:this.hasSpotlightEdit()})}})},2944:function(t,e,n){function r(){var t=this.getElement("fileInput");t.replaceWith(t.val("").clone()),this.resetElementCache()}t.exports=n(6).extend(n(107),{template:n(4021),className:"headerImageEditChooser",ModelClass:n(33),events:{"click .headerImageEditChooser__chooseButton":function(){this.getElement("fileInput").click()},"change .headerImageEditChooser__fileInput":function(t){var e=t.target.files[0];e&&(r.call(this),this.openModalWithFile(e))}},defaults:{buttonClass:"sc-button-nostyle",text:n(1).Lingua.t("Replace image"),dialogType:"genericDialog",dialogEnabled:!1},element2selector:{chooseButton:".headerImageEditChooser__chooseButton",fileInput:".headerImageEditChooser__fileInput"},dialogArgs:{text:n(1).Lingua.t("For best results, upload PNG or JPG images of at least 2480x520 pixels. 2MB file-size limit."),smallText:!0,offset:"50 10",width:215},renderDecorate:function(){this.getElement("chooseButton").prop("disabled",!n(4).get("me").isConfirmed())},openModalWithFile:function(t){var e=new(n(4022))({togglerEl:this.el,subviewArgs:{resource_id:this.model.id,file:t}});e.on(n(47).Events.CLOSED,e._dispose,e),e.open()},getModelData:function(){return{}},getTemplateData:function(t){return t.mimeTypes="image/jpeg,image/pjpeg,image/png",t}})},2945:function(t,e,n){t.exports=n(6).extend(n(2186).withOptions({id:"verifiedBadge",elSelector:".profileHeaderInfo__verifiedBadge .sc-status-icon-verified",displayCondition:function(){if(!this._verificationStatus)return!1;var t=new Date;return t.setDate(t.getDate()-7),"verified"===this._verificationStatus.get("status")&&new Date(this._verificationStatus.get("timestamp"))>t}}),{template:n(4024),css:n(4026),className:"profileHeaderInfo sc-media",ModelClass:n(33),requiredAttributes:["avatar_url","username","full_name","city","country_code"],setup:function(){this.model.isMe()&&(this._verificationStatus=this.addDataSource(new(n(2322)),{requiredAttributes:["status"],observedAttributes:["timestamp"]}))},getTemplateData:function(t){return n(0).assign(t,{_address:[t.city,this.model.getCountry()].filter(Boolean).join(", "),isMe:this.model.isMe()})}})},2946:function(t,e,n){t.exports=n(6).extend(n(37).withOptions("userActionButtons"),{className:"sc-button-group",ModelClass:n(33),requiredAttributes:["track_count"],template:function(){var t=this.model.isMe(),e=n(18).isLoggedIn(),r=this.model.get("id"),o=t&&n(143).hasUploads(),i=[t&&o&&{View:n(556)},this.model.getNumTracks("public")>0&&{View:n(408),args:{stationType:"artist",stationId:r,text_only:!1,noStyle:!1,size:"medium",noFollow:!0}},!t&&{View:n(309),args:{size:"medium",resource_id:r,is_cta:!0}},{View:n(391),args:{size:"medium",resource_id:r,resource_type:"user"}},!t&&e&&!this.model.isSystemUser()&&{View:n(2354),args:{size:"medium",resource_id:r,icon_only:!0}},t&&{View:n(4051),args:{size:"medium",resource_id:r,hideLabelOnSmallScreen:!0}},!t&&e&&{View:n(4068),args:{size:"medium",resource_id:r,icon_only:!0,contentViewArgs:{size:"medium"}}}].filter(Boolean);return n(27).children(i.map((function(t){var e=t.View,r=t.args;return n(27).subview(e,r)})))}})},2947:function(t,e,n){t.exports=n(40).extend(n(4135),{defaults:{limit:3},songkickId:null,songkickUrl:null,url:function(){return"//"+n(26).stringify({path:"/api/3.0/artists/"+this.songkickId+"/calendar.json",query:{apikey:n(4).get("songkick_api_key"),per_page:this.options.limit,jsoncallback:""}},"api.songkick.com")+"?"},fetchServiceData:function(t){var e=this._webProfileCollection.getProfileByName("songkick");return e&&-1!==e.get("url").indexOf("/artists/")?(this.songkickId=e.get("username"),this.songkickUrl=e.get("url"),n(40).prototype.fetch.call(this,n(0).assign(t,{jsonpCallback:"soundcloud"+this.songkickId,cache:!0}))):(this.resetFetch(),n(7).resolve())},parse:function(t){return t.resultsPage.results.event}})},2948:function(t,e,n){t.exports=n(2167).extend({shouldAddFromActions:!1,baseUrl:function(){return this.getEndpointUrl("userFollowersFollowedBy",{id:this.options.userId,followed_by:n(4).get("me").id})}})},4010:function(t,e,n){var r=n(8),o=n(4011);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});t.exports=a},4011:function(t,e,n){(e=n(9)(!1)).push([t.i,".l-fluid-fixed .l-user-main{margin-top:20px;padding-top:0}.sc-classic .l-fluid-fixed .l-user-main{padding-top:0}.l-fluid-fixed .l-user-sidebar-right{top:0}",""]),t.exports=e},4012:function(t,e,n){var r=n(11);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){return'<div class="l-banner l-inner-fullwidth">\n\n</div>\n<div class="l-user-hero">\n\n</div>\n<div class="l-vertical-bar">\n\n</div>\n<div class="l-fluid-fixed">\n  <div class="l-main l-user-main sc-border-light-right">\n\n  </div>\n  <div class="l-sidebar-right l-user-sidebar-right">\n\n  </div>\n</div>\n'},useData:!0})},4013:function(t,e,n){t.exports=n(6).extend(n(2360),{template:n(4014),css:n(4015),className:"userUpsell sc-type-light sc-text-secondary sc-border-box",events:{"click .upsellBanner__button":"onClick","click .upsellBanner__close":"onClose"},states:{expanded:"expanded"},setup:function(t){this.collection=new(n(503))(null,{resource_id:t.resource_id})},onClose:function(){this.toggleState("expanded",!1),n(743).dismissUserUpsell(),n(12).trackV0Click(["upsell_teaser_user","dismiss"],{impression_name:"user_upsell",context:this.getContextData(),originView:"listenUpsell",urn:n(4).get("me").getUrn()})},onClick:function(){n(12).trackV0Click(["upsell_teaser_user","click"],{impression_name:"user_upsell",context:this.getContextData(),originView:"listenUpsell",urn:n(4).get("me").getUrn()})},renderDecorate:function(){n(743).couldHaveUserUpsell(this.options.resource_id)&&n(743).isValidUserSounds(this.collection)&&(n(743).dismissUserUpsell(),this.toggleState("expanded",!0),n(12).trackImpression({impression_name:"user_upsell",context:this.getContextData(),originView:"listenUpsell",urn:n(4).get("me").getUrn()}))},hasData:function(){return!n(743).couldHaveUserUpsell(this.options.resource_id)||n(6).prototype.hasData.call(this)}})},4014:function(t,e,n){var r=n(11);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,r,o,i){var a=null!=e?e:t.nullContext||{},l=t.hooks.helperMissing,s=t.escapeExpression,u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<h3 class="upsellBanner__title sc-type-light sc-text-secondary">'+s((n(3)||e&&u(e,"$t")||l).call(a,"Help your audience discover your sounds",{name:"$t",hash:{},data:i,loc:{start:{line:1,column:64},end:{line:1,column:112}}}))+'</h3>\n<p class="upsellBanner__copy">'+s((n(3)||e&&u(e,"$t")||l).call(a,"Let your audience know what to hear first.<br> With any Pro plan, get Spotlight to showcase the best of your music &amp; audio at the top of your profile.",{name:"$t",hash:{},data:i,loc:{start:{line:2,column:30},end:{line:2,column:193}}}))+"</p>\n"+s((n(5)||e&&u(e,"$view")||l).call(a,n(175),{name:"$view",hash:{text:(n(3)||e&&u(e,"$t")||l).call(a,"Learn more about Pro",{name:"$t",hash:{},data:i,loc:{start:{line:6,column:7},end:{line:6,column:34}}}),tcode:"t113",className:"upsellBanner__button sc-button sc-button-medium sc-button-cta sc-button-primary"},data:i,loc:{start:{line:3,column:0},end:{line:7,column:2}}}))+'\n<button type="button" class="upsellBanner__close sc-ir">'+s((n(3)||e&&u(e,"$t")||l).call(a,"Close",{name:"$t",hash:{},data:i,loc:{start:{line:8,column:56},end:{line:8,column:70}}}))+"</button>\n"},useData:!0})},4015:function(t,e,n){var r=n(8),o=n(4016);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});t.exports=a},4016:function(t,e,n){var r=n(9),o=n(34),i=n(4017);e=r(!1);var a=o(i);e.push([t.i,".userUpsell{background:#000 url("+a+") right 30px top no-repeat;background:var(--background-dark-color) url("+a+") right 30px top no-repeat;padding-right:450px}.sc-classic .userUpsell{background:#333 url("+a+") right 30px top no-repeat}",""]),t.exports=e},4017:function(t,e,n){t.exports=n.p+"assets/images/spotlight-99243287.png"},4018:function(t,e,n){t.exports=n(6).extend(n(37).withOptions("userProfileBanner"),{template:n(4019),css:n(4043),className:"profileHeader",ModelClass:n(33),requiredAttributes:["visuals"],events:{"keydown .profileHeader__headerImageEditChooser":function(t){var e=this.subviews.chooser;e&&t.keyCode===n(48).ENTER&&e.chooseFile()}},getTemplateData:function(t){return t.hasVisuals=this.model.hasVisuals(),t.showEdit=r.call(this),t}});function r(){return this.model.isMe()}},4019:function(t,e,n){var r=n(11);t.exports=(r.default||r).template({1:function(t,e,n,r,o){var i,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'  <div class="profileHeader__edit">\n    <div class="profileHeader__chooserWrapper right" tabIndex="0">\n'+(null!=(i=a(n,"if").call(null!=e?e:t.nullContext||{},null!=e?a(e,"hasVisuals"):e,{name:"if",hash:{},fn:t.program(2,o,0),inverse:t.program(4,o,0),data:o,loc:{start:{line:4,column:6},end:{line:13,column:13}}}))?i:"")+"    </div>\n  </div>\n"},2:function(t,e,r,o,i){var a,l=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"        "+t.escapeExpression((n(5)||e&&l(e,"$view")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},n(4020),{name:"$view",hash:{className:"profileHeader__headerImageEditChooser right",resource_id:null!=(a=null!=e?l(e,"_options"):e)?l(a,"resource_id"):a},data:i,loc:{start:{line:5,column:8},end:{line:5,column:148}}}))+"\n"},4:function(t,e,r,o,i){var a,l=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"        "+t.escapeExpression((n(5)||e&&u(e,"$view")||s).call(l,n(2944),{name:"$view",hash:{dialogEnabled:!0,text:(n(3)||e&&u(e,"$t")||s).call(l,"Upload header image",{name:"$t",hash:{},data:i,loc:{start:{line:10,column:15},end:{line:10,column:41}}}),buttonClass:"profileHeader__headerImageEditChooser profileHeader__headerImageEditChooserFirstTime sc-button-medium sc-button-camera sc-button-translucent right",resource_id:null!=(a=null!=e?u(e,"_options"):e)?u(a,"resource_id"):a},data:i,loc:{start:{line:7,column:8},end:{line:12,column:10}}}))+"\n"},compiler:[8,">= 4.3.0"],main:function(t,e,r,o,i){var a,l=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u=t.escapeExpression,c=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return(null!=(a=c(r,"if").call(l,null!=e?c(e,"showEdit"):e,{name:"if",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i,loc:{start:{line:1,column:0},end:{line:16,column:7}}}))?a:"")+'<div class="profileHeader__info">\n  '+u((n(5)||e&&c(e,"$view")||s).call(l,n(2945),{name:"$view",hash:{resource_id:null!=e?c(e,"_resource_id"):e},data:i,loc:{start:{line:18,column:2},end:{line:18,column:69}}}))+"\n</div>\n\n"+u((n(5)||e&&c(e,"$view")||s).call(l,n(4031),{name:"$view",hash:{resource_id:null!=e?c(e,"_resource_id"):e},data:i,loc:{start:{line:21,column:0},end:{line:21,column:73}}}))+"\n"+u((n(5)||e&&c(e,"$view")||s).call(l,n(4036),{name:"$view",hash:{userId:null!=e?c(e,"_resource_id"):e},data:i,loc:{start:{line:22,column:0},end:{line:22,column:60}}}))+"\n"},useData:!0})},4020:function(t,e,n){t.exports=n(817).extend({defaults:{ContentViewClass:n(818).extend({defaults:{DeleteImageView:n(545).ModalDeleteImageButton.extend({defaults:{DeleteModalView:n(819).HeaderImageDeleteModal}}),ImageChooserView:n(2944)}})}})},4021:function(t,e,n){var r=n(11);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var i,a,l=t.lambda,s=t.escapeExpression,u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<button type="button" class="headerImageEditChooser__chooseButton sc-button '+s(l(null!=(i=null!=e?u(e,"_options"):e)?u(i,"buttonClass"):i,e))+'">'+s(l(null!=(i=null!=e?u(e,"_options"):e)?u(i,"text"):i,e))+'</button>\n<input class="headerImageEditChooser__fileInput sc-visuallyhidden" type="file" accept="'+s("function"==typeof(a=null!=(a=u(n,"mimeTypes")||(null!=e?u(e,"mimeTypes"):e))?a:t.hooks.helperMissing)?a.call(null!=e?e:t.nullContext||{},{name:"mimeTypes",hash:{},data:o,loc:{start:{line:2,column:87},end:{line:2,column:100}}}):a)+'">\n'},useData:!0})},4022:function(t,e,n){var r=n(6).extend({template:n(4023),css:n(4028),className:"headerImageEditModal sc-selection-disabled",ModelClass:n(33),requiredAttributes:["visuals"],defaults:{file:null},_savedNewVisual:!1,onModelChange:function(){this._savedNewVisual?this._savedNewVisual=!1:this.rerender()},getTemplateData:function(t){var e=this;return t.cropSizes={width:1240,height:260,previewWidth:850},t.user_id=this.model.id,t.file=this.options.file,t.saveFile=function(t){return function(t){return(new(n(4030))).upload(t)}(t).then(i)},t.onCancel=function(){return e.bubble("headerImageEditModal:cancel")},t.onSaveSuccess=o.bind(this),t}});function o(t){this._savedNewVisual=!0,this.model.set("visuals",[{visual_url:t.image_url,urn:t.user_urn}]),n(12).trackV1Click({context:this.getContextData(),click_name:"banner_image:add",click_category:"profile_edit",click_object:n(4).get("me").getUrn()}),this.bubble("headerImageEditModal:success")}function i(t){var e=new(n(820))({image_url:t});return e.release(),e.save()}t.exports=n(47).extend({bubbleEvents:{"headerImageEditModal:success":"close","headerImageEditModal:cancel":"close"},defaults:{width:900,Subview:r}})},4023:function(t,e,n){var r=n(11);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,r,o,i){var a=null!=e?e:t.nullContext||{},l=t.hooks.helperMissing,s=t.escapeExpression,u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<h2 class="g-modal-title-h1 sc-truncate">'+s((n(3)||e&&u(e,"$t")||l).call(a,"Position and resize your profile header",{name:"$t",hash:{},data:i,loc:{start:{line:1,column:41},end:{line:1,column:89}}}))+'</h2>\n<p class="headerImageEditModal__hint">'+s((n(3)||e&&u(e,"$t")||l).call(a,"For best results, upload PNG or JPG images of at least 2480x520 pixels. 2MB file-size limit. Avoid using text within your header image, as it will be cropped on smaller screens.",{name:"$t",hash:{},data:i,loc:{start:{line:2,column:38},end:{line:2,column:224}}}))+'</p>\n<div class="headerImageEditModal__cropper">\n  '+s((n(5)||e&&u(e,"$view")||l).call(a,n(544),{name:"$view",hash:{sizes:null!=e?u(e,"cropSizes"):e,onCancel:null!=e?u(e,"onCancel"):e,onSaveSuccess:null!=e?u(e,"onSaveSuccess"):e,saveFile:null!=e?u(e,"saveFile"):e,file:null!=e?u(e,"file"):e},data:i,loc:{start:{line:4,column:2},end:{line:10,column:4}}}))+'\n  <div class="headerImageEditModal__previewOverlay">\n    <div class="headerImageEditModal__previewOverlayUser">\n      '+s((n(5)||e&&u(e,"$view")||l).call(a,n(2945),{name:"$view",hash:{resource_id:null!=e?u(e,"user_id"):e},data:i,loc:{start:{line:13,column:6},end:{line:13,column:68}}}))+"\n    </div>\n  </div>\n</div>\n"},useData:!0})},4024:function(t,e,n){var r=n(11);t.exports=(r.default||r).template({1:function(t,e,r,o,i){var a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"    "+t.escapeExpression((n(5)||e&&a(e,"$view")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},n(761),{name:"$view",hash:{boundaryOutlineStyle:"none",zoomable:!0,alwaysShowEditButton:!1,size:200,resource_type:"me-user",resource_id:1},data:i,loc:{start:{line:3,column:4},end:{line:10,column:6}}}))+"\n"},3:function(t,e,r,o,i){var a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"    "+t.escapeExpression((n(5)||e&&a(e,"$view")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},n(87),{name:"$view",hash:{boundaryOutlineStyle:"none",zoomable:!0,size:200,resource_type:null!=e?a(e,"_resource_type"):e,resource_id:null!=e?a(e,"_resource_id"):e},data:i,loc:{start:{line:12,column:4},end:{line:18,column:6}}}))+"\n"},5:function(t,e,n,r,o){var i,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'    <br><h4 class="profileHeaderInfo__additional g-type-shrinkwrap-block g-type-shrinkwrap-large-secondary">'+t.escapeExpression("function"==typeof(i=null!=(i=a(n,"full_name")||(null!=e?a(e,"full_name"):e))?i:t.hooks.helperMissing)?i.call(null!=e?e:t.nullContext||{},{name:"full_name",hash:{},data:o,loc:{start:{line:32,column:108},end:{line:32,column:121}}}):i)+"</h4>\n"},7:function(t,e,n,r,o){var i,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'    <br><h4 class="profileHeaderInfo__additional g-type-shrinkwrap-block g-type-shrinkwrap-large-secondary">'+t.escapeExpression("function"==typeof(i=null!=(i=a(n,"_address")||(null!=e?a(e,"_address"):e))?i:t.hooks.helperMissing)?i.call(null!=e?e:t.nullContext||{},{name:"_address",hash:{},data:o,loc:{start:{line:35,column:108},end:{line:35,column:120}}}):i)+"</h4>\n"},compiler:[8,">= 4.3.0"],main:function(t,e,r,o,i){var a,l,s=null!=e?e:t.nullContext||{},u=t.hooks.helperMissing,c=t.escapeExpression,f=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div class="profileHeaderInfo__avatar sc-media-image">\n'+(null!=(a=f(r,"if").call(s,null!=e?f(e,"isMe"):e,{name:"if",hash:{},fn:t.program(1,i,0),inverse:t.program(3,i,0),data:i,loc:{start:{line:2,column:2},end:{line:19,column:9}}}))?a:"")+'\n</div>\n<div class="profileHeaderInfo__content sc-media-content">\n  <h3 class="profileHeaderInfo__userName g-type-shrinkwrap-block g-type-shrinkwrap-large-primary">\n    '+c("function"==typeof(l=null!=(l=f(r,"username")||(null!=e?f(e,"username"):e))?l:u)?l.call(s,{name:"username",hash:{},data:i,loc:{start:{line:24,column:4},end:{line:24,column:16}}}):l)+"\n  "+c((n(5)||e&&f(e,"$view")||u).call(s,n(307),{name:"$view",hash:{size:"medium",className:"profileHeaderInfo__verifiedBadge",resource_id:null!=e?f(e,"_resource_id"):e},data:i,loc:{start:{line:25,column:2},end:{line:29,column:4}}}))+"\n  </h3>\n"+(null!=(a=f(r,"if").call(s,null!=e?f(e,"full_name"):e,{name:"if",hash:{},fn:t.program(5,i,0),inverse:t.noop,data:i,loc:{start:{line:31,column:2},end:{line:33,column:9}}}))?a:"")+(null!=(a=f(r,"if").call(s,null!=e?f(e,"_address"):e,{name:"if",hash:{},fn:t.program(7,i,0),inverse:t.noop,data:i,loc:{start:{line:34,column:2},end:{line:36,column:9}}}))?a:"")+'    <h4 class="profileHeaderInfo__additional">\n      '+c((n(5)||e&&f(e,"$view")||u).call(s,n(4025),{name:"$view",hash:{tcode:"t071",resource_id:null!=e?f(e,"_resource_id"):e},data:i,loc:{start:{line:38,column:6},end:{line:38,column:87}}}))+"\n    </h4>\n</div>\n"},useData:!0})},4025:function(t,e,n){var r={pro_unlimited:{title:"Pro Unlimited",cssClass:"sc-status-label-pro-u"},pro:{title:"Pro",cssClass:"sc-status-label-pro"}};t.exports=n(6).extend(n(84).withOptions({type:"pro"}),{className:"creatorBadge",tagName:"a",ModelClass:n(33),requiredAttributes:["badges.pro_unlimited","badges.pro"],defaults:{tcode:null},template:function(){var t=function(t){var e=void 0===t?{}:t,n=e.pro_unlimited,r=e.pro;if(n)return"pro_unlimited";if(r)return"pro";return""}(this.model.get("badges"));if(!t)return"";var e=r[t],o=e.title,i=e.cssClass,a=n(80).getCreatorLink(this.getUpsellRef()),l=a.link,s=a.target;return this.$el.attr({href:l,target:s,title:o}),'\n        <span class="sc-status-label '+i+' sc-status-label-dark sc-ir">\n          '+o+"\n        </span>\n      "},getUpsellRef:function(){return this.options.tcode}})},4026:function(t,e,n){var r=n(8),o=n(4027);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});t.exports=a},4027:function(t,e,n){(e=n(9)(!1)).push([t.i,".profileHeaderInfo__avatar{margin-right:30px}.profileHeaderInfo__details{margin:4px 0 10px}.profileHeaderInfo__additional{margin-top:4px}.profileHeaderInfo__verifiedBadge{position:relative;top:10px}",""]),t.exports=e},4028:function(t,e,n){var r=n(8),o=n(4029);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});t.exports=a},4029:function(t,e,n){(e=n(9)(!1)).push([t.i,".headerImageEditModal__cropper{position:relative}.headerImageEditModal__hint{color:#666;margin-bottom:8px}.headerImageEditModal__previewOverlay{position:absolute;left:0;top:0;bottom:0;right:0;pointer-events:none;-webkit-transform:scale(.68548);transform:scale(.68548);-webkit-transform-origin:0 0;transform-origin:0 0}.headerImageEditModal__previewOverlayUser{padding:30px 30px 0}",""]),t.exports=e},4030:function(t,e,n){(function(e){t.exports=n(804).extend({presign:function(t,e){return n(38).callEndpoint("visualsPolicy",null,{contentType:t.type},null,null,{abort:e}).then((function(t){return t.body}))},uploadFile:function(t,r,o,i){var a=new window.FormData;return n(0).each(r.fields,(function(t,e){a.append(e,t)})),a.append("file",t),e.ajax({url:r.url,type:"POST",data:a,processData:!1,contentType:!1,dataType:"xml",timeout:0,progress:i,abort:o})},resolveWith:function(t){return t.url+t.fields.key}})}).call(this,n(15))},4031:function(t,e,n){t.exports=n(6).extend({template:n(4032),css:n(4034),className:"profileHeaderBackground",ModelClass:n(33),requiredAttributes:["visuals"],events:{"click .profileHeaderBackground__link":function(t){n(12).trackV0Click(["deeplink"])}},states:{visualLoaded:"m-visualLoaded"},getTemplateData:function(t){var e=this.model.hasVisuals()&&this.model.getVisual();return t.visual=e,t.background_url=e&&this.model.getVisualURL(),t.clickthrough_url=e&&e.link,t},renderDecorate:function(){this.model.hasVisuals()&&(r.call(this,this.model.getVisualURL()),n(73).trackEvent("impression",n(0).pick(this.model.get("visuals"),"tracking")))}});function r(t){var e=this;this.addDeferred(n(44).load(t)).then((function(){e.toggleState("visualLoaded",!0)}))}},4032:function(t,e,n){var r=n(11);t.exports=(r.default||r).template({1:function(t,e,n,r,o){var i,a,l=null!=e?e:t.nullContext||{},s=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return(null!=(i=s(n,"if").call(l,null!=e?s(e,"clickthrough_url"):e,{name:"if",hash:{},fn:t.program(2,o,0),inverse:t.noop,data:o,loc:{start:{line:2,column:2},end:{line:4,column:9}}}))?i:"")+'  <div class="profileHeaderBackground__visual" style="background-image: url('+t.escapeExpression("function"==typeof(a=null!=(a=s(n,"background_url")||(null!=e?s(e,"background_url"):e))?a:t.hooks.helperMissing)?a.call(l,{name:"background_url",hash:{},data:o,loc:{start:{line:5,column:76},end:{line:5,column:94}}}):a)+');"></div>\n'},2:function(t,e,n,r,o){var i,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'    <a href="'+t.escapeExpression("function"==typeof(i=null!=(i=a(n,"clickthrough_url")||(null!=e?a(e,"clickthrough_url"):e))?i:t.hooks.helperMissing)?i.call(null!=e?e:t.nullContext||{},{name:"clickthrough_url",hash:{},data:o,loc:{start:{line:3,column:13},end:{line:3,column:33}}}):i)+'" target="_blank" class="profileHeader__link"></a>\n'},4:function(t,e,r,o,i){var a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"  "+t.escapeExpression((n(5)||e&&a(e,"$view")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},n(4033),{name:"$view",hash:{resource_type:"user",resource_id:null!=e?a(e,"_resource_id"):e},data:i,loc:{start:{line:7,column:2},end:{line:7,column:93}}}))+"\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var i,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return null!=(i=a(n,"if").call(null!=e?e:t.nullContext||{},null!=e?a(e,"visual"):e,{name:"if",hash:{},fn:t.program(1,o,0),inverse:t.program(4,o,0),data:o,loc:{start:{line:1,column:0},end:{line:8,column:7}}}))?i:""},useData:!0})},4033:function(t,e,n){t.exports=n(6).extend(n(2207).withOptions({angle:315,colorAdjustment:"muted"}),{ModelClass:n(33),requiredAttributes:[n(33).prototype.imageProperties.read]})},4034:function(t,e,n){var r=n(8),o=n(4035);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});t.exports=a},4035:function(t,e,n){(e=n(9)(!1)).push([t.i,".profileHeaderBackground{position:absolute;top:0;left:0;bottom:0;right:0;background:#e5e5e5}.profileHeaderBackground__visual{position:absolute;top:0;left:0;bottom:0;right:0;background-color:#666;background-size:auto 100%;background-position:0 0;background-repeat:no-repeat;opacity:0;transition:opacity .2s linear}.profileHeaderBackground.m-visualLoaded .profileHeaderBackground__visual{opacity:1}.profileHeader__link{position:absolute;left:230px;right:0;top:0;bottom:0;z-index:1}",""]),t.exports=e},4036:function(t,e,n){t.exports=n(59).extend(n(257),{template:n(4037),css:n(4038),className:"featuredProfiles g-dark",itemClassName:"featuredProfiles__item",Subview:n(4040),_closeTimeout:null,defaults:{userId:null,maxDisplay:0},element2selector:{list:".featuredProfiles__list",scrollContent:".featuredProfiles__wrapper",scrollWrapper:".featuredProfiles__scroll"},states:{expanded:function(t){this.$el.toggleClass("expanded",t),t||this.getElement("scrollContent").scrollTop(0)},populated:"populated"},events:{"click .featuredProfiles__title":"onTitleClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave"},setup:function(t){n(0).bindAll(this,"onMouseEnter","onMouseLeave"),this.collection=new(n(4042))(null,{userId:t.userId})},emptyTemplate:function(){return""},onMouseEnter:function(){window.clearTimeout(this._closeTimeout),this.toggleState("expanded",!0)},onMouseLeave:function(){window.clearTimeout(this._closeTimeout),this._closeTimeout=this.addDeferred(window.setTimeout(this.toggleState.bind(this,"expanded",!1),200))},renderDecorate:function(){var t=this;n(59).prototype.renderDecorate.apply(this,arguments),this.toggleState("populated",this.collection.length),this.collection.length&&this.whenInserted().done((function(){t.setupScrollable(t.getElement("scrollWrapper"),t.getElement("scrollContent"),{hScroll:!1})}))},teardown:function(){this.disposeScrollable()},getModelsToRender:function(){return this.collection.filter((function(t){return"user"===t.get("kind")}))},getTemplateData:function(t){var e=this.collection.groupBy((function(t){return t.get("kind")}));t.userId=this.options.userId,t.hasProfiles=!!e.user},getListContainer:function(){return this.getElement("list")},onTitleClick:function(t){this.toggleState("expanded"),t.preventDefault()}})},4037:function(t,e,n){var r=n(11);t.exports=(r.default||r).template({1:function(t,e,r,o,i){var a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'      <a class="featuredProfiles__title sc-type-small sc-text-small" href="">\n        <span class="sc-icon sc-icon-large sc-icon-user"></span>'+t.escapeExpression((n(3)||e&&a(e,"$t")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"Featured profiles",{name:"$t",hash:{},data:i,loc:{start:{line:5,column:64},end:{line:5,column:90}}}))+'\n      </a>\n      <div class="featuredProfiles__list"></div>\n'},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var i,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div class="featuredProfiles__scroll g-scrollable">\n  <div class="featuredProfiles__wrapper g-scrollable-inner">\n'+(null!=(i=a(n,"if").call(null!=e?e:t.nullContext||{},null!=e?a(e,"hasProfiles"):e,{name:"if",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o,loc:{start:{line:3,column:4},end:{line:8,column:11}}}))?i:"")+"  </div>\n</div>\n"},useData:!0})},4038:function(t,e,n){var r=n(8),o=n(4039);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});t.exports=a},4039:function(t,e,n){(e=n(9)(!1)).push([t.i,".featuredProfiles{display:none;position:absolute;width:100%;height:100%;bottom:0;-webkit-transform:translateY(220px);transform:translateY(220px);right:30px;width:330px;height:260px;background-color:rgba(0,0,0,.8);transition:-webkit-transform .3s ease-out;transition:transform .3s ease-out;transition:transform .3s ease-out,-webkit-transform .3s ease-out;z-index:1}.featuredProfiles.populated{display:block}.featuredProfiles.expanded{-webkit-transform:translateY(0);transform:translateY(0)}@media (max-width:1079px){.featuredProfiles{right:20px}}.featuredProfiles .featuredProfiles__title{display:block;cursor:pointer;margin:5px 10px 10px;color:#fff;outline:0 none;line-height:30px}.featuredProfiles.expanded .featuredProfiles__title{border-bottom:1px solid #000;border-bottom:1px solid var(--font-primary-color);color:#999}.sc-classic .featuredProfiles.expanded .featuredProfiles__title{border-bottom:1px solid #333}.featuredProfiles__scroll{position:absolute;top:0;bottom:0;width:330px}.featuredGroups__list,.featuredProfiles__list{padding:0 10px}.featuredProfiles__item{margin:10px 0;padding-bottom:10px;border-bottom:1px solid #000;border-bottom:1px solid var(--font-primary-color)}.sc-classic .featuredProfiles__item{border-bottom:1px solid #333}.featuredProfiles__item:last-child{border-bottom:0}.featuredProfiles__item:first-child{margin-top:0;padding-top:0}.featuredProfile .groupBadge{padding-top:0}",""]),t.exports=e},4040:function(t,e,n){t.exports=n(6).extend({ModelClass:n(33),template:n(4041),className:"featuredProfile sc-media",requiredAttributes:["permalink"],getTemplateData:function(t){return t.name=t.name||t.username,t.route=t.kind,t}})},4041:function(t,e,n){var r=n(11);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,r,o,i){var a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return t.escapeExpression((n(5)||e&&a(e,"$view")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},n(511),{name:"$view",hash:{dark:!0,resource_id:null!=e?a(e,"_resource_id"):e},data:i,loc:{start:{line:1,column:0},end:{line:1,column:68}}}))+"\n"},useData:!0})},4042:function(t,e,n){t.exports=n(40).extend({model:n(33),defaults:{userId:null},baseUrl:function(){return this.getEndpointUrl("featuredProfiles",{id:this.options.userId})}},{hashFn:function(t,e){return e.userId}})},4043:function(t,e,n){var r=n(8),o=n(4044);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});t.exports=a},4044:function(t,e,n){(e=n(9)(!1)).push([t.i,".profileHeader{position:relative;padding:30px;box-sizing:border-box;overflow:hidden;height:260px}.sc-classic .profileHeader{margin-left:-30px;margin-right:-30px}.profileHeader__info{position:relative;z-index:1}.profileHeader__edit{position:absolute;left:230px;right:0;top:0;bottom:0;z-index:4;padding:30px}.profileHeader__edit .profileHeader__headerImageEditChooser:disabled,.profileHeader__headerImageEditChooser{opacity:0;transition:opacity .2s}.profileHeader__edit:hover .profileHeader__headerImageEditChooser,.profileHeader__headerImageEditChooser.sc-button-active,.profileHeader__headerImageEditChooser:focus,.profileHeader__headerImageEditChooserFirstTime{outline:0;opacity:1}.profileHeader__edit:hover .profileHeader__headerImageEditChooser:disabled,.profileHeader__headerImageEditChooser.sc-button-active:disabled,.profileHeader__headerImageEditChooser:focus:disabled,.profileHeader__headerImageEditChooserFirstTime:disabled{opacity:.5}@media (max-width:1079px){.profileHeader{padding-left:20px;padding-right:20px}.sc-classic .profileHeader{margin-left:-20px;margin-right:-20px}.profileHeader__edit{left:220px;padding-right:20px}}",""]),t.exports=e},4045:function(t,e,n){t.exports=n(6).extend({css:n(4046),template:n(4048),className:"userInfoBar",ModelClass:n(33),defaults:{subpage:"all"}})},4046:function(t,e,n){var r=n(8),o=n(4047);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});t.exports=a},4047:function(t,e,n){(e=n(9)(!1)).push([t.i,".userInfoBar{position:relative;padding-top:15px}.userInfoBar__buttons{position:absolute;right:0;bottom:9px}",""]),t.exports=e},4048:function(t,e,n){var r=n(11);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,r,o,i){var a,l=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u=t.escapeExpression,c=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div class="userInfoBar__tabs">\n  '+u((n(5)||e&&c(e,"$view")||s).call(l,n(4049),{name:"$view",hash:{subpage:null!=(a=null!=e?c(e,"_options"):e)?c(a,"subpage"):a,resource_id:null!=e?c(e,"_resource_id"):e},data:i,loc:{start:{line:2,column:2},end:{line:5,column:4}}}))+'\n</div>\n<div class="userInfoBar__buttons">\n  '+u((n(5)||e&&c(e,"$view")||s).call(l,n(2946),{name:"$view",hash:{resource_id:null!=e?c(e,"_resource_id"):e},data:i,loc:{start:{line:8,column:2},end:{line:8,column:64}}}))+"\n</div>\n"},useData:!0})},4049:function(t,e,n){var r=[{title:n(1).Lingua.t("All"),subpage:"all",getRoute:function(t){return n(22).getRoute("user",t)}},{title:n(1).Lingua.t("Popular tracks"),subpage:"popular-tracks",getRoute:function(t){return n(22).getRoute("user",t,"popular-tracks")}},{title:n(1).Lingua.t("Tracks"),subpage:"tracks",getRoute:function(t){return n(22).getRoute("user",t,"tracks")}},{title:n(1).Lingua.t("Albums"),subpage:"albums",getRoute:function(t){return n(22).getRoute("user",t,"albums")}},{title:n(1).Lingua.t("Playlists"),subpage:"sets",getRoute:function(t){return n(22).getRoute("user",t,"sets")}},{title:n(1).Lingua.t("Reposts"),subpage:"reposts",getRoute:function(t){return n(22).getRoute("user",t,"reposts")}}];t.exports=n(6).extend({ModelClass:n(33),template:n(4050),className:"profileTabs g-tabs g-tabs-medium",tagName:"ul",defaults:{subpage:"all"},getTemplateData:function(t){var e;t.tabs=(e=this.model,r.map((function(t){var n=t.getRoute,r=t.subpage,o=t.title;return{route:n(e),subpage:r,title:o}})));var o=n(0).findWhere(t.tabs,{subpage:this.options.subpage});return o&&(o.isActive=!0),t}})},4050:function(t,e,n){var r=n(11);t.exports=(r.default||r).template({1:function(t,e,r,o,i){var a,l=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u=t.escapeExpression,c=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'  <li class="g-tabs-item">\n    <a class="g-tabs-link'+u((n(29)||e&&c(e,"$if")||s).call(l,null!=e?c(e,"isActive"):e," active",{name:"$if",hash:{},data:i,loc:{start:{line:3,column:25},end:{line:3,column:51}}}))+'" href="'+u("function"==typeof(a=null!=(a=c(r,"route")||(null!=e?c(e,"route"):e))?a:s)?a.call(l,{name:"route",hash:{},data:i,loc:{start:{line:3,column:59},end:{line:3,column:68}}}):a)+'" rel="nofollow">\n      '+u("function"==typeof(a=null!=(a=c(r,"title")||(null!=e?c(e,"title"):e))?a:s)?a.call(l,{name:"title",hash:{},data:i,loc:{start:{line:4,column:6},end:{line:4,column:15}}}):a)+"\n    </a>\n  </li>\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var i,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return null!=(i=a(n,"each").call(null!=e?e:t.nullContext||{},null!=e?a(e,"tabs"):e,{name:"each",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o,loc:{start:{line:1,column:0},end:{line:7,column:9}}}))?i:""},useData:!0})},4051:function(t,e,n){t.exports=n(6).extend(n(70),{className:"sc-button-edit editProfileButton",css:n(4052),ModelClass:n(118),defaults:{title:n(1).Lingua.t("Edit"),allPossibleLabels:[n(1).Lingua.t("Edit")],hideLabelOnSmallScreen:!1},buttonLabels:{default:n(1).Lingua.t("Edit")},onClick:function(){n(12).trackV1Click({click_name:"profile_edit::open",click_category:"profile_edit",click_object:this.model.get("urn")});var t=new(n(4054))({togglerEl:this.el});t.on(n(47).Events.CLOSED,t._dispose,t),t.open()},renderDecorate:function(){this.$el.toggleClass("editProfileButton--hiddenLabelOnSmallScreen",this.options.hideLabelOnSmallScreen)}})},4052:function(t,e,n){var r=n(8),o=n(4053);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});t.exports=a},4053:function(t,e,n){(e=n(9)(!1)).push([t.i,"@media (max-width:1079px){.editProfileButton--hiddenLabelOnSmallScreen .sc-button-alt-labels{display:none}}",""]),t.exports=e},4054:function(t,e,n){t.exports=n(47).extend({defaults:{Subview:n(4055),width:850},setup:function(){n(47).prototype.setup.apply(this,arguments),this.form=new(n(742)),this.listenTo(this,n(47).Events.CLOSED,this.onClosed).listenTo(this.form,"saved",this.onSaved).listenTo(this.form,"canceled",this.onCanceled)},dispose:function(){n(47).prototype.dispose.apply(this,arguments),this.form.release(),this.form=null},onClosed:function(){this.form.isDirty()&&this.form.cancelEdits()},onCanceled:function(){this.close()},onSaved:function(){this.close()}})},4055:function(t,e,n){t.exports=n(6).extend(n(754),{template:n(4056),css:n(4066),className:"profileSettings",states:{showPermalinkWarning:"m-showPermalinkWarning"},element2selector:{currentPermalink:".profileSettings__currentPermalink"},setup:function(){this.model=new(n(742)),this.me=this.addDataSource(n(4).get("me"),{requiredAttributes:["confirmed"]}),this.me.hold(),this.listenTo(this.model,"change:permalink",i).listenTo(this.model,"saved",o).listenTo(this.me,"change:confirmed",r)},getTemplateData:function(t){return t.meId=this.me.id,t.feedsUrl=this.me.getRSSFeedUrl(),t},renderDecorate:function(){a.call(this),r.call(this)}});function r(){this.model.setFieldDisabled("description",!this.me.isConfirmed()),this.model.setFieldDisabled("web-profiles",!this.me.isConfirmed())}function o(){var t=n(4).get("me");n(12).trackV1Click({click_name:"user_metadata:update",click_category:"profile_edit",click_object:t.getUrn()}),this.toggleState("showPermalinkWarning",!1)}function i(){a.call(this),this.toggleState("showPermalinkWarning",n(4).get("me").get("permalink")!==this.model.get("permalink"))}function a(){this.getElement("currentPermalink").text(n(4).get("me").get("permalink"))}},4056:function(t,e,n){var r=n(11);t.exports=(r.default||r).template({1:function(t,e,r,o,i){var a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"      "+t.escapeExpression((n(3)||e&&a(e,"$t")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"Add links to your website and social network profiles to help your audience find you wherever you are.",{name:"$t",hash:{},data:i,loc:{start:{line:80,column:6},end:{line:80,column:117}}}))+"\n"},compiler:[8,">= 4.3.0"],main:function(t,e,r,o,i){var a,l=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u=t.escapeExpression,c=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<h2 class="g-modal-title-h1 sc-truncate">'+u((n(3)||e&&c(e,"$t")||s).call(l,"Edit your Profile",{name:"$t",hash:{},data:i,loc:{start:{line:1,column:41},end:{line:1,column:67}}}))+'</h2>\n<div class="profileSettings__form">\n  <div class="sc-media">\n    <div class="profileSettings__avatar sc-media-image">\n      '+u((n(5)||e&&c(e,"$view")||s).call(l,n(761),{name:"$view",hash:{deleteImageAutomatically:!1,uploadImageAutomatically:!1,resource_type:null!=e?c(e,"_resource_type"):e,resource_id:null!=e?c(e,"_resource_id"):e},data:i,loc:{start:{line:5,column:6},end:{line:10,column:8}}}))+'\n    </div>\n    <div class="profileSettings__baseFields sc-media-content">\n      <div class="profileSettings__cell m-fullWidth">\n        '+u((n(5)||e&&c(e,"$view")||s).call(l,n(31),{name:"$view",hash:{size:"large",label:(n(3)||e&&c(e,"$t")||s).call(l,"Display name",{name:"$t",hash:{},data:i,loc:{start:{line:18,column:16},end:{line:18,column:35}}}),field:"username",resource_type:null!=e?c(e,"_resource_type"):e,resource_id:null!=e?c(e,"_resource_id"):e,Form:n(742)},data:i,loc:{start:{line:14,column:8},end:{line:20,column:10}}}))+'\n      </div>\n      <div class="profileSettings__permalinkControl profileSettings__cell m-fullWidth">\n        '+u((n(5)||e&&c(e,"$view")||s).call(l,n(816),{name:"$view",hash:{permalinkType:"user",label:(n(3)||e&&c(e,"$t")||s).call(l,"Profile URL",{name:"$t",hash:{},data:i,loc:{start:{line:29,column:16},end:{line:29,column:34}}}),field:"permalink",size:"medium",showLabel:!0,resource_type:null!=e?c(e,"_resource_type"):e,resource_id:null!=e?c(e,"_resource_id"):e,Form:n(742)},data:i,loc:{start:{line:23,column:8},end:{line:31,column:10}}}))+'\n      </div>\n      <div class="profileSettings__cell">\n        '+u((n(5)||e&&c(e,"$view")||s).call(l,n(31),{name:"$view",hash:{label:(n(3)||e&&c(e,"$t")||s).call(l,"First name",{name:"$t",hash:{},data:i,loc:{start:{line:38,column:16},end:{line:38,column:33}}}),field:"first_name",resource_type:null!=e?c(e,"_resource_type"):e,resource_id:null!=e?c(e,"_resource_id"):e,Form:n(742)},data:i,loc:{start:{line:34,column:8},end:{line:39,column:10}}}))+'\n      </div>\n      <div class="profileSettings__cell">\n        '+u((n(5)||e&&c(e,"$view")||s).call(l,n(31),{name:"$view",hash:{label:(n(3)||e&&c(e,"$t")||s).call(l,"Last name",{name:"$t",hash:{},data:i,loc:{start:{line:46,column:16},end:{line:46,column:32}}}),field:"last_name",resource_type:null!=e?c(e,"_resource_type"):e,resource_id:null!=e?c(e,"_resource_id"):e,Form:n(742)},data:i,loc:{start:{line:42,column:8},end:{line:47,column:10}}}))+'\n      </div>\n      <div class="profileSettings__cell">\n        '+u((n(5)||e&&c(e,"$view")||s).call(l,n(31),{name:"$view",hash:{label:(n(3)||e&&c(e,"$t")||s).call(l,"City",{name:"$t",hash:{},data:i,loc:{start:{line:54,column:16},end:{line:54,column:27}}}),field:"city",resource_type:null!=e?c(e,"_resource_type"):e,resource_id:null!=e?c(e,"_resource_id"):e,Form:n(742)},data:i,loc:{start:{line:50,column:8},end:{line:55,column:10}}}))+'\n      </div>\n      <div class="profileSettings__cell">\n        '+u((n(5)||e&&c(e,"$view")||s).call(l,n(781),{name:"$view",hash:{label:(n(3)||e&&c(e,"$t")||s).call(l,"Country",{name:"$t",hash:{_comment:"Not the music genre",_context:"Country"},data:i,loc:{start:{line:62,column:16},end:{line:62,column:80}}}),field:"country_code",resource_type:null!=e?c(e,"_resource_type"):e,resource_id:null!=e?c(e,"_resource_id"):e,Form:n(742)},data:i,loc:{start:{line:58,column:8},end:{line:63,column:10}}}))+'\n      </div>\n      <div class="profileSettings__cell m-fullWidth">\n        '+u((n(5)||e&&c(e,"$view")||s).call(l,n(546),{name:"$view",hash:{className:"profileSettings__description",placeholder:(n(3)||e&&c(e,"$t")||s).call(l,"Tell the world a little bit about yourself. The shorter the better.",{name:"$t",hash:{},data:i,loc:{start:{line:71,column:22},end:{line:71,column:96}}}),label:(n(3)||e&&c(e,"$t")||s).call(l,"Bio",{name:"$t",hash:{_comment:"Short for 'Biography'"},data:i,loc:{start:{line:70,column:16},end:{line:70,column:59}}}),field:"description",resource_type:null!=e?c(e,"_resource_type"):e,resource_id:null!=e?c(e,"_resource_id"):e,Form:n(742)},data:i,loc:{start:{line:66,column:8},end:{line:73,column:10}}}))+'\n      </div>\n    </div>\n  </div>\n  <div class="g-form-section-head">\n    <h3 class="g-form-section-title">'+u((n(3)||e&&c(e,"$t")||s).call(l,"Your links",{name:"$t",hash:{},data:i,loc:{start:{line:78,column:37},end:{line:78,column:56}}}))+"</h3>\n"+(null!=(a=(n(5)||e&&c(e,"$view")||s).call(l,n(377),{name:"$view",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i,loc:{start:{line:79,column:4},end:{line:81,column:14}}}))?a:"")+'  </div>\n  <div class="profileSettings__webProfiles">\n    '+u((n(5)||e&&c(e,"$view")||s).call(l,n(4057),{name:"$view",hash:{resource_id:null!=e?c(e,"meId"):e},data:i,loc:{start:{line:84,column:4},end:{line:84,column:60}}}))+'\n  </div>\n  <div class="profileSettings__formButtons sc-button-toolbar sc-border-light-top">\n    <div class="profileSettings__permalinkWarning sc-text-light sc-text-secondary">\n      '+u((n(3)||e&&c(e,"$t")||s).call(l,"[[[strongStart]]]Please note:[[[strongEnd]]]You’re about to replace your old URL [[[scTextSpanStart]]]soundcloud.com/[[[permalinkSpanStart]]][[[spanEnd]]][[[spanEnd]]]. This will affect all links you’ve already posted outside of SoundCloud. Make sure you don’t forget to update these too.",{name:"$t",hash:{spanEnd:"</span>",permalinkSpanStart:'<span class="profileSettings__currentPermalink">',scTextSpanStart:'<span class="sc-text sc-text-primary">',strongEnd:"</strong>",strongStart:'<strong class="sc-text sc-text-primary">'},data:i,loc:{start:{line:88,column:6},end:{line:93,column:25}}}))+"\n    </div>\n    "+u((n(5)||e&&c(e,"$view")||s).call(l,n(117),{name:"$view",hash:{size:"medium",button:"cancel",noStyle:!0,resource_type:null!=e?c(e,"_resource_type"):e,resource_id:null!=e?c(e,"_resource_id"):e,Form:n(742)},data:i,loc:{start:{line:95,column:4},end:{line:101,column:6}}}))+"\n    "+u((n(5)||e&&c(e,"$view")||s).call(l,n(117),{name:"$view",hash:{size:"medium",button:"save",className:"sc-button-cta sc-button-primary",resource_type:null!=e?c(e,"_resource_type"):e,resource_id:null!=e?c(e,"_resource_id"):e,Form:n(742)},data:i,loc:{start:{line:102,column:4},end:{line:108,column:6}}}))+"\n  </div>\n</div>\n"},useData:!0})},4057:function(t,e,n){function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}t.exports=n(59).extend(n(132).withOptions({names:["v2_direct_support_link"]}),{css:n(4058),template:n(4060),Subview:n(4061),tagName:"div",className:"webProfilesControl",itemClassName:"webProfilesControl__item",element2selector:{list:".webProfilesControl__list",addLinkButton:".webProfilesControl__add",addSupportLinkButton:".webProfilesControl__addSupportLink",maxLinksMessage:".webProfilesControl__maxLinksMessage"},events:{"click .webProfilesControl__add":"onAddClick","click .webProfilesControl__addSupportLink":"onAddSupportLinkClick"},defaults:{maxDisplay:0,resource_id:null,limit:10},states:{reachedMaxWebprofiles:"reachedMaxWebprofiles"},setup:function(t){this.collection=new(n(805))(null,{userId:t.resource_id}),this.collection.setLimit(50),this.me=this.addDataSource(n(4).get("me"),{requiredAttributes:["confirmed"]}),this.me.hold(),this.listenTo(this.collection,"add remove change",this.onCollectionAddedChanged).listenTo(this.collection,"deleted",o)},getTemplateData:function(t){return t.shouldShowAddSupportLink=this.hasFeature("v2_direct_support_link"),t},renderDecorate:function(){n(59).prototype.renderDecorate.call(this,arguments),i.call(this)},onAddClick:function(){this.collection.add(a()),this.collection.trigger("form:dirty")},onAddSupportLinkClick:function(){this.collection.add(r({},a(),{network:"support"})),this.collection.trigger("form:dirty")},getListContainer:function(){return this.getElement("list")},onCollectionAddedChanged:function(){i.call(this)}});function o(t){var e=this.getListItemView(t.form);e&&this.getSubviewWrapper(e).hide()}function i(){var t=this.collection.length>=this.options.limit,e=this.me.isConfirmed(),n=!!this.collection.find((function(t){return t.isSupportLink()}));this.getElement("addLinkButton").attr("disabled",t||!e),this.getElement("addSupportLinkButton").attr("disabled",n||t||!e),this.getElement("maxLinksMessage").toggleClass("g-input-validation-hidden",!t),this.toggleState("reachedMaxWebprofiles",t)}function a(){return{id:n(0).uniqueId("web-profile_")}}},4058:function(t,e,n){var r=n(8),o=n(4059);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});t.exports=a},4059:function(t,e,n){(e=n(9)(!1)).push([t.i,".webProfilesControl__item{margin-bottom:18px}.webProfilesControl__maxLinksMessage{margin-left:5px;display:inline-block}",""]),t.exports=e},4060:function(t,e,n){var r=n(11);t.exports=(r.default||r).template({1:function(t,e,r,o,i){var a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<button\n  type="button"\n  class="webProfilesControl__addSupportLink sc-button sc-button-medium sc-button-cta sc-button-primary"\n>\n  '+t.escapeExpression((n(3)||e&&a(e,"$t")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"Add support link",{name:"$t",hash:{},data:i,loc:{start:{line:13,column:2},end:{line:13,column:27}}}))+"\n</button>\n"},compiler:[8,">= 4.3.0"],main:function(t,e,r,o,i){var a,l=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u=t.escapeExpression,c=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div class="webProfilesControl__list"></div>\n<button\n  type="button"\n  class="webProfilesControl__add sc-button sc-button-medium"\n>\n  '+u((n(3)||e&&c(e,"$t")||s).call(l,"Add link",{name:"$t",hash:{},data:i,loc:{start:{line:6,column:2},end:{line:6,column:19}}}))+"\n</button>\n"+(null!=(a=c(r,"if").call(l,null!=e?c(e,"shouldShowAddSupportLink"):e,{name:"if",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i,loc:{start:{line:8,column:0},end:{line:15,column:7}}}))?a:"")+'<span \n  class="webProfilesControl__maxLinksMessage g-input-validation g-input-validation-hidden"\n>\n  '+u((n(3)||e&&c(e,"$t")||s).call(l,"A maximum of 10 links can be added to your profile.",{name:"$t",hash:{},data:i,loc:{start:{line:19,column:2},end:{line:19,column:62}}}))+"\n</span>\n"},useData:!0})},4061:function(t,e,n){t.exports=n(6).extend({template:n(4062),css:n(4064),className:"webProfileControl sc-media",events:{"click .webProfileControl__remove":function(){this.model.removeWebProfile()}},element2selector:{removeButton:".webProfileControl__remove"},ModelClass:n(755),setup:function(){this.me=this.addDataSource(n(4).get("me"),{requiredAttributes:["confirmed"]}),this.me.hold()},getTemplateData:function(t){return t.isSupportLink=this.model.isSupportLink(),t},renderDecorate:function(){var t=this;r.call(this),this.model.get("url")||this.whenInserted().done((function(){t.subviews.url.focus()}))}});function r(){var t=this.me.isConfirmed();this.model.setFieldDisabled(["title","url"],!t),this.getElement("removeButton").attr("disabled",!t)}},4062:function(t,e,n){var r=n(11);t.exports=(r.default||r).template({1:function(t,e,r,o,i){var a,l=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'        <div class="webProfileControl__hintWrapper">\n'+(null!=(a=(n(5)||e&&l(e,"$view")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},n(377),{name:"$view",hash:{},fn:t.program(2,i,0),inverse:t.noop,data:i,loc:{start:{line:22,column:10},end:{line:29,column:20}}}))?a:"")+"        </div>\n"},2:function(t,e,r,o,i){var a=null!=e?e:t.nullContext||{},l=t.hooks.helperMissing,s=t.escapeExpression,u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"            <p>\n              "+s((n(3)||e&&u(e,"$t")||l).call(a,"Support Links are a single link that you add to your profile in order to highlight an app or site where you would like to direct supporters who want to chip in and provide some financial relief for you, if you choose to activate it.",{name:"$t",hash:{},data:i,loc:{start:{line:24,column:14},end:{line:24,column:255}}}))+'\n            </p>\n            <p>\n              <a href="https://help.soundcloud.com/hc/articles/360045363454" target="_blank">'+s((n(3)||e&&u(e,"$t")||l).call(a,"Learn more",{name:"$t",hash:{},data:i,loc:{start:{line:27,column:93},end:{line:27,column:112}}}))+"</a>\n            </p>\n"},4:function(t,e,r,o,i){var a=null!=e?e:t.nullContext||{},l=t.hooks.helperMissing,s=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"        "+t.escapeExpression((n(5)||e&&s(e,"$view")||l).call(a,n(31),{name:"$view",hash:{placeholder:(n(3)||e&&s(e,"$t")||l).call(a,"Short title",{name:"$t",hash:{_comment:"placeholder for input with title of a link by user"},data:i,loc:{start:{line:37,column:22},end:{line:37,column:102}}}),field:"title",className:"webProfileControl__title",Form:n(755),resource_id:null!=e?s(e,"id"):e},data:i,loc:{start:{line:32,column:8},end:{line:38,column:10}}}))+"\n"},6:function(t,e,r,o,i){var a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'      <div class="webProfileControl__supportLinkDescription sc-type-light sc-text-secondary">\n        '+t.escapeExpression((n(3)||e&&a(e,"$t")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"Supported platforms: PayPal, Cash app, Venmo, Bandcamp, Shopify, Kickstarter, Patreon, and Gofundme. [[[link]]]Learn more[[[linkEnd]]]",{name:"$t",hash:{linkEnd:"</a>",link:'<a href="https://help.soundcloud.com/hc/articles/360045363454" target="_blank">'},data:i,loc:{start:{line:43,column:8},end:{line:46,column:10}}}))+"\n      </div>\n"},compiler:[8,">= 4.3.0"],main:function(t,e,r,o,i){var a,l=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u=t.escapeExpression,c=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div class="webProfileControl__wrapper g-flex-row">\n  '+u((n(5)||e&&c(e,"$view")||s).call(l,n(4063),{name:"$view",hash:{field:"icon",Form:n(755),resource_id:null!=e?c(e,"id"):e},data:i,loc:{start:{line:2,column:2},end:{line:6,column:4}}}))+'\n  <div class="g-flex-one">\n    <div class="sc-media-content g-flex-row">\n      '+u((n(5)||e&&c(e,"$view")||s).call(l,n(31),{name:"$view",hash:{key:"url",placeholder:(n(3)||e&&c(e,"$t")||s).call(l,(n(198)||e&&c(e,"$ternary")||s).call(l,null!=e?c(e,"isSupportLink"):e,"e.g.: https://paypal.me/username","Web or email address",{name:"$ternary",hash:{},data:i,loc:{start:{line:15,column:10},end:{line:15,column:92}}}),{name:"$t",hash:{_comment:"placeholder for input with a URL or Email by user"},data:i,loc:{start:{line:14,column:20},end:{line:17,column:9}}}),field:"url",className:(n(198)||e&&c(e,"$ternary")||s).call(l,null!=e?c(e,"isSupportLink"):e,"webProfileControl__url m-fullWidth","webProfileControl__url",{name:"$ternary",hash:{},data:i,loc:{start:{line:12,column:18},end:{line:12,column:104}}}),Form:n(755),resource_id:null!=e?c(e,"id"):e},data:i,loc:{start:{line:9,column:6},end:{line:19,column:8}}}))+"\n"+(null!=(a=c(r,"if").call(l,null!=e?c(e,"isSupportLink"):e,{name:"if",hash:{},fn:t.program(1,i,0),inverse:t.program(4,i,0),data:i,loc:{start:{line:20,column:6},end:{line:39,column:13}}}))?a:"")+"    </div>\n"+(null!=(a=c(r,"if").call(l,null!=e?c(e,"isSupportLink"):e,{name:"if",hash:{},fn:t.program(6,i,0),inverse:t.noop,data:i,loc:{start:{line:41,column:4},end:{line:48,column:11}}}))?a:"")+'  </div>\n  <button type="button" class="webProfileControl__remove sc-button sc-button-medium sc-button-delete sc-button-icon">\n    '+u((n(3)||e&&c(e,"$t")||s).call(l,"Remove link",{name:"$t",hash:{},data:i,loc:{start:{line:51,column:4},end:{line:51,column:24}}}))+"\n  </button>\n</div>\n"},useData:!0})},4063:function(t,e,n){t.exports=n(6).extend(n(86),{tagName:"span",renderDecorate:function(){var t=this.form.get("icon"),e=this.form.isSupportLink()?"webProfileControl__supportIcon":t?"sc-social-logo sc-social-logo-square sc-social-logo-"+t:"webProfileControl__emptyIcon";this.$el.removeClass().addClass("webProfileControl__icon sc-media-image "+e).text("")},onFieldChange:function(){this.rerender()}})},4064:function(t,e,n){var r=n(8),o=n(4065);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});t.exports=a},4065:function(t,e,n){var r=n(9),o=n(34),i=n(2319);e=r(!1);var a=o(i);e.push([t.i,".webProfileControl__icon{margin:5px 8px 0 0;width:16px;height:16px;box-sizing:border-box}.webProfileControl__emptyIcon{background-color:#f4f4f4}.webProfileControl__supportIcon{background-color:#38d;background-image:url("+a+");background-position:50%;background-repeat:no-repeat}.webProfileControl__url{width:66.666%}.webProfileControl__url.m-fullWidth{width:auto;-webkit-flex:1 0 auto;flex:1 0 auto}.webProfileControl__title{width:33.333%}.webProfileControl__title,.webProfileControl__url{margin:0 8px 0 0}.webProfileControl__hintWrapper{width:auto;height:26px;display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;margin-right:10px}.webProfileControl__supportLinkDescription{margin:6px 0 5px}",""]),t.exports=e},4066:function(t,e,n){var r=n(8),o=n(4067);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});t.exports=a},4067:function(t,e,n){(e=n(9)(!1)).push([t.i,".profileSettings__emailBanner{margin:-25px -25px 0;padding-bottom:7px}.profileSettings__avatar{margin-right:18px}.profileSettings__baseFields{display:-webkit-flex;display:flex;-webkit-justify-content:space-between;justify-content:space-between;-webkit-flex-wrap:wrap;flex-wrap:wrap}.profileSettings__baseFields .textfield{margin:0}.profileSettings__cell{margin-bottom:15px;width:48.9%}.profileSettings__cell.m-fullWidth{width:100%}.profileSettings__permalinkControl{margin:4px 0 12px}.profileSettings.m-showPermalinkWarning .profileSettings__permalinkWarning{display:block}.profileSettings__description textarea{height:66px}.profileSettings__description textarea:disabled{background-color:#f2f2f2;border-color:#e5e5e5;color:#ccc;cursor:default;resize:none}.profileSettings__description textarea:disabled::-webkit-input-placeholder{color:#ccc}.profileSettings__description textarea:disabled::-moz-placeholder{color:#ccc}.profileSettings__description textarea:disabled:-ms-input-placeholder{color:#ccc}.profileSettings__description textarea:disabled::-ms-input-placeholder{color:#ccc}.profileSettings__description textarea:disabled::placeholder{color:#ccc}.profileSettings__webProfiles{margin:18px 0}.profileSettings__formButtons{padding:20px 25px 0;margin:0 -25px;position:relative;display:-webkit-flex;display:flex;-webkit-justify-content:flex-end;justify-content:flex-end}.profileSettings__permalinkWarning{display:none;line-height:1.6}",""]),t.exports=e},4068:function(t,e,n){var r=n(1).Lingua.t("More");t.exports=n(111).extend({className:"sc-button-more",defaults:{ContentViewClass:n(4069),contentViewArgs:{size:"medium",includeStationShare:!0},overlayType:"dropdown",overlayOptions:{anchor:"left top",relativeElementAnchor:"left bottom"}},buttonLabels:{default:r,selected:{text:r,title:r}}})},4069:function(t,e,n){t.exports=n(6).extend(n(397),{ModelClass:n(33),defaults:{size:"medium"},getTemplateData:function(){return{items:[[r.call(this,n(2272),{showUserName:!0}),r.call(this,n(2355),{showUserName:!0})]]}},getModelData:function(){return{}}});function r(t,e){var r=this.options.size,o=this.model.id;return{args:n(0).assign({className:"moreActions__button m-noIcon sc-button-"+r,size:r,resource_id:o,resource_type:"user",isScButton:!1,icon_only:!1,selectedClass:"sc-button-selected"},e),View:t}}},4070:function(t,e,n){t.exports=n(6).extend({template:n(4071),css:n(4114),ModelClass:n(33),className:"userMain",defaults:{subpage:"all"},getTemplateData:function(t){var e=n(4).get("me");return t["show_"+this.options.subpage]=!0,t.showUploadFooter=this.model.isMe()&&e.hasOwnSounds(),t}})},4071:function(t,e,n){var r=n(11);t.exports=(r.default||r).template({1:function(t,e,r,o,i){var a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"  "+t.escapeExpression((n(5)||e&&a(e,"$view")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},n(4072),{name:"$view",hash:{resource_id:null!=e?a(e,"_resource_id"):e},data:i,loc:{start:{line:2,column:2},end:{line:2,column:65}}}))+"\n"},3:function(t,e,r,o,i){var a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"    "+t.escapeExpression((n(5)||e&&a(e,"$view")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},n(4076),{name:"$view",hash:{showUploadFooter:null!=e?a(e,"showUploadFooter"):e,showEndView:!0,resource_id:null!=e?a(e,"_resource_id"):e},data:i,loc:{start:{line:7,column:4},end:{line:7,column:109}}}))+"\n"},5:function(t,e,r,o,i){var a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"    "+t.escapeExpression((n(5)||e&&a(e,"$view")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},n(2334),{name:"$view",hash:{showUploadFooter:null!=e?a(e,"showUploadFooter"):e,resource_id:null!=e?a(e,"_resource_id"):e},data:i,loc:{start:{line:10,column:4},end:{line:10,column:105}}}))+"\n"},7:function(t,e,r,o,i){var a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"    "+t.escapeExpression((n(5)||e&&a(e,"$view")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},n(4107),{name:"$view",hash:{showUploadFooter:null!=e?a(e,"showUploadFooter"):e,_id:null!=e?a(e,"_resource_id"):e},data:i,loc:{start:{line:13,column:4},end:{line:13,column:105}}}))+"\n"},9:function(t,e,r,o,i){var a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"    "+t.escapeExpression((n(5)||e&&a(e,"$view")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},n(4109),{name:"$view",hash:{resource_id:null!=e?a(e,"_resource_id"):e},data:i,loc:{start:{line:16,column:4},end:{line:16,column:71}}}))+"\n"},11:function(t,e,r,o,i){var a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"    "+t.escapeExpression((n(5)||e&&a(e,"$view")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},n(2870),{name:"$view",hash:{resource_id:null!=e?a(e,"_resource_id"):e},data:i,loc:{start:{line:19,column:4},end:{line:19,column:69}}}))+"\n"},13:function(t,e,r,o,i){var a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"    "+t.escapeExpression((n(5)||e&&a(e,"$view")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},n(4112),{name:"$view",hash:{resource_id:null!=e?a(e,"_resource_id"):e},data:i,loc:{start:{line:22,column:4},end:{line:22,column:59}}}))+"\n"},compiler:[8,">= 4.3.0"],main:function(t,e,r,o,i){var a,l=null!=e?e:t.nullContext||{},s=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return(null!=(a=(n(5)||e&&s(e,"$view")||t.hooks.helperMissing).call(l,n(2217),{name:"$view",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i,loc:{start:{line:1,column:0},end:{line:3,column:10}}}))?a:"")+'\n<div class="userMain__content">\n'+(null!=(a=s(r,"if").call(l,null!=e?s(e,"show_all"):e,{name:"if",hash:{},fn:t.program(3,i,0),inverse:t.noop,data:i,loc:{start:{line:6,column:2},end:{line:8,column:9}}}))?a:"")+(null!=(a=s(r,"if").call(l,null!=e?s(e,"show_tracks"):e,{name:"if",hash:{},fn:t.program(5,i,0),inverse:t.noop,data:i,loc:{start:{line:9,column:2},end:{line:11,column:9}}}))?a:"")+(null!=(a=s(r,"if").call(l,null!=e?s(e,"show_popular-tracks"):e,{name:"if",hash:{},fn:t.program(7,i,0),inverse:t.noop,data:i,loc:{start:{line:12,column:2},end:{line:14,column:9}}}))?a:"")+(null!=(a=s(r,"if").call(l,null!=e?s(e,"show_albums"):e,{name:"if",hash:{},fn:t.program(9,i,0),inverse:t.noop,data:i,loc:{start:{line:15,column:2},end:{line:17,column:9}}}))?a:"")+(null!=(a=s(r,"if").call(l,null!=e?s(e,"show_sets"):e,{name:"if",hash:{},fn:t.program(11,i,0),inverse:t.noop,data:i,loc:{start:{line:18,column:2},end:{line:20,column:9}}}))?a:"")+(null!=(a=s(r,"if").call(l,null!=e?s(e,"show_reposts"):e,{name:"if",hash:{},fn:t.program(13,i,0),inverse:t.noop,data:i,loc:{start:{line:21,column:2},end:{line:23,column:9}}}))?a:"")+"</div>\n"},useData:!0})},4072:function(t,e,n){(function(e){t.exports=n(6).extend({template:n(4073),css:n(4074),className:"userDropbar sc-media sc-border-light-bottom",ModelClass:n(33),requiredAttributes:["username"],events:{"click .userDropbar__title":function(t){e("body,html").animate({scrollTop:0},{duration:300})}}})}).call(this,n(15))},4073:function(t,e,n){var r=n(11);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,r,o,i){var a,l=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u=t.escapeExpression,c=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div class="sc-media-image">\n  '+u((n(5)||e&&c(e,"$view")||s).call(l,n(87),{name:"$view",hash:{size:30,resource_type:null!=e?c(e,"_resource_type"):e,resource_id:null!=e?c(e,"_resource_id"):e},data:i,loc:{start:{line:2,column:2},end:{line:6,column:4}}}))+'\n</div>\n<div class="userDropbar__buttons sc-media-extra">\n  '+u((n(5)||e&&c(e,"$view")||s).call(l,n(2946),{name:"$view",hash:{resource_id:null!=e?c(e,"_resource_id"):e},data:i,loc:{start:{line:9,column:2},end:{line:9,column:64}}}))+'\n</div>\n<div class="sc-media-content">\n  <h2 class="userDropbar__title sc-truncate">\n    '+u("function"==typeof(a=null!=(a=c(r,"username")||(null!=e?c(e,"username"):e))?a:s)?a.call(l,{name:"username",hash:{},data:i,loc:{start:{line:13,column:4},end:{line:13,column:16}}}):a)+"\n    "+u((n(5)||e&&c(e,"$view")||s).call(l,n(307),{name:"$view",hash:{className:"userDropbar__verifiedBadge",size:"medium",resource_id:null!=e?c(e,"_resource_id"):e},data:i,loc:{start:{line:14,column:4},end:{line:14,column:126}}}))+"\n  </h2>\n</div>\n"},useData:!0})},4074:function(t,e,n){var r=n(8),o=n(4075);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});t.exports=a},4075:function(t,e,n){(e=n(9)(!1)).push([t.i,".userDropbar{padding:22px 0 10px}.userDropbar__title{font-size:24px;line-height:1.3;cursor:pointer}.userDropbar__buttons{margin-top:2px}.userDropbar__verifiedBadge{position:relative;top:8px}",""]),t.exports=e},4076:function(t,e,n){t.exports=n(116).extend(n(289),n(37).withOptions("userStream"),{Subview:n(2871),template:n(4081),css:[n(2164),n(2158),n(4104)],emptyTemplate:n(2160),tagName:"div",className:"userStream",listClassName:"soundList sc-list-nostyle",itemClassName:"soundList__item",element2selector:{list:".userStream__list"},animations:{remove:{delay:0}},defaults:{showEndView:!0,initialPageSize:5,pageSize:10,showUploadFooter:!1},events:{"click .emptyNetworkPage__button > a":function(){n(12).trackUploadFunnel({chapter:"upload_button_user_profile"})}},setup:function(t){var e=t.resource_id,r=t.showUploadFooter;this.collection=new(n(4106))(null,{userId:e}),this.collection.setLimit(20),this.user=this.addDataSource(new(n(33))({id:e}),{requiredAttributes:["username"]}),r&&(this.EndOfListView=n(2259))},onAdd:function(t,e,o){r(t)&&n(116).prototype.onAdd.call(this,t,e,o)},getTemplateData:function(t){return this.user.isMe()?(t.message=n(1).Lingua.t("Seems a little quiet over here"),t.linkUrl=t.buttonUrl=n(22).getRoute("upload"),t.linkText=n(1).Lingua.t("Upload a track to share it with your followers."),t.buttonText=n(1).Lingua.t("Upload now")):(t.message=n(1).Lingua.t("Nothing to hear here"),t.subheaderMessage=n(1).Lingua.t("Follow [[username]] for updates on sounds they share in the future.",{username:this.user.get("username")})),t.emptyPageClass="emptyStream",t},getListContainer:function(){return this.getElement("list")},getModelsToRender:function(){return this.collection.filter(r)},getSubviewArgs:function(t){return{userStreamItem:t,userId:this.options.resource_id}}});function r(t){return!t.isSpotlight()}},4077:function(t,e,n){var r=n(11);t.exports=(r.default||r).template({1:function(t,e,r,o,i){var a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"  "+t.escapeExpression((n(5)||e&&a(e,"$view")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},n(4078),{name:"$view",hash:{stream_owner_id:null!=e?a(e,"user_id"):e,resource_type:null!=e?a(e,"_resource_id"):e,resource_id:null!=e?a(e,"_resource_id"):e},data:i,loc:{start:{line:11,column:2},end:{line:11,column:120}}}))+"\n"},compiler:[8,">= 4.3.0"],main:function(t,e,r,o,i){var a,l=null!=e?e:t.nullContext||{},s=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return t.escapeExpression((n(5)||e&&s(e,"$view")||t.hooks.helperMissing).call(l,n(376),{name:"$view",hash:{time_display_prefix:null!=e?s(e,"time_display_prefix"):e,time_to_show:null!=e?s(e,"time_to_show"):e,actionType:null!=e?s(e,"actionType"):e,actorId:null!=e?s(e,"actorId"):e,resource_type:null!=e?s(e,"model_type"):e,resource_id:null!=e?s(e,"model_id"):e},data:i,loc:{start:{line:1,column:0},end:{line:8,column:2}}}))+"\n\n"+(null!=(a=s(r,"if").call(l,null!=e?s(e,"show_spotlight"):e,{name:"if",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i,loc:{start:{line:10,column:0},end:{line:12,column:7}}}))?a:"")},useData:!0})},4078:function(t,e,n){var r=n(1).Lingua.t("Remove from Spotlight");t.exports=n(6).extend(n(70),{css:n(4079),className:"spotlightRemove sc-ir",tagName:"a",buttonLabels:{default:r},ModelClass:n(509),defaults:{stream_owner_id:null,isScButton:!1},states:{removing:"removing"},setup:function(){this.spotlight=new(n(2315))(null,{userId:this.options.stream_owner_id})},dispose:function(){this.spotlight.release(),delete this.spotlight},onClick:function(){n(4).get("me").id===this.options.stream_owner_id&&(this.toggleState("removing",!0),this.removeFromSpotlight())},removeFromSpotlight:function(){this.model.isSpotlight()&&this.spotlight.remove(this.model)}})},4079:function(t,e,n){var r=n(8),o=n(4080);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});t.exports=a},4080:function(t,e,n){var r=n(9),o=n(34),i=n(306);e=r(!1);var a=o(i);e.push([t.i,".spotlightRemove{background:transparent url("+a+") no-repeat 0 0;border:0;opacity:0;cursor:pointer;position:absolute;right:23px;top:22px;width:15px;height:15px;visibility:hidden;z-index:3}.spotlightRemove:active{-webkit-transform:translateY(1px);transform:translateY(1px)}.spotlightRemove.removing{-webkit-animation:g-rotate .8s linear infinite;animation:g-rotate .8s linear infinite}.editing .spotlightRemove{opacity:1;visibility:visible}",""]),t.exports=e},4081:function(t,e,n){var r=n(11);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,r,o,i){var a,l=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u=t.escapeExpression,c=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return u((n(5)||e&&c(e,"$view")||s).call(l,n(4082),{name:"$view",hash:{resource_id:null!=(a=null!=e?c(e,"_options"):e)?c(a,"resource_id"):a},data:i,loc:{start:{line:1,column:0},end:{line:1,column:65}}}))+'\n\n<h3 class="userstream__header">'+u((n(3)||e&&c(e,"$t")||s).call(l,"Recent",{name:"$t",hash:{},data:i,loc:{start:{line:3,column:31},end:{line:3,column:46}}}))+'</h3>\n<div class="userStream__list"></div>\n'},useData:!0})},4082:function(t,e,n){(function(e){t.exports=n(59).extend(n(515),n(403),{Subview:n(2871),css:[n(4083),n(2164)],template:n(4085),tagName:"div",className:"spotlight",listClassName:"spotlight__list soundList sc-list-nostyle",itemClassName:"spotlight__item soundList__item g-all-transitions-300",events:{"click .spotlight__upsellCTA":function(){var t=n(4).get("me");n(124).default.trackUserEvent("spotlight_edit_attempt",{creator_display_name:t.get("username"),creator_user_urn:t.getUrn()})}},states:{empty:"empty",full:"full",isMine:"isMine"},element2selector:{counter:".spotlight__counter",listContainer:".spotlight__listContainer"},defaults:{maxDisplay:5},editableObject:null,listSelector:".spotlight__list",listItemSelector:".spotlight__item",animations:{remove:{delay:0}},setup:function(){var t={userId:this.options.resource_id};this.collection=new(n(2315))(null,t),this.customUserAudiblesFilter=r.bind(null,this.collection),this.editableObject=this.collection,this.toggleState("isMine",n(4).get("me").id===this.options.resource_id)},renderDecorate:function(){n(59).prototype.renderDecorate.call(this),this.syncState(),this.subviews.userAudibleSearch&&this.subviews.userAudibleSearch.on("onItemSelected",this.addItem,this)},syncState:function(){if(this.getState("isMine")){var t=this.collection.length,e=this.collection.getMaxItemCount();this.toggleState("empty",0===t).toggleState("full",t===e&&this.getState("editing")).getElement("counter").text("("+[t,e].join("/")+")")}},addItem:function(t){var e="playlist"===t.get("kind"),r=new(n(509))({type:e?"playlist":"track",track:e?null:t.toJSON(),playlist:e?t.toJSON():null});r.release(),r.toggleSpotlight(!0),this.collection.add(r,{at:0})},onAddItem:function(){this.syncState(),this.collection.isEditing()&&(o(this,!1),o(this,!0))},onRemoveItem:function(){var t=this;n(0).delay((function(){return t.syncState()}),200)},onEditEnter:function(){this.syncState(),this.enableSorting(),o(this,!0)},onEditLeave:function(){this.disableSorting(),this.syncState(),o(this,!1)},getListContainer:function(){return this.getElement("listContainer")},getSubviewArgs:function(t){return{userStreamItem:t,userId:this.options.resource_id}},getTemplateData:function(){var t=this.getState("isMine"),e=n(4).get("me"),r=n(4).get("features").has("spotlight"),o=t&&!r&&e.getNumTracks()>=1,i=o&&e.getNumTracks()>=5,a=this.getModelsToRender().length||t&&r||o;return{userId:this.options.resource_id,customUserAudiblesFilter:this.customUserAudiblesFilter,showSpotlight:a,isMine:t,showUpsell:o,showUpsellBanner:i}}});function r(t,e){return t.every((function(t){return t.getAudible()!==e}))}function o(t,n){var r=t.$el,o="fakePlayButton",i="."+o;n?(r.find(".commentPlaceholder").hide(),r.find(".playButton").each((function(){e(this).hide().before('<span class="'+[this.className,o].join(" ")+'"></span>')}))):(r.find(i).remove(),r.find(".playButton").show(),r.find(".commentPlaceholder").show())}}).call(this,n(15))},4083:function(t,e,n){var r=n(8),o=n(4084);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});t.exports=a},4084:function(t,e,n){(e=n(9)(!1)).push([t.i,'.spotlight{position:relative}.spotlight__full{margin:0 0 10px;display:none}.spotlight__empty{margin:0;display:none;min-height:32px}.spotlight.empty .spotlight__empty,.spotlight.full .spotlight__full{display:block}.spotlight__mine{padding:0;margin-bottom:0;position:relative;height:0;transition:margin .3s,height .3s,padding .3s,margin .3s}.spotlight.empty .spotlight__mine{height:auto;padding:10px 0 20px}.spotlight__item{border:1px solid transparent;border-radius:5px;margin-bottom:0;padding:22px 0 13px;position:relative}.spotlight.full .spotlight__search,.spotlight__search{display:none}.spotlight.editing .spotlight__mine{height:auto;padding:10px 0 20px}.spotlight.editing .spotlight__empty{display:none}.spotlight.editing .spotlight__search{display:block}.spotlight.editing .spotlight__item{background-color:#fff;cursor:move;padding-left:22px;margin-left:-22px;padding-right:23px;margin-right:-23px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.spotlight.editing .spotlight__item:hover{border-color:#f2f2f2}.spotlight.editing .spotlight__item:after{content:"";position:absolute;left:0;top:0;right:0;bottom:0;z-index:2}.spotlight__list .sortable-placeholder{border:1px solid transparent;padding-top:10px;padding-bottom:25px}.spotlight.editing .spotlight__item .soundTitle__tag,.spotlight.editing .spotlight__item .soundTitle__uploadTime{display:none}.spotlight__upsellCTA{position:absolute;top:0;right:0;color:#fff}',""]),t.exports=e},4085:function(t,e,n){var r=n(11);t.exports=(r.default||r).template({1:function(t,e,r,o,i){var a,l=null!=e?e:t.nullContext||{},s=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"  "+t.escapeExpression((n(5)||e&&s(e,"$view")||t.hooks.helperMissing).call(l,n(4086),{name:"$view",hash:{resource_id:null!=e?s(e,"userId"):e},data:i,loc:{start:{line:2,column:2},end:{line:2,column:59}}}))+"\n"+(null!=(a=s(r,"if").call(l,null!=e?s(e,"isMine"):e,{name:"if",hash:{},fn:t.program(2,i,0),inverse:t.noop,data:i,loc:{start:{line:3,column:2},end:{line:18,column:9}}}))?a:"")+'  <div class="spotlight__listContainer"></div>\n  <span class="sc-border-light-top g-box-full"></span>\n'},2:function(t,e,r,o,i){var a,l=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u=t.escapeExpression,c=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return(null!=(a=c(r,"if").call(l,null!=e?c(e,"showUpsell"):e,{name:"if",hash:{},fn:t.program(3,i,0),inverse:t.noop,data:i,loc:{start:{line:4,column:4},end:{line:6,column:11}}}))?a:"")+'    <div class="spotlight__editButton">'+u((n(5)||e&&c(e,"$view")||s).call(l,n(4090),{name:"$view",hash:{showUpsell:null!=e?c(e,"showUpsell"):e,resource_id:null!=e?c(e,"userId"):e},data:i,loc:{start:{line:7,column:39},end:{line:7,column:117}}}))+"</div>\n"+(null!=(a=c(r,"if").call(l,null!=e?c(e,"showUpsellBanner"):e,{name:"if",hash:{},fn:t.program(5,i,0),inverse:t.noop,data:i,loc:{start:{line:8,column:4},end:{line:10,column:11}}}))?a:"")+'    <div class="spotlight__mine">\n      <p class="spotlight__empty">'+u((n(3)||e&&c(e,"$t")||s).call(l,"Highlight your best tracks and playlists: put them in Spotlight so that your audience will find them first when they visit your profile.",{name:"$t",hash:{},data:i,loc:{start:{line:12,column:34},end:{line:12,column:179}}}))+'</p>\n      <p class="spotlight__full sc-type-h3 sc-text-h3">'+u((n(3)||e&&c(e,"$t")||s).call(l,"Your Spotlight is full, with the maximum of five tracks or playlists. Take one or more of them out to showcase something else.",{name:"$t",hash:{},data:i,loc:{start:{line:13,column:55},end:{line:13,column:190}}}))+'</p>\n      <div class="spotlight__search">\n        '+u((n(5)||e&&c(e,"$view")||s).call(l,n(832),{name:"$view",hash:{customUserAudiblesFilter:null!=e?c(e,"customUserAudiblesFilter"):e,key:"userAudibleSearch"},data:i,loc:{start:{line:15,column:8},end:{line:15,column:124}}}))+"\n      </div>\n    </div>\n"},3:function(t,e,r,o,i){var a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'      <div class="spotlight__upsellCTA">'+t.escapeExpression((n(5)||e&&a(e,"$view")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},n(4095),{name:"$view",hash:{},data:i,loc:{start:{line:5,column:40},end:{line:5,column:86}}}))+"</div>\n"},5:function(t,e,r,o,i){var a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'      <div class="spotlight__upsellBanner">'+t.escapeExpression((n(5)||e&&a(e,"$view")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},n(4099),{name:"$view",hash:{},data:i,loc:{start:{line:9,column:43},end:{line:9,column:82}}}))+"</div>\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var i,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return null!=(i=a(n,"if").call(null!=e?e:t.nullContext||{},null!=e?a(e,"showSpotlight"):e,{name:"if",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o,loc:{start:{line:1,column:0},end:{line:21,column:7}}}))?i:""},useData:!0})},4086:function(t,e,n){t.exports=n(6).extend({css:n(4087),template:n(4089),className:"spotlightTitle",tagName:"h3",setup:function(t){this.collection=new(n(2315))(null,t)},onAdd:function(){this.rerender()},onRemove:function(){this.rerender()},getTemplateData:function(t){return t.isMe=this.options.resource_id===n(4).get("me").id,t.maxItems=this.collection.getMaxItemCount(),t.currentItems=this.collection.length,t}})},4087:function(t,e,n){var r=n(8),o=n(4088);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});t.exports=a},4088:function(t,e,n){(e=n(9)(!1)).push([t.i,".spotlightTitle{margin-bottom:20px;font-size:24px;font-weight:100}",""]),t.exports=e},4089:function(t,e,n){var r=n(11);t.exports=(r.default||r).template({1:function(t,e,r,o,i){var a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"  "+t.escapeExpression((n(3)||e&&a(e,"$t")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"Spotlight ([[currentItems]]/[[maxItems]])",{name:"$t",hash:{maxItems:null!=e?a(e,"maxItems"):e,currentItems:null!=e?a(e,"currentItems"):e},data:i,loc:{start:{line:2,column:2},end:{line:2,column:96}}}))+"\n"},3:function(t,e,r,o,i){var a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"  "+t.escapeExpression((n(3)||e&&a(e,"$t")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"Spotlight",{name:"$t",hash:{},data:i,loc:{start:{line:4,column:2},end:{line:4,column:20}}}))+"\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var i,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return null!=(i=a(n,"if").call(null!=e?e:t.nullContext||{},null!=e?a(e,"isMe"):e,{name:"if",hash:{},fn:t.program(1,o,0),inverse:t.program(3,o,0),data:o,loc:{start:{line:1,column:0},end:{line:5,column:7}}}))?i:""},useData:!0})},4090:function(t,e,n){t.exports=n(6).extend(n(515),n(107),{template:n(4091),css:n(4092),className:"editSpotlight sc-button-group",editableObject:null,enterEditingStateDefaults:{addNavigationBlock:!0},element2selector:{editButton:".editSpotlight__editButton",cancelButton:".editSpotlight__cancelButton",saveButton:".editSpotlight__saveButton"},events:function(){return this.options.showUpsell?{}:{"click .editSpotlight__editButton":"onEditButtonClick","click .editSpotlight__cancelButton":"onCancelButtonClick","click .editSpotlight__saveButton":"onSaveButtonClick"}},defaults:{buttonSize:"small",showUpsell:!1,dialogType:"genericProUpsell",dialogSelector:".editSpotlight__upsellButton"},dialogArgs:function(){var t=this.options.dialogSelector;return{togglerEl:this.$(t),subviewArgs:{text:n(1).Lingua.t("Get a Pro subscription to pin tracks and playlists to the top of your profile with Spotlight."),buttonText:n(1).Lingua.t("Learn more"),tcode:"t232"}}},setup:function(t){this.collection=new(n(2315))(null,t),this.editableObject=this.collection},getTemplateData:function(t){t.buttonSize=this.options.buttonSize},renderDecorate:function(){this.options.showUpsell||this.getElement("editButton").one("click",this.onFirstEditClick.bind(this))},onFirstEditClick:function(){var t=new(n(4094))(null,{userId:this.options.resource_id,limit:25}),e=new(n(765))(null,{resource_id:this.options.resource_id,playlists_for:"user",limit:25});t.fetch().always((function(){t.release()})),e.fetch().always((function(){e.release()}))},onEditLeave:function(){var t=this.collection,e=this.editableObject;if(e.isCanceling())t.resetOrder();else if(e.isSaving()){t.saveOrder();var r=n(4).get("me");n(124).default.trackUserEvent("add_a_track_to_spotlight",{creator_display_name:r.get("username"),creator_user_urn:r.getUrn()}),n(12).trackV1Click({click_name:"user::spotlight_saved",click_attributes:{user_subscription:n(4).get("me").getCreatorSubscriptionIdentifier()}})}}})},4091:function(t,e,n){var r=n(11);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,r,o,i){var a,l,s=null!=e?e:t.nullContext||{},u=t.hooks.helperMissing,c=t.escapeExpression,f=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<button type="button" class="editSpotlight__editButton sc-button sc-button-'+c("function"==typeof(l=null!=(l=f(r,"buttonSize")||(null!=e?f(e,"buttonSize"):e))?l:u)?l.call(s,{name:"buttonSize",hash:{},data:i,loc:{start:{line:1,column:75},end:{line:1,column:89}}}):l)+" sc-button-edit"+c((n(29)||e&&f(e,"$if")||u).call(s,null!=(a=null!=e?f(e,"_options"):e)?f(a,"showUpsell"):a," editSpotlight__upsellButton sc-button-disabled",{name:"$if",hash:{},data:i,loc:{start:{line:1,column:104},end:{line:1,column:181}}}))+'">'+c((n(3)||e&&f(e,"$t")||u).call(s,"Edit Spotlight",{name:"$t",hash:{},data:i,loc:{start:{line:1,column:183},end:{line:1,column:206}}}))+'</button>\n<button type="button" class="editSpotlight__cancelButton sc-button sc-button-nostyle sc-button-'+c("function"==typeof(l=null!=(l=f(r,"buttonSize")||(null!=e?f(e,"buttonSize"):e))?l:u)?l.call(s,{name:"buttonSize",hash:{},data:i,loc:{start:{line:2,column:95},end:{line:2,column:109}}}):l)+'">'+c((n(3)||e&&f(e,"$t")||u).call(s,"Cancel",{name:"$t",hash:{},data:i,loc:{start:{line:2,column:111},end:{line:2,column:126}}}))+'</button>\n<button type="button" class="editSpotlight__saveButton sc-button sc-button-'+c("function"==typeof(l=null!=(l=f(r,"buttonSize")||(null!=e?f(e,"buttonSize"):e))?l:u)?l.call(s,{name:"buttonSize",hash:{},data:i,loc:{start:{line:3,column:75},end:{line:3,column:89}}}):l)+' sc-button-cta sc-button-primary">'+c((n(3)||e&&f(e,"$t")||u).call(s,"Save",{name:"$t",hash:{},data:i,loc:{start:{line:3,column:123},end:{line:3,column:136}}}))+"</button>\n"},useData:!0})},4092:function(t,e,n){var r=n(8),o=n(4093);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});t.exports=a},4093:function(t,e,n){(e=n(9)(!1)).push([t.i,".editSpotlight{position:absolute;top:0;right:0}.editSpotlight .editSpotlight__editButton{margin-right:0}.editSpotlight.editing .editSpotlight__editButton,.editSpotlight__cancelButton,.editSpotlight__saveButton{display:none}.editSpotlight.editing .editSpotlight__cancelButton,.editSpotlight.editing .editSpotlight__saveButton{display:block}",""]),t.exports=e},4094:function(t,e,n){t.exports=n(40).extend({model:n(17),defaults:{limit:250},baseUrl:function(){return this.getEndpointUrl("userTracks",{id:this.options.userId})}})},4095:function(t,e,n){t.exports=n(6).extend(n(84).withOptions({type:"pro",elSelector:".spotlightUpsellButton"}),{css:n(4096),tagName:"button",className:"spotlightUpsellButton sc-button sc-button-small sc-button-edit-white sc-button-cta sc-button-primary",template:function(){return n(1).Lingua.t("Edit Spotlight")},getUpsellRef:function(){return"t282"}})},4096:function(t,e,n){var r=n(8),o=n(4097);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});t.exports=a},4097:function(t,e,n){var r=n(9),o=n(34),i=n(4098);e=r(!1);var a=o(i);e.push([t.i,".sc-button-edit-white{text-indent:19px}.sc-button-edit-white:before{background-image:url("+a+');background-size:12px 12px;content:"";display:block;position:absolute;background-repeat:no-repeat;background-position:50%;width:20px;height:20px;top:0;bottom:0;margin:auto 0;left:4px}',""]),t.exports=e},4098:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMyIgaGVpZ2h0PSIxMyIgdmlld0JveD0iMCAwIDEzIDEzIj4KICAgIDxwYXRoIGZpbGw9IiNGRkYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTEyLjcxOCAzLjYxbC04LjQ4NiA4LjQ4Ni0zLjUzNS43MDcuNzA3LTMuNTM1TDkuODg5Ljc4MmwyLjgyOSAyLjgyOXptLTIuMTIyLS43MDZsLS43MDctLjcwNy03LjA3MSA3LjA3LjcwNy43MDggNy4wNzEtNy4wNzF6Ii8+Cjwvc3ZnPgo="},4099:function(t,e,n){var r=new(n(60))("has-dismissed");t.exports=n(6).extend({css:n(4100),template:n(4102),events:{"click .spotlightUpsellBanner__closeButton":function(){r.set("spotlight-upsell-banner",{dismissed:!0}),this.toggleState("showSpotlightUpsellBanner",!1)}},states:{showSpotlightUpsellBanner:"showSpotlightUpsellBanner"},className:"spotlightUpsellBanner sc-font",setup:function(){if(this.toggleState("showSpotlightUpsellBanner",!o()),!o()){var t=n(4).get("me").getUrn(),e=n(0).pick(n(2224).findByKey("last12Months"),"from","to"),r=e.from,i=e.to;this.collection=new(n(2239))(null,{metric:"plays",by:"track",from:r,to:i,user:t,track:null,limit:1})}},getTemplateData:function(){var t=this.collection&&this.collection.first()&&this.collection.first().get("subject");return{artworkUrl:t&&t.artwork_url?n(44).urlFrom(t,200):n(4103)}}});function o(){var t=r.get("spotlight-upsell-banner");return t&&t.dismissed}},4100:function(t,e,n){var r=n(8),o=n(4101);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});t.exports=a},4101:function(t,e,n){(e=n(9)(!1)).push([t.i,".spotlightUpsellBanner__background{background:rgba(0,0,0,.8);padding:0 30px;margin:-1px -1px -1px 0;display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;-webkit-justify-content:center;justify-content:center}.spotlightUpsellBanner__artWork{width:160px;height:160px;padding:10px;-webkit-flex-shrink:0;flex-shrink:0}.spotlightUpsellBanner__header{font-size:24px;margin-bottom:16px;font-weight:300}.spotlightUpsellBanner__text{-webkit-flex:2;flex:2;margin-right:10px;font-size:14px;font-weight:300;line-height:1.57}.spotlightUpsellBanner__closeButton{position:absolute;right:0;top:60px;width:24px;height:24px;cursor:pointer;padding:0 8px}.spotlightUpsellBanner__closePath{fill:#fff}.spotlightUpsellBanner__button.g-button-premium{-webkit-flex:1;flex:1;font-size:16px}.spotlightUpsellBanner{display:none}.showSpotlightUpsellBanner.spotlightUpsellBanner{width:100%;display:-webkit-flex;display:flex;color:#fff;border:2px dashed #d6d6d6;height:180px}",""]),t.exports=e},4102:function(t,e,n){var r=n(11);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,r,o,i){var a,l=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u=t.escapeExpression,c=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<img class="spotlightUpsellBanner__artWork" src="'+u("function"==typeof(a=null!=(a=c(r,"artworkUrl")||(null!=e?c(e,"artworkUrl"):e))?a:s)?a.call(l,{name:"artworkUrl",hash:{},data:i,loc:{start:{line:1,column:49},end:{line:1,column:65}}}):a)+'">\n<div class="spotlightUpsellBanner__background">\n  <svg class="spotlightUpsellBanner__closeButton" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n    <g fill="none" fill-rule="evenodd">\n      <path class="spotlightUpsellBanner__closePath" fill-rule="nonzero" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>\n    </g>\n  </svg>\n\n  <div class="spotlightUpsellBanner__header">'+u((n(3)||e&&c(e,"$t")||s).call(l,"Get more plays with Spotlight",{name:"$t",hash:{},data:i,loc:{start:{line:9,column:45},end:{line:9,column:83}}}))+'</div>\n  <div class="g-flex-row-centered">\n    <div class="sc-font-light spotlightUpsellBanner__text">\n      '+u((n(3)||e&&c(e,"$t")||s).call(l,"SoundCloud Pro users who pin tracks to the top of their profiles get heard 10% more than those who don’t.",{name:"$t",hash:{},data:i,loc:{start:{line:12,column:6},end:{line:12,column:120}}}))+"\n    </div>\n    "+u((n(5)||e&&c(e,"$view")||s).call(l,n(763),{name:"$view",hash:{text:(n(3)||e&&c(e,"$t")||s).call(l,"Get Spotlight",{name:"$t",hash:{},data:i,loc:{start:{line:14,column:122},end:{line:14,column:142}}}),tcode:"t281",size:"large",className:"spotlightUpsellBanner__button"},data:i,loc:{start:{line:14,column:4},end:{line:14,column:144}}}))+"\n  </div>\n</div>\n"},useData:!0})},4103:function(t,e,n){t.exports=n.p+"assets/images/spotlight-upsell-fallback-cover-b8984aa7.jpg"},4104:function(t,e,n){var r=n(8),o=n(4105);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});t.exports=a},4105:function(t,e,n){(e=n(9)(!1)).push([t.i,".userstream__header{padding-top:22px;margin:12px 0 20px;font-size:24px;font-weight:100}",""]),t.exports=e},4106:function(t,e,n){t.exports=n(160).extend(n(221),{model:n(509),getSourceInfo:function(t){void 0===t&&(t=this.getAudioCursor());var e="tracks";t>=0&&(this.models[t].isSpotlight()&&(e="spotlight"));return{type:e,resourceId:this.options.resource_id||this.options.userId,resourceType:"user"}},setupSources:function(){var t=[new(n(772))(null,{userId:this.options.userId||this.options.resource_id})],e=n(33).getInstance({id:this.options.userId}),r=e&&e.hasSpotlightFeature();return(r||void 0===r)&&t.unshift(new(n(2315))(null,{userId:this.options.userId||this.options.resource_id})),t},audibleAt:function(t){var e=this.at(t);return e&&e.getAudible()}},{hashFn:function(t,e){return e.resource_id||e.userId}})},4107:function(t,e,n){t.exports=n(2334).extend({setup:function(t){var e=t._id;this.collection=new(n(4108))(null,{userId:e}),this.user=this.addDataSource(new(n(33))({id:e}),{requiredAttributes:["username"]}),t.showUploadFooter&&(this.EndOfListView=n(2259))}})},4108:function(t,e,n){t.exports=n(172).extend({model:n(17),defaults:{type:"popular_tracks"},baseUrl:function(){return this.getEndpointUrl("userToptracks",{id:this.options.userId})},parse:function(t){return t.collection}})},4109:function(t,e,n){t.exports=n(116).extend(n(289),{Subview:n(376),css:[n(2164),n(2158)],className:"soundList",itemClassName:"soundList__item",emptyTemplate:n(2160),defaults:{showEndView:!0},events:{"click .emptyNetworkPage__button > a":function(){n(12).trackUploadFunnel({chapter:"upload_button_user_profile"})}},user:null,setup:function(t){var e=t.resource_id;this.collection=new(n(4110))(null,{userId:e}),this.user=this.addDataSource(new(n(33))({id:e}),{requiredAttributes:["username"]})},getTemplateData:function(t){return this.user.isMe()?(t.message=n(1).Lingua.t("Seems a little quiet over here"),t.linkUrl=t.buttonUrl=n(22).getRoute("upload"),t.linkText=n(1).Lingua.t("Upload a track to share it with your followers."),t.buttonText=n(1).Lingua.t("Upload now")):t.message=n(1).Lingua.t("[[username]] hasn’t created any albums yet.",{username:this.user.get("username")}),t.emptyPageClass="emptyAlbums",t}})},4110:function(t,e,n){t.exports=n(172).extend({model:n(4111),defaults:{type:"albums"},baseUrl:function(){return this.getEndpointUrl("userAlbums",{id:this.options.userId})}})},4111:function(t,e,n){t.exports=n(50)},4112:function(t,e,n){t.exports=n(116).extend(n(289),n(37).withOptions("userReposts"),{className:"userReposts",Subview:n(2871),css:[n(2164),n(2158)],listClassName:"soundList sc-list-nostyle",itemClassName:"soundList__item",animations:{remove:{delay:0}},emptyTemplate:n(2160),defaults:{showEndView:!0},setup:function(t){var e=t.resource_id;this.collection=new(n(4113))(null,{userId:e}),this.user=this.addDataSource(new(n(33))({id:e}),{requiredAttributes:["username"]})},getTemplateData:function(t){return this.user.isMe()?(t.message=n(1).Lingua.t("You haven’t reposted any sounds."),t.linkUrl="https://help.soundcloud.com/hc/articles/115003567488-Reposting-tracks-or-playlists",t.linkExternal=!0,t.linkText=n(1).Lingua.t("Learn about reposts")):t.message=n(1).Lingua.t("[[username]] hasn’t reposted any sounds yet.",{username:this.user.get("username")}),t.emptyPageClass="emptyReposts",t},getSubviewArgs:function(t){return{userStreamItem:t,userId:this.options.resource_id}}})},4113:function(t,e,n){t.exports=n(172).extend(n(809),{defaults:{type:"reposts"},baseUrl:function(){return this.getEndpointUrl("streamUserReposts",{id:this.options.userId})}})},4114:function(t,e,n){var r=n(8),o=n(4115);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});t.exports=a},4115:function(t,e,n){(e=n(9)(!1)).push([t.i,".userMain__tabs{position:relative;margin-bottom:20px}",""]),t.exports=e},4116:function(t,e,n){function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}t.exports=n(505).extend(n(132).withOptions({names:[n(143).INSIGHTS_ROLLOUT]}),n(37).withOptions("userSidebar"),n(2380),{className:"userSidebar",ModelClass:n(33),defaults:{showLikes:!0,showComments:!0,targetOffsetTop:125},getModelData:function(){return{}},getTemplateData:function(){var t=this.model,e=n(4).get("me"),o=t.isMe(),i=!!e.id,a=this.options,l=a.showLikes,s=a.showComments,u=i&&n(143).hasUploads(),c=n(143).insightsSwitchedOn(),f=function(){return{resource_id:t.id}},h=l&&(!o||t.get("likes_count")),p=n(261).getQuotaInfo(e).isNearingQuota,d=this.getDirectSupportProfile();return{modules:n(0).compact([d&&[n(2381),r({},f(),{profile:d})],[n(4117),f()],o&&u&&!c&&[n(840),{}],o&&!e.hasUnlimitedUpload()&&p&&[n(766),{stretchedVersion:!1,ref:e.isOverQuota()?"t259":"t258"}],[n(4130),f()],h&&[n(844),f()],[n(4136),f()],i&&!o&&[n(4139),f()],[n(4141),f()],s&&[n(4143),f()],[n(787),{userName:t.get("username")}],[n(745)]]).map((function(t){return{ModuleView:t[0],args:t[1]}}))}},template:function(t){return n(27).children(t.modules.map((function(t){var e=t.args,r=t.ModuleView;return n(27).subview(r,e)})))}})},4117:function(t,e,n){t.exports=n(6).extend({tagName:"article",className:"infoStats",template:n(4118),css:n(4128),ModelClass:n(33),requiredAttributes:["description","followers_count","followings_count","track_count"],setup:function(){this.model.isMe()&&(this.meUser=this.addDataSource(new(n(118)),{observedAttributes:["private_tracks_count","blocked_tracks_count","hidden_tracks_count"]}))},getTemplateData:function(t){return t.trackCount=this.model.isMe()?this.meUser.getNumTracks():this.model.getNumTracks(),t}})},4118:function(t,e,n){var r=n(11);t.exports=(r.default||r).template({1:function(t,e,r,o,i){var a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'  <div class="infoStats__description">\n    '+t.escapeExpression((n(5)||e&&a(e,"$view")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},n(4119),{name:"$view",hash:{resource_id:null!=e?a(e,"id"):e},data:i,loc:{start:{line:25,column:4},end:{line:25,column:63}}}))+"\n  </div>\n"},compiler:[8,">= 4.3.0"],main:function(t,e,r,o,i){var a,l=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u=t.escapeExpression,c=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<table class="infoStats__table sc-type-small sc-text-small">\n  <tr>\n    <td class="infoStats__stat sc-link-light sc-link-secondary sc-border-light-right">\n      <a href="'+u((n(20)||e&&c(e,"$route")||s).call(l,"userNetwork",e,"followers",{name:"$route",hash:{},data:i,loc:{start:{line:4,column:15},end:{line:4,column:56}}}))+'" rel="nofollow" class="infoStats__statLink sc-link-light sc-link-secondary" title="'+u((n(498)||e&&c(e,"$tp")||s).call(l,null!=e?c(e,"followers_count"):e,"%d follower","%d followers",{name:"$tp",hash:{},data:i,loc:{start:{line:4,column:140},end:{line:4,column:192}}}))+'">\n        <h3 class="infoStats__title sc-font-light">'+u((n(3)||e&&c(e,"$t")||s).call(l,"Followers",{name:"$t",hash:{},data:i,loc:{start:{line:5,column:51},end:{line:5,column:69}}}))+'</h3>\n        <div class="infoStats__value sc-font-light">'+u((n(296)||e&&c(e,"$formatStatNumber")||s).call(l,null!=e?c(e,"followers_count"):e,{name:"$formatStatNumber",hash:{},data:i,loc:{start:{line:6,column:52},end:{line:6,column:89}}}))+'</div>\n      </a>\n    </td>\n    <td class="infoStats__stat sc-link-light sc-link-secondary sc-border-light-right">\n      <a href="'+u((n(20)||e&&c(e,"$route")||s).call(l,"userNetwork",e,"following",{name:"$route",hash:{},data:i,loc:{start:{line:10,column:15},end:{line:10,column:56}}}))+'" rel="nofollow" class="infoStats__statLink sc-link-light sc-link-secondary" title="'+u((n(498)||e&&c(e,"$tp")||s).call(l,null!=e?c(e,"followings_count"):e,"Following %d person","Following %d people",{name:"$tp",hash:{},data:i,loc:{start:{line:10,column:140},end:{line:10,column:208}}}))+'">\n        <h3 class="infoStats__title sc-font-light">'+u((n(3)||e&&c(e,"$t")||s).call(l,"Following",{name:"$t",hash:{},data:i,loc:{start:{line:11,column:51},end:{line:11,column:69}}}))+'</h3>\n        <div class="infoStats__value sc-font-light">'+u((n(296)||e&&c(e,"$formatStatNumber")||s).call(l,null!=e?c(e,"followings_count"):e,{name:"$formatStatNumber",hash:{},data:i,loc:{start:{line:12,column:52},end:{line:12,column:90}}}))+'</div>\n      </a>\n    </td>\n    <td class="infoStats__stat">\n      <a href="'+u((n(20)||e&&c(e,"$route")||s).call(l,"user",e,"tracks",{name:"$route",hash:{},data:i,loc:{start:{line:16,column:15},end:{line:16,column:46}}}))+'" rel="nofollow" class="infoStats__statLink sc-link-light sc-link-secondary" title="'+u((n(498)||e&&c(e,"$tp")||s).call(l,null!=e?c(e,"trackCount"):e,"%d track","%d tracks",{name:"$tp",hash:{},data:i,loc:{start:{line:16,column:130},end:{line:16,column:171}}}))+'">\n        <h3 class="infoStats__title sc-font-light">'+u((n(3)||e&&c(e,"$t")||s).call(l,"Tracks",{name:"$t",hash:{},data:i,loc:{start:{line:17,column:51},end:{line:17,column:66}}}))+'</h3>\n        <div class="infoStats__value sc-font-light">'+u((n(296)||e&&c(e,"$formatStatNumber")||s).call(l,null!=e?c(e,"trackCount"):e,{name:"$formatStatNumber",hash:{},data:i,loc:{start:{line:18,column:52},end:{line:18,column:84}}}))+"</div>\n      </a>\n    </td>\n  </tr>\n</table>\n"+(null!=(a=c(r,"if").call(l,null!=e?c(e,"description"):e,{name:"if",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i,loc:{start:{line:23,column:0},end:{line:27,column:7}}}))?a:"")+u((n(5)||e&&c(e,"$view")||s).call(l,n(4123),{name:"$view",hash:{resource_id:null!=e?c(e,"id"):e},data:i,loc:{start:{line:28,column:0},end:{line:28,column:50}}}))+"\n"},useData:!0})},4119:function(t,e,n){t.exports=n(6).extend(n(2250),{template:n(4120),css:n(4121),className:"truncatedUserDescription",ModelClass:n(33),requiredAttributes:["description"],states:{overflow:"m-overflow",collapsed:"m-collapsed"},element2selector:{wrapper:".truncatedUserDescription__wrapper",content:".truncatedUserDescription__content",showToggle:".truncatedUserDescription__collapse"},events:{"click .truncatedUserDescription__collapse":"onCollapseClick"},defaults:{height:85,collapsed:!0},onCollapseClick:function(t){t.preventDefault(),this.toggleCollapse(!this.getState("collapsed"))},renderDecorate:function(){this.toggleCollapse(this.options.collapsed),this.whenInserted().done(this.calculateOverflow.bind(this))},toggleCollapse:function(t){var e=t?n(1).Lingua.t("Show more"):n(1).Lingua.t("Show less");this.toggleState("collapsed",t),this.getElement("showToggle").toggleClass("collapsed",t).text(e),this.getElement("wrapper").css("max-height",t?this.options.height+"px":"")},calculateOverflow:function(){this.toggleState("overflow",this.getElement("content").height()>this.options.height)}})},4120:function(t,e,n){var r=n(11);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,r,o,i){var a=null!=e?e:t.nullContext||{},l=t.hooks.helperMissing,s=t.escapeExpression,u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div class="truncatedUserDescription__wrapper">\n  <div class="truncatedUserDescription__content">\n    '+s((n(5)||e&&u(e,"$view")||l).call(a,n(746),{name:"$view",hash:{usertext:!0,content:null!=e?u(e,"description"):e},data:i,loc:{start:{line:3,column:4},end:{line:3,column:69}}}))+'\n  </div>\n</div>\n<a class="truncatedUserDescription__collapse sc-link-dark sc-link-primary g-link-collapse collapsed" href="#">'+s((n(3)||e&&u(e,"$t")||l).call(a,"Show more",{name:"$t",hash:{},data:i,loc:{start:{line:6,column:110},end:{line:6,column:128}}}))+"</a>\n"},useData:!0})},4121:function(t,e,n){var r=n(8),o=n(4122);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});t.exports=a},4122:function(t,e,n){(e=n(9)(!1)).push([t.i,'.truncatedUserDescription__wrapper{overflow:hidden;position:relative}.truncatedUserDescription__collapse{margin-top:10px;display:none;outline:0}.truncatedUserDescription.m-overflow.m-collapsed .truncatedUserDescription__wrapper:after{content:" ";position:absolute;left:0;bottom:0;height:25px;width:100%;background:#fff;background:linear-gradient(hsla(0,0%,100%,0),#fff)}.truncatedUserDescription__collapse:after{border-width:4px}.truncatedUserDescription.m-overflow .truncatedUserDescription__collapse{display:block}',""]),t.exports=e},4123:function(t,e,n){t.exports=n(59).extend({Subview:n(4124),css:n(4126),className:"web-profiles",listClassName:"sc-list-nostyle sc-clearfix",itemClassName:"web-profiles__item",defaults:{maxDisplay:0},setup:function(){this.collection=new(n(508))(null,{userId:this.options.resource_id})},getModelsToRender:function(){return this.collection.getNonDirectSupportProfiles()}})},4124:function(t,e,n){t.exports=n(6).extend(n(2250).withOptions({clickName:"click::ext_icon",clickObject:function(){return n(23).generate("user",this.model.getUserId())}}),{template:n(4125),className:"sc-truncate",ModelClass:n(539),getTemplateData:function(t){var e=t.url,r=this.model,o=r.isEmail();return{url:o?"mailto:"+e:n(112).formatUserGeneratedLink(e),icon:r.getNetworkClassName(),label:r.getNetworkName(),openInNewWin:!o&&"soundcloud"!==r.get("network")}}})},4125:function(t,e,n){var r=n(11);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,r,o,i){var a,l,s=null!=e?e:t.nullContext||{},u=t.hooks.helperMissing,c=t.escapeExpression,f=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<a href="'+c("function"==typeof(l=null!=(l=f(r,"url")||(null!=e?f(e,"url"):e))?l:u)?l.call(s,{name:"url",hash:{},data:i,loc:{start:{line:1,column:9},end:{line:1,column:16}}}):l)+'" '+(null!=(a=(n(29)||e&&f(e,"$if")||u).call(s,null!=e?f(e,"openInNewWin"):e,'target="_blank"',{name:"$if",hash:{},data:i,loc:{start:{line:1,column:18},end:{line:1,column:58}}}))?a:"")+' rel="me nofollow ugc" class="web-profile sc-link-light sc-link-secondary sc-social-logo-interactive">\n  <span class="sc-social-logo sc-social-logo-'+c("function"==typeof(l=null!=(l=f(r,"icon")||(null!=e?f(e,"icon"):e))?l:u)?l.call(s,{name:"icon",hash:{},data:i,loc:{start:{line:2,column:45},end:{line:2,column:53}}}):l)+'"></span>\n  '+c("function"==typeof(l=null!=(l=f(r,"label")||(null!=e?f(e,"label"):e))?l:u)?l.call(s,{name:"label",hash:{},data:i,loc:{start:{line:3,column:2},end:{line:3,column:11}}}):l)+"\n</a>\n"},useData:!0})},4126:function(t,e,n){var r=n(8),o=n(4127);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});t.exports=a},4127:function(t,e,n){(e=n(9)(!1)).push([t.i,".web-profiles{font-size:12px}.web-profiles__item:not(:last-child){margin-bottom:5px}",""]),t.exports=e},4128:function(t,e,n){var r=n(8),o=n(4129);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});t.exports=a},4129:function(t,e,n){(e=n(9)(!1)).push([t.i,'.infoStats{margin-bottom:30px}.infoStats__table{width:100%;margin:0 0 14px}.infoStats__stat{width:33.33%;text-align:left;text-indent:10px}.infoStats__stat:first-child{text-indent:0}.infoStats__title{line-height:.9;padding:5px 0 3px;font-size:12px}.infoStats__statLink{display:block}.infoStats__value{font-size:20px;line-height:1.2;-webkit-font-feature-settings:"tnum";font-feature-settings:"tnum";font-variant-numeric:tabular-nums}.infoStats__description{margin-bottom:20px}',""]),t.exports=e},4130:function(t,e,n){t.exports=n(130).extend({title:n(1).Lingua.t("On tour"),Subview:n(4131),iconClassName:"songkick",moreText:n(1).Lingua.t("View all"),events:{"click .sidebarHeader":function(){n(12).trackV1Click({context:this.getContextData(),click_category:"sidebar_module",click_name:"clickthrough::view_all",click_target:this.collection.songkickUrl})}},setup:function(t){this.collection=new(n(2947))(null,{resource_id:t.resource_id}),this.moreLink=this.collection.songkickUrl},onCollectionReset:function(){this.moreLink=this.collection.songkickUrl,n(130).prototype.onCollectionReset.apply(this,arguments)},getCount:function(){return this.collection.hasDataForView()?this.collection.length:void 0}})},4131:function(t,e,n){(function(e){t.exports=n(6).extend(n(538),{template:n(4132),css:n(4133),className:"songkickDates",defaults:{resource_id:null},events:{"click .songkickDate__link":function(t){n(12).trackV1Click({context:this.getContextData(),click_category:"sidebar_module",click_name:"clickthrough::view_date",click_target:e(t.target).attr("href")})}},setup:function(t){this.collection=new(n(2947))(null,{resource_id:t.resource_id})},trackImpression:function(){n(12).trackImpression({context:this.getContextData(),impression_name:"tour_sidebar_module"})},getTemplateData:function(t){var e=parseInt(this.collection.songkickId,10);return{events:n(0).map(t,(function(t){var r,o=[],i=new Date,a=t.start.date.split("-").map((function(t){return parseInt(t,10)})),l=a[0],s=a[1]-1,u=a[2];return t.performance.forEach((function(t){t.artist.id!==e&&o.push(t.artist)})),o.length&&(r=function(t){return t.others?n(1).Lingua.tp("With [[[anchorStart]]][[artist]][[[anchorEnd]]] + %d other","With [[[anchorStart]]][[artist]][[[anchorEnd]]] + %d others",t.others,{anchorStart:'<a href="'+t.artist.uri+'" class="sc-link-light sc-link-secondary" target="_blank">',anchorEnd:"</a>",artist:t.artist.displayName}):n(1).Lingua.t("With [[[anchorStart]]][[artist]][[[anchorEnd]]]",{anchorStart:'<a href="'+t.artist.uri+'" class="sc-link-light sc-link-secondary" target="_blank">',anchorEnd:"</a>",artist:t.artist.displayName})}(o={artist:o[0],others:o.length-1||!1})),i.setFullYear(l,s,u),{uri:t.uri,title:t.displayName,date:n(13).LinguaLib.dateTimeHelper.format(i,"readable_with_weekday"),city:t.location.city,venue:t.venue.displayName,support:o,supportText:r}}))}}})}).call(this,n(15))},4132:function(t,e,n){var r=n(11);t.exports=(r.default||r).template({1:function(t,e,r,o,i){var a,l,s=null!=e?e:t.nullContext||{},u=t.hooks.helperMissing,c=t.escapeExpression,f="function",h=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'  <div class="songkickDate'+c((n(294)||e&&h(e,"$unless")||u).call(s,i&&h(i,"first")," sc-border-light-top",{name:"$unless",hash:{},data:i,loc:{start:{line:2,column:26},end:{line:2,column:67}}}))+'">\n    <a href="'+c(typeof(l=null!=(l=h(r,"uri")||(null!=e?h(e,"uri"):e))?l:u)===f?l.call(s,{name:"uri",hash:{},data:i,loc:{start:{line:3,column:13},end:{line:3,column:20}}}):l)+'" title="'+c(typeof(l=null!=(l=h(r,"title")||(null!=e?h(e,"title"):e))?l:u)===f?l.call(s,{name:"title",hash:{},data:i,loc:{start:{line:3,column:29},end:{line:3,column:38}}}):l)+'" class="songkickDate__link sc-link-dark sc-link-primary" target="_blank">\n      <h3>\n        <span class="songkickDate__date sc-type-light sc-text-secondary">'+c(typeof(l=null!=(l=h(r,"date")||(null!=e?h(e,"date"):e))?l:u)===f?l.call(s,{name:"date",hash:{},data:i,loc:{start:{line:5,column:73},end:{line:5,column:81}}}):l)+'</span>\n        <div class="songkickDate__title sc-truncate">'+c(typeof(l=null!=(l=h(r,"city")||(null!=e?h(e,"city"):e))?l:u)===f?l.call(s,{name:"city",hash:{},data:i,loc:{start:{line:6,column:53},end:{line:6,column:61}}}):l)+'</div>\n      </h3>\n      <div class="songkickDate__venue sc-text-light sc-text-secondary">'+c(typeof(l=null!=(l=h(r,"venue")||(null!=e?h(e,"venue"):e))?l:u)===f?l.call(s,{name:"venue",hash:{},data:i,loc:{start:{line:8,column:71},end:{line:8,column:80}}}):l)+"</div>\n    </a>\n"+(null!=(a=h(r,"if").call(s,null!=e?h(e,"support"):e,{name:"if",hash:{},fn:t.program(2,i,0),inverse:t.noop,data:i,loc:{start:{line:10,column:4},end:{line:16,column:11}}}))?a:"")+"  </div>\n"},2:function(t,e,n,r,o){var i,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'      <div class="sc-truncate songkickDate__support sc-text-light sc-text-secondary">\n'+(null!=(i=a(n,"if").call(null!=e?e:t.nullContext||{},null!=e?a(e,"supportText"):e,{name:"if",hash:{},fn:t.program(3,o,0),inverse:t.noop,data:o,loc:{start:{line:12,column:8},end:{line:14,column:15}}}))?i:"")+"      </div>\n"},3:function(t,e,n,r,o){var i,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"          "+t.escapeExpression("function"==typeof(i=null!=(i=a(n,"supportText")||(null!=e?a(e,"supportText"):e))?i:t.hooks.helperMissing)?i.call(null!=e?e:t.nullContext||{},{name:"supportText",hash:{},data:o,loc:{start:{line:13,column:10},end:{line:13,column:25}}}):i)+"\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var i,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return null!=(i=a(n,"each").call(null!=e?e:t.nullContext||{},null!=e?a(e,"events"):e,{name:"each",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o,loc:{start:{line:1,column:0},end:{line:18,column:9}}}))?i:""},useData:!0})},4133:function(t,e,n){var r=n(8),o=n(4134);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});t.exports=a},4134:function(t,e,n){(e=n(9)(!1)).push([t.i,".songkickDate{padding:10px 0}.songkickDate__link{display:block}.songkickDate__title{margin-bottom:3px}.songkickDate__date{margin-bottom:2px}",""]),t.exports=e},4135:function(t,e,n){t.exports=new(n(16))({_fetchDeferred:null,_webProfileCollection:null,defaults:{resource_id:null},applyTo:function(t){t.constructor.onCleanup=function(t){t._webProfileCollection.release()}},before:{setup:function(t){this._webProfileCollection=new(n(508))(null,{userId:t.resource_id})}},requires:["fetchServiceData"],override:{model:n(21).extend(),fetch:function(t){var e,r,o=this;return this._fetchDeferred||(this._fetchDeferred=n(7).defer().always((function(){o._fetchDeferred=null})),e=function(){o._fetchDeferred.resolve()},r=function(){o._fetchDeferred.resolve()},this._webProfileCollection.fetch(t).done((function(){o.fetchServiceData(t).done(e).fail(r)})).fail((function(){o._fetchDeferred.reject()}))),this._fetchDeferred}},resetFetch:function(){this.next_href=!1,this.lastFetchTime=Date.now(),this.reset([])}})},4136:function(t,e,n){t.exports=n(130).extend(n(37).withOptions("userRelatedArtists"),{title:n(1).Lingua.t("Fans also like"),moreText:n(1).Lingua.t("Refresh"),moreLink:"#",moreClassName:"refresh-ra",moduleClassName:"relatedArtistsModule",itemMinHeight:70.2,iconClassName:"following",Subview:n(4137),ModelClass:n(33),setup:function(){var t=this.model;this.subviewArgs={subviewName:"user-badge",subviewArgs:{noFollow:!0},UsersCollection:n(4138),usersCollectionArgs:{userId:t.id},maxDisplay:3}},events:{"click .refresh-ra":"onRefreshClick"},onRefreshClick:function(t){this.subviews.content.refresh(),t.preventDefault()}})},4137:function(t,e,n){t.exports=n(2176).extend({refresh:function(){this.collection.rotateItems({maxDisplay:this.options.maxDisplay})}})},4138:function(t,e,n){t.exports=n(172).extend({model:n(33),defaults:{limit:12,maxPageSize:12},baseUrl:function(){return this.getEndpointUrl("userRelatedArtists",{id:this.options.userId})},rotateItems:function(t){var e=t.maxDisplay,n=this.remove(this.first(e));this.add(n)}})},4139:function(t,e,n){t.exports=n(130).extend(n(37).withOptions("userFollowers"),{ModelClass:n(33),requiredAttributes:["followers_count"],iconClassName:"user",moduleClassName:"followersModule",moreText:n(1).Lingua.t("View all"),contentMinHeight:60,Subview:n(2176),countableAttribute:"followers_count",titleWithCount:function(t){return n(1).Lingua.tp("[[count]] follower","[[count]] followers",t,{count:n(145).render(t,{useSIUnits:!0})},{context:"sidebar"})},setup:function(){this.noFollow=!0,this.moreLink=n(22).getRoute(n(4).get("me").owns(this.model)?"youNetwork":"userNetwork",this.model,"followers"),this.subviewArgs={subviewArgs:{noFollow:!0},maxDisplay:9,floating:!0,UsersCollection:n(4140),usersCollectionArgs:{userId:this.model.id,limit:9},subviewName:"user-avatar-badge-hover"}}})},4140:function(t,e,n){t.exports=n(160).extend({model:n(33),defaults:{userId:null},setupSources:function(){var t=this.options.userId;return[new(n(2948))(null,{userId:t}),new(n(2167))(null,{userId:t})]}},{hashFn:n(2948).hashFn})},4141:function(t,e,n){t.exports=n(130).extend(n(37).withOptions("userFollowings"),{moreText:n(1).Lingua.t("View all"),title:n(1).Lingua.t("Following"),moduleClassName:"followingsModule",itemMinHeight:70.2,iconClassName:"following",Subview:n(2176),ModelClass:n(33),requiredAttributes:["followings_count"],countableAttribute:"followings_count",titleWithCount:function(t){return n(1).Lingua.tp("[[count]] following","[[count]] following",t,{count:n(145).render(t,{useSIUnits:!0})},{context:"sidebar"})},setup:function(){var t=this.model,e=!t.isMe()&&n(18).isLoggedIn()?n(4142):n(2169);this.noFollow=!0,this.subviewArgs={subviewName:"user-badge",subviewArgs:{noFollow:!0},UsersCollection:e,usersCollectionArgs:{userId:t.id},maxDisplay:3},this.moreLink=n(22).getRoute("userNetwork",t,"following")}})},4142:function(t,e,n){t.exports=n(2169).extend({baseUrl:function(){return this.getEndpointUrl("userFollowingsNotFollowedBy",{id:this.options.userId,not_followed_by:n(4).get("me").id})}})},4143:function(t,e,n){t.exports=n(130).extend(n(37).withOptions("userComments"),{iconClassName:"comment",moduleClassName:"commentsModule",moreText:n(1).Lingua.t("View all"),noFollow:!0,title:n(1).Lingua.t("Comments"),itemMinHeight:53,Subview:n(4144),ModelClass:n(33),requiredAttributes:["comments_count"],countableAttribute:"comments_count",titleWithCount:function(t){return n(1).Lingua.tp("[[count]] comment","[[count]] comments",t,{count:n(145).render(t,{useSIUnits:!0})},{context:"sidebar"})},setup:function(){this.moreLink=n(22).getRoute("userNetwork",this.model,"comments")}})},4144:function(t,e,n){t.exports=n(59).extend({Subview:n(2863),css:n(4145),className:"commentBadgeList",itemClassName:"commentBadgeList__item sc-border-light-top",setup:function(){this.collection=new(n(2869))(null,{userId:this.options.resource_id,limit:3})}})},4145:function(t,e,n){var r=n(8),o=n(4146);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});t.exports=a},4146:function(t,e,n){(e=n(9)(!1)).push([t.i,".commentBadgeList__item{padding:10px 0}.commentBadgeList__item:first-child{border-top:0}",""]),t.exports=e},494:function(t,e,n){t.exports=n(21).extend({resource_type:"stats-totals",baseUrl:function(){var t=this.options;var e=t.user,n=t.track,r={user_urn:e,track_urn:n,metric:t.singleMetric};return n?this.getEndpointUrl("totalsTrackStats",r):this.getEndpointUrl("totalsUserStats",r)},fetch:function(t){var e=this.options,r=e.from,o=e.to;return r&&o&&(t=n(0).assign({data:{from:+r,to:+o}},t)),n(21).prototype.fetch.call(this,t)},parse:function(t){return t&&t.period||t}},{hashFn:function(t,e){return void 0===e&&(e={}),[e.singleMetric,+e.from,+e.to,e.track].map(r).join("_")}});function r(t){return t||""}},741:function(t,e,n){var r=t.exports=n(495).extend({defaults:{type:"track_likes"},baseUrl:function(){return this.getEndpointUrl("userTrackLikes",{id:this.options.userId})},acceptsType:function(t){return"sound"===t}});n(738).applyTo(r,{fields:["track.title","track.genre","track.tag_list","track.user.username","track.user.full_name","track.user.permalink"],mixins:[n(221)],protoProps:{defaults:{type:"track_likes"}}})},752:function(t,e,n){t.exports={likingOnboarding:{viewType:"callout",shouldDisplay:function(){return n(18).isLoggedIn()}},likeSystemPlaylistsOnboarding:{viewType:"callout",shouldDisplay:function(){return n(18).isLoggedIn()}},monetizeTracks:{viewType:"callout",viewOptions:{title:n(1).Lingua.t("Monetize all your tracks!"),body:n(1).Lingua.t("Select all the tracks you want to monetize and hit this button.")},shouldDisplay:function(){return n(18).isLoggedIn()&&n(4).get("me").isIndiePartner()}},masteringOnboarding:{viewType:"callout",viewOptions:{title:n(1).Lingua.t("Mastering on SoundCloud, powered by Dolby"),body:n(1).Lingua.t("Master your track directly on SoundCloud so it’s ready for streaming playback wherever it goes.")},shouldDisplay:function(){return n(18).isLoggedIn()}},verifiedBadge:{viewType:"callout",viewOptions:{title:n(1).Lingua.t("Congratulations, you’re verified"),body:n(1).Lingua.t("You'll now see a blue checkmark next to your display name. We can't wait to hear more from you on SoundCloud."),delay:500},shouldDisplay:function(){return n(18).isLoggedIn()}}}},888:function(t,e,n){t.exports=n(288).extend(n(2215).withOptions({sensitiveElements:[].concat(n(199).baseSensitiveElements,[".soundTitle",".userBadge",".profileHeader__info",".l-user-sidebar-right",".sound__artwork",".sound__trackList"]),isAllowedToRecord:function(){var t=n(26).parse(window.location.href).path;return n(18).isLoggedIn()&&1===t.indexOf(n(4).get("me").attributes.permalink)&&n(199).userCanBeRecorded()}}),{css:[n(778),n(4010)],template:n(4012),tracking:{pageName:function(){var t=this.args,e=t.subpage;return(n(4).get("me").hasPermalink(t.userPermalink)?"you":"users")+":"+("sets"===e?"playlists":e||"main")},pageUrn:function(){return this.user.getUrn()}},setup:function(t){var e=this,o=t.userPermalink,i=t.subpage||"all",a=n(7).defer();return"you"===o&&n(4).get("router").navigateToRoute("user",[n(4).get("me")],{replace:!0}),n(33).resolve(o).done((function(t){e.user=t;var o=n(520).getTitleDisplayName(t.get("first_name"),t.get("last_name"),t.get("username"));e.setTitle(n(1).Lingua.t("[[[username]]] | Free Listening on SoundCloud",{username:o}),{withoutSuffix:!0});var l={resource_id:t.id,subpage:i};r.call(e,l,t,a)})).fail(a.reject).fail(n(197).ajaxFatal(n(740).USER_NOT_FOUND)),a}});function r(t,e,r){var o=function(){return{resource_id:t.resource_id}};this.setViews({"l-banner":[n(4013),o()],"l-user-hero":[n(4018),o()],"l-vertical-bar":[n(4045),n(0).clone(t)],"l-main":[n(4070),n(0).defaults({playQueuePriority:1},t)],"l-sidebar-right":[n(4116),o()]}).done(r.resolve).done((function(){return n(10).trigger("tracking:userLayout",{user:e})}))}}}]);
//# sourceMappingURL=http://ent/web-sourcemaps/45-6212550e.js.map